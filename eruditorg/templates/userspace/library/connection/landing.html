{% extends "userspace/library/base.html" %}
{% load i18n %}

{% block body_id %}connection{% endblock body_id %}
{% block data_controller %}userspace:library:connection:landing{% endblock data_controller %}

{% block title %}{% trans "Paramètres de connexion" %} {{ block.super }}{% endblock title %}

{% block breadcrumb %}{{ block.super }}
<li><a href="{% url 'userspace:library:stats:landing' organisation_pk=scope_current_organisation.pk %}">{% trans "Paramètres de connexion" %}</a></li>
{% endblock breadcrumb %}

{% block section_title %}
{% trans "Paramètres de connexion" %}
{% endblock %}

{% block section_intro %}
{% blocktrans %}
<p>Vous trouverez dans cette section les paramètres de connexion nécessaires à la configuration de vos outils pour l’utilisation des protocoles SUSHI et Z39.50&nbsp;/ SRU/SRW en lien avec les ressources d’Érudit.</p>
{% endblocktrans %}
{% endblock section_intro %}

{% block content_main %}
<section>
  <h2>{% trans "Z39.50&nbsp;/ SRU/SRW" %}</h2>
  <div class="row">
    <div class="col-md-7">
      <p>{% trans "Utilisez les paramètres de connexion ci-dessous pour interroger notre moteur de recherche via le protocole Z39.50. Nous supportons actuellement les requêtes dans les 7 champs suivants&nbsp;: titre, sujet, auteur, éditeur, année de publication, ISBN, ISSN (ISSN papier seulement)." %}</p>
    </div>
  </div>

  <div class="glory">
    {% if has_legacy_profile %}
    <dl class="row index-card">
      <dt class="col-sm-6">{% trans "Serveur" %}</dt>
      <dd class="col-sm-6">
        <span class="hint--top hint--no-animate" data-hint="{% blocktrans %}Cliquez pour copier cette information.{% endblocktrans %}">
          <span data-clipboard-text="{{ z3950_host }}" class="clipboard-data">
            <span class="ion-ios-copy-outline clipboard-icon"></span>
            {{ z3950_host }}
            <span class="clipboard-msg clipboard-success">{% trans "copié" %}</span>
            <span class="clipboard-msg clipboard-error">{% trans "une erreur s’est produite" %}</span>
          </span>
        </span>
      </dd>

      <dt class="col-sm-6">{% trans "Port" %}</dt>
      <dd class="col-sm-6">
        <span class="hint--top hint--no-animate" data-hint="{% blocktrans %}Cliquez pour copier cette information.{% endblocktrans %}">
          <span data-clipboard-text="{{ z3950_port }}" class="clipboard-data">
            <span class="ion-ios-copy-outline clipboard-icon"></span>
            {{ z3950_port }}
            <span class="clipboard-msg clipboard-success">{% trans "copié" %}</span>
            <span class="clipboard-msg clipboard-error">{% trans "une erreur s’est produite" %}</span>
          </span>
        </span>
      </dd>

      <dt class="col-sm-6">{% trans "Base de données" %} </dt>
      <dd class="col-sm-6">
        <span class="hint--top hint--no-animate" data-hint="{% blocktrans %}Cliquez pour copier cette information.{% endblocktrans %}">
          <span data-clipboard-text="{{ z3950_database }}" class="clipboard-data">
            <span class="ion-ios-copy-outline clipboard-icon"></span>
            {{ z3950_database }}
            <span class="clipboard-msg clipboard-success">{% trans "copié" %}</span>
            <span class="clipboard-msg clipboard-error">{% trans "une erreur s’est produite" %}</span>
          </span>
        </span>
      </dd>
    </dl>
    {% else %}
      {% blocktrans with organisation=scope_current_organisation.name %}
      <p>Vous n’avez aucun compte. Veuillez nous contacter par courriel à l’adresse <a href="mailto:client@erudit.org?subject=Aucun%20compte%20Z39.50%20–%20{{ organisation }}">client@erudit.org</a>.</p>
      {% endblocktrans %}
    {% endif %}
  </div>
</section>
{% endblock content_main %}
