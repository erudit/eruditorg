!function(t){var e={};function i(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(o,a,function(e){return t[e]}.bind(null,a));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=68)}({0:function(t,e,i){"use strict";e.a=class{constructor(t){this.controllers=void 0===t?{}:t}execAction(t,e){""!==t&&this.controllers[t]&&"function"==typeof this.controllers[t][e]&&this.controllers[t][e]()}init(){if(document.body){var t=document.body,e=t.getAttribute("data-controller"),i=t.getAttribute("data-action");e&&(this.execAction(e,"init"),this.execAction(e,i))}}}},3:function(t,e,i){"use strict";e.a=class{constructor(t={}){this.options=Object.assign({documentAddDataAttribute:"citation-save",documentRemoveDataAttribute:"citation-remove",documentButtonSelector:"[data-citation-list-button]",documentIdDataAttribute:"document-id",documentIsSavedDataAttribute:"is-in-citation-list"},t),this.addButtonSelector="[data-"+this.options.documentAddDataAttribute+"]",this.removeButtonSelector="[data-"+this.options.documentRemoveDataAttribute+"]"}save(t){let e=t.data(this.options.documentIdDataAttribute),i=t.attr("id");$.ajax({type:"POST",url:Urls["public:citations:add_citation"](),data:{document_id:e}}).done(()=>{t.data(this.options.documentIsSavedDataAttribute,!0),$("[data-"+this.options.documentAddDataAttribute+'="#'+i+'"]').hide(),$("[data-"+this.options.documentRemoveDataAttribute+'="#'+i+'"]').show()})}remove(t){let e=t.data(this.options.documentIdDataAttribute),i=t.attr("id");$.ajax({type:"POST",url:Urls["public:citations:remove_citation"](),data:{document_id:e}}).done(()=>{t.data(this.options.documentIsSavedDataAttribute,!1),$("[data-"+this.options.documentAddDataAttribute+'="#'+i+'"]').show(),$("[data-"+this.options.documentRemoveDataAttribute+'="#'+i+'"]').hide()})}init(){$(this.addButtonSelector).on("click",t=>{var e=$($(t.currentTarget).data(this.options.documentAddDataAttribute));this.save(e),t.preventDefault()}),$(this.removeButtonSelector).on("click",t=>{var e=$($(t.currentTarget).data(this.options.documentRemoveDataAttribute));this.remove(e),t.preventDefault()}),$("[data-"+this.options.documentIdDataAttribute+"]").each((t,e)=>{let i=$(e).attr("id");1==$(e).data(this.options.documentIsSavedDataAttribute)?($("[data-"+this.options.documentAddDataAttribute+'="#'+i+'"]').hide(),$("[data-"+this.options.documentRemoveDataAttribute+'="#'+i+'"]').show()):($("[data-"+this.options.documentAddDataAttribute+'="#'+i+'"]').show(),$("[data-"+this.options.documentRemoveDataAttribute+'="#'+i+'"]').hide())})}}},4:function(t,e,i){"use strict";e.a=class{constructor(t){t.magnificPopup({mainClass:"mfp-fade",removalDelay:750,type:"ajax",closeOnBgClick:!0,closeBtnInside:!0,items:{src:t.data("modal-id"),type:"inline"}})}}},68:function(t,e,i){i(89),t.exports=i(69)},69:function(t,e,i){},7:function(t,e,i){"use strict";var o=i(4);var a={facebook:function(t,e){var i={t:e,u:encodeURI(t)},o="https://www.facebook.com/sharer/sharer.php?"+$.param(i),a=($(window).width()-575)/2,n="status=1,width=575,height=400,top="+($(window).height()-400)/2+",left="+a;window.open(o,"facebook",n)},twitter:function(t,e){var i={text:e,url:encodeURI(t)},o="https://twitter.com/intent/tweet?"+$.param(i),a=($(window).width()-575)/2,n="status=1,width=575,height=400,top="+($(window).height()-400)/2+",left="+a;window.open(o,"twitter",n)},linkedin:function(t,e){var i={mini:!0,title:e,url:encodeURI(t),summary:"",source:""},o="https://www.linkedin.com/shareArticle?"+$.param(i),a=($(window).width()-575)/2,n="status=1,width=575,height=400,top="+($(window).height()-400)/2+",left="+a;window.open(o,"linkedin",n)},email:function(t,e,i){var o="mailto:?subject=Érudit%20–%20"+encodeURIComponent(e.replace(/^\s+|\s+$/g,""))+"&body="+encodeURIComponent((i.replace(/^\s+|\s+$/g,"")||"")+"\n\n"+t);document.location.href=o}};var n=class{constructor(t){this.el=t,this.title=t.data("title")||document.title,this.title=this.title.replace(/\s+/g," "),this.url=t.data("share-url")||window.location.href,this.citation_text=$(t.data("cite")).text().replace(/\s+/g," "),this.init()}init(){this.el.magnificPopup({mainClass:"mfp-fade",removalDelay:750,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!1,items:{src:'<div class="modal share-modal col-lg-3 col-md-5 col-sm-6 col-xs-12 col-centered">                <div class="panel">                  <header class="panel-heading">                    <h2 class="h4 panel-title text-center">'+gettext("Partager ce document")+'</h2>                  </header>                  <div class="panel-body share-modal--body">                    <ul class="unstyled">                      <li><button id="share-email" class="btn btn-primary btn-block"><i class="icon ion-ios-mail"></i> '+gettext("Courriel")+'</button></li>                      <li><button id="share-twitter" class="btn btn-primary btn-block"><i class="icon ion-logo-twitter"></i> Twitter</button></li>                      <li><button id="share-facebook" class="btn btn-primary btn-block"><i class="icon ion-logo-facebook"></i> Facebook</button></li>                      <li><button id="share-linkedin" class="btn btn-primary btn-block"><i class="icon ion-logo-linkedin"></i> LinkedIn</button></li>                    </ul>                  </div>                </div>              </div>',type:"inline"},callbacks:{open:()=>{var t=$($.magnificPopup.instance.content);t.on("click","#share-email",t=>(t.preventDefault(),a.email(this.url,this.title,this.citation_text.replace(/(\r\n|\n|\r)/gm,"")),!1)),t.on("click","#share-twitter",t=>(t.preventDefault(),a.twitter(this.url),!1)),t.on("click","#share-facebook",t=>(t.preventDefault(),a.facebook(this.url,this.title),!1)),t.on("click","#share-linkedin",t=>(t.preventDefault(),a.linkedin(this.url,this.title),!1))},close:()=>{$($.magnificPopup.instance.content).off("click")}}})}};e.a=class{constructor(t){this.el=t,this.init()}init(){this.el.on("click",".tool-download",this.download),this.citation=new o.a(this.el.find(".tool-cite")),this.share=new n(this.el.find(".tool-share"))}download(t){return t.preventDefault(),window.open($(this).data("href")),!1}}},89:function(t,e,i){"use strict";i.r(e);var o=i(0),a=i(3),n=i(7),s={init(){let t=$("#id_search_results_metadata");this.toolbox(),this.saved_citations=new a.a,this.saved_citations.init(),$("#id_save_search").click((function(e){let i=$("form#id-search");$.ajax({type:"POST",url:Urls["public:search:add_search"](),data:{querystring:i.serialize(),results_count:t.data("results-count")}}).done((function(){$("#id_save_search").addClass("disabled"),$("#id_save_search").text(gettext("Résultats sauvegardés !"))})),e.preventDefault()})),$("#id_page_size,#id_sort_by").change((function(t){let e=$("form#id-search");window.location.href="?"+e.serialize()}))},toolbox(){$("#search-results .result .toolbox").each((function(){new n.a($(this))}))}};$(document).ready((function(){new o.a({"public:search:results":s}).init()}))}});