!function(t){var e={};function n(i){if(e[i])return e[i].exports;var c=e[i]={i:i,l:!1,exports:{}};return t[i].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)n.d(i,c,function(e){return t[e]}.bind(null,c));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=392)}({1:function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controllers=void 0===e?{}:e}var e,n,c;return e=t,(n=[{key:"execAction",value:function(t,e){""!==t&&this.controllers[t]&&"function"==typeof this.controllers[t][e]&&this.controllers[t][e]()}},{key:"init",value:function(){if(document.body){var t=document.body,e=t.getAttribute("data-controller"),n=t.getAttribute("data-action");e&&(this.execAction(e,"init"),this.execAction(e,n))}}}])&&i(e.prototype,n),c&&i(e,c),t}();e.a=c},32:function(t,e,n){"use strict";e.a=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.magnificPopup({mainClass:"mfp-fade",removalDelay:750,type:"ajax",closeOnBgClick:!0,closeBtnInside:!0,items:{src:e.data("modal-id"),type:"inline"}})}},392:function(t,e,n){n(402),t.exports=n(393)},393:function(t,e,n){},402:function(t,e,n){"use strict";n.r(e);var i=n(1),c=n(32),o={init:function(){function t(){var t=$("#citations_list .bib-records .checkbox input[type=checkbox]:checked").length,e={count:t},n=ngettext("%(count)s document sélectionné","%(count)s documents sélectionnés",e.count),i=interpolate(n,e,!0);$(".saved-citations strong").text(i),t?$("#id_selection_tools").show():$("#id_selection_tools").hide()}function e(t){var e=t.data("document-type"),n=$("[data-"+e+"-count]"),i=parseInt(n.data(e+"-count"));if(i-=1){var c={count:i},o=void 0;"scientific-article"===e?o=ngettext("%(count)s article savant","%(count)s articles savants",c.count):"cultural-article"===e?o=ngettext("%(count)s article culturel","%(count)s articles culturels",c.count):"thesis"===e&&(o=ngettext("%(count)s thèse","%(count)s thèses",c.count));var r=interpolate(o,c,!0);n.text(r),n.data(e+"-count",i)}else n.remove()}function n(){var t=new Array;return $("#citations_list .bib-records .checkbox input[type=checkbox]:checked").each((function(){var e=$(this).parents("li.bib-record");t.push(e.data("document-id"))})),t}$(".documents-head input[type=checkbox]").on("change",(function(t){$(this).is(":checked")?$("#citations_list .bib-records .checkbox input[type=checkbox]").each((function(){$(this).prop("checked",!0)})):$("#citations_list .bib-records .checkbox input[type=checkbox]").each((function(){$(this).prop("checked",!1)})),$("#citations_list .bib-records .checkbox input[type=checkbox]").change()})),$("#citations_list .bib-records .checkbox input[type=checkbox]").on("change",t),$("a[data-remove]").click((function(n){n.preventDefault(),function(n){var i=n.data("document-id");$.ajax({type:"POST",url:Urls["public:citations:remove_citation"](),data:{document_id:i}}).done((function(){n.remove(),t(),e(n)}))}($(this).parents("li.bib-record"))})),$("#id_selection_tools a.remove-selection").click((function(i){if(i.preventDefault(),0!=confirm(gettext("Voulez-vous vraiment supprimer votre sélection ?"))){var c=n();$.ajax({type:"POST",url:Urls["public:citations:remove_citation_batch"](),data:{document_ids:c},traditional:!0}).done((function(){$("#citations_list .bib-records .checkbox input[type=checkbox]:checked").each((function(){var n=$(this).parents("li.bib-record");e(n),n.remove(),t()}))}))}})),$("#export_citation_enw").click((function(t){t.preventDefault();var e=n(),i=Urls["public:citations:citation_enw"]()+"?"+$.param({document_ids:e},!0);window.location.href=i})),$("#export_citation_ris").click((function(t){t.preventDefault();var e=n(),i=Urls["public:citations:citation_ris"]()+"?"+$.param({document_ids:e},!0);window.location.href=i})),$("#export_citation_bib").click((function(t){t.preventDefault();var e=n(),i=Urls["public:citations:citation_bib"]()+"?"+$.param({document_ids:e},!0);window.location.href=i})),$("a[data-cite]").each((function(){new c.a($(this))}))}};$(document).ready((function(){new i.a({"public:citations:list":o}).init()}))}});