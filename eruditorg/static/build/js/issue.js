!function(t){var e={};function o(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=e,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(i,a,function(e){return t[e]}.bind(null,a));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=77)}({0:function(t,e,o){"use strict";e.a=class{constructor(t){this.controllers=void 0===t?{}:t}execAction(t,e){""!==t&&this.controllers[t]&&"function"==typeof this.controllers[t][e]&&this.controllers[t][e]()}init(){if(document.body){var t=document.body,e=t.getAttribute("data-controller"),o=t.getAttribute("data-action");e&&(this.execAction(e,"init"),this.execAction(e,o))}}}},3:function(t,e,o){"use strict";e.a=class{constructor(t={}){this.options=Object.assign({documentAddDataAttribute:"citation-save",documentRemoveDataAttribute:"citation-remove",documentButtonSelector:"[data-citation-list-button]",documentIdDataAttribute:"document-id",documentIsSavedDataAttribute:"is-in-citation-list"},t),this.addButtonSelector="[data-"+this.options.documentAddDataAttribute+"]",this.removeButtonSelector="[data-"+this.options.documentRemoveDataAttribute+"]"}save(t){let e=t.data(this.options.documentIdDataAttribute),o=t.attr("id");$.ajax({type:"POST",url:Urls["public:citations:add_citation"](),data:{document_id:e}}).done(()=>{t.data(this.options.documentIsSavedDataAttribute,!0),$("[data-"+this.options.documentAddDataAttribute+'="#'+o+'"]').hide(),$("[data-"+this.options.documentRemoveDataAttribute+'="#'+o+'"]').show()})}remove(t){let e=t.data(this.options.documentIdDataAttribute),o=t.attr("id");$.ajax({type:"POST",url:Urls["public:citations:remove_citation"](),data:{document_id:e}}).done(()=>{t.data(this.options.documentIsSavedDataAttribute,!1),$("[data-"+this.options.documentAddDataAttribute+'="#'+o+'"]').show(),$("[data-"+this.options.documentRemoveDataAttribute+'="#'+o+'"]').hide()})}init(){$(this.addButtonSelector).on("click",t=>{var e=$($(t.currentTarget).data(this.options.documentAddDataAttribute));this.save(e),t.preventDefault()}),$(this.removeButtonSelector).on("click",t=>{var e=$($(t.currentTarget).data(this.options.documentRemoveDataAttribute));this.remove(e),t.preventDefault()}),$("[data-"+this.options.documentIdDataAttribute+"]").each((t,e)=>{let o=$(e).attr("id");1==$(e).data(this.options.documentIsSavedDataAttribute)?($("[data-"+this.options.documentAddDataAttribute+'="#'+o+'"]').hide(),$("[data-"+this.options.documentRemoveDataAttribute+'="#'+o+'"]').show()):($("[data-"+this.options.documentAddDataAttribute+'="#'+o+'"]').show(),$("[data-"+this.options.documentRemoveDataAttribute+'="#'+o+'"]').hide())})}}},77:function(t,e,o){o(99),t.exports=o(78)},78:function(t,e,o){},99:function(t,e,o){"use strict";o.r(e);var i=o(0),a=o(3),n={init:function(){this.saved_citations=new a.a,this.saved_citations.init()}};$(document).ready((function(){new i.a({"public:journal:issue_detail":n}).init()}))}});