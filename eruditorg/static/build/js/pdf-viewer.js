"use strict";function getFileName(e){var t=e.indexOf("#"),n=e.indexOf("?"),i=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",i)+1,i)}function getOutputScale(e){var t=window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,i=t/n;return{sx:i,sy:i,scaled:1!=i}}function scrollIntoView(e,t){var n=e.offsetParent,i=e.offsetTop+e.clientTop,r=e.offsetLeft+e.clientLeft;if(!n)return void console.error("offsetParent is not set -- cannot scroll");for(;n.clientHeight===n.scrollHeight;)if(n.dataset._scaleY&&(i/=n.dataset._scaleY,r/=n.dataset._scaleX),i+=n.offsetTop,r+=n.offsetLeft,n=n.offsetParent,!n)return;t&&(void 0!==t.top&&(i+=t.top),void 0!==t.left&&(r+=t.left,n.scrollLeft=r)),n.scrollTop=i}function noContextMenuHandler(e){e.preventDefault()}function getPDFFileNameFromURL(e){var t=/^(?:([^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(e),r=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(r&&(r=r[0],r.indexOf("%")!=-1))try{r=n.exec(decodeURIComponent(r))[0]}catch(a){}return r||"document.pdf"}function updateViewarea(){if(PDFView.initialized){var e=PDFView.getVisiblePages(),t=e.views;if(0!==t.length){PDFView.renderHighestPriority();for(var n=PDFView.page,i=e.first,r=0,a=t.length,o=!1;r<a;++r){var s=t[r];if(s.percent<100)break;if(s.id===PDFView.page){o=!0;break}}o||(n=t[0].id),updateViewarea.inProgress=!0,PDFView.page=n,updateViewarea.inProgress=!1;var l=PDFView.currentScale,c=PDFView.currentScaleValue,h=parseFloat(c)===l?Math.round(1e4*l)/100:c,d=i.id,u="#page="+d;u+="&zoom="+h;var f=PDFView.pages[d-1],p=PDFView.container,g=f.getPagePoint(p.scrollLeft-i.x,p.scrollTop-i.y),m=Math.round(g[0]),v=Math.round(g[1]);u+=","+m+","+v,PresentationMode.active||PresentationMode.switchInProgress?PDFView.currentPosition=null:PDFView.currentPosition={page:d,left:m,top:v};var A=PDFView.store;A.initializedPromise.then(function(){A.set("exists",!0),A.set("page",d),A.set("zoom",h),A.set("scrollLeft",m),A.set("scrollTop",v)});var b=PDFView.getAnchorUrl(u);document.getElementById("viewBookmark").href=b,document.getElementById("secondaryViewBookmark").href=b,PDFHistory.updateCurrentBookmark(u,d)}}}function selectScaleOption(e){for(var t=document.getElementById("scaleSelect").options,n=!1,i=0;i<t.length;i++){var r=t[i];r.value==e?(r.selected=!0,n=!0):r.selected=!1}return n}function handleMouseWheel(e){var t=40,n="DOMMouseScroll"===e.type?-e.detail:e.wheelDelta/t,i=n<0?"zoomOut":"zoomIn";e.ctrlKey?(e.preventDefault(),PDFView[i](Math.abs(n))):PresentationMode.active&&PDFView.mouseScroll(n*t)}document.webL10n=function(e,t,n){function i(){return t.querySelectorAll('link[type="application/l10n"]')}function r(){var e=t.querySelector('script[type="application/l10n"]');return e?JSON.parse(e.innerHTML):null}function a(e){return e?e.querySelectorAll("*[data-l10n-id]"):[]}function o(e){if(!e)return{};var t=e.getAttribute("data-l10n-id"),n=e.getAttribute("data-l10n-args"),i={};if(n)try{i=JSON.parse(n)}catch(r){console.warn("could not parse arguments for #"+t)}return{id:t,args:i}}function s(e){var n=t.createEvent("Event");n.initEvent("localized",!0,!1),n.language=e,t.dispatchEvent(n)}function l(e,t,n,i){t=t||function(e){},n=n||function(){console.warn(e+" not found.")};var r=new XMLHttpRequest;r.open("GET",e,i),r.overrideMimeType&&r.overrideMimeType("text/plain; charset=utf-8"),r.onreadystatechange=function(){4==r.readyState&&(200==r.status||0===r.status?t(r.responseText):n())},r.onerror=n,r.ontimeout=n;try{r.send(null)}catch(a){n()}}function c(e,t,n,i){function r(e){return e.lastIndexOf("\\")<0?e:e.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function a(e){function n(e,n){for(var l=e.replace(s,"").split(/[\r\n]+/),f="*",p=t.replace(/-[a-z]+$/i,""),g=!1,m="",v=0;v<l.length;v++){var A=l[v];if(!c.test(A)){if(n){if(h.test(A)){m=h.exec(A),f=m[1],g="*"!==f&&f!==t&&f!==p;continue}if(g)continue;d.test(A)&&(m=d.exec(A),i(o+m[1]))}var b=A.match(u);b&&3==b.length&&(a[b[1]]=r(b[2]))}}}function i(e){l(e,function(e){n(e,!1)},null,!1)}var a=[],s=/^\s*|\s*$/,c=/^\s*#|^\s*$/,h=/^\s*\[(.*)\]\s*$/,d=/^\s*@import\s+url\((.*)\)\s*$/i,u=/^([^=\s]*)\s*=\s*(.+)$/;return n(e,!0),a}var o=e.replace(/[^\/]*$/,"")||"./";l(e,function(e){w+=e;var t=a(e);for(var i in t){var r,o,s=i.lastIndexOf(".");s>0?(r=i.substring(0,s),o=i.substr(s+1)):(r=i,o=P),b[r]||(b[r]={}),b[r][o]=t[i]}n&&n()},i,F)}function h(e,t){function n(e){var t=e.href;e.type;this.load=function(e,n){var i=e;return c(t,e,n,function(){console.warn(t+" not found."),i=""}),i}}t=t||function(){},d(),y=e;var a=i(),o=a.length;if(0===o){var l=r();return l&&l.locales&&l.default_locale?(console.log("using the embedded JSON directory, early way out"),b=l.locales[e]||l.locales[l.default_locale],t()):console.log("no resource to load, early way out"),s(e),void(C="complete")}var h=null,u=0;h=function(){u++,u>=o&&(t(),s(e),C="complete")};for(var f=0;f<o;f++){var p=new n(a[f]),g=p.load(e,h);g!=e&&(console.warn('"'+e+'" resource not found'),y="")}}function d(){b={},w="",y=""}function u(e){function t(e,t){return t.indexOf(e)!==-1}function n(e,t,n){return t<=e&&e<=n}var i={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3},r={0:function(e){return"other"},1:function(e){return n(e%100,3,10)?"few":0===e?"zero":n(e%100,11,99)?"many":2==e?"two":1==e?"one":"other"},2:function(e){return 0!==e&&e%10===0?"many":2==e?"two":1==e?"one":"other"},3:function(e){return 1==e?"one":"other"},4:function(e){return n(e,0,1)?"one":"other"},5:function(e){return n(e,0,2)&&2!=e?"one":"other"},6:function(e){return 0===e?"zero":e%10==1&&e%100!=11?"one":"other"},7:function(e){return 2==e?"two":1==e?"one":"other"},8:function(e){return n(e,3,6)?"few":n(e,7,10)?"many":2==e?"two":1==e?"one":"other"},9:function(e){return 0===e||1!=e&&n(e%100,1,19)?"few":1==e?"one":"other"},10:function(e){return n(e%10,2,9)&&!n(e%100,11,19)?"few":e%10!=1||n(e%100,11,19)?"other":"one"},11:function(e){return n(e%10,2,4)&&!n(e%100,12,14)?"few":e%10===0||n(e%10,5,9)||n(e%100,11,14)?"many":e%10==1&&e%100!=11?"one":"other"},12:function(e){return n(e,2,4)?"few":1==e?"one":"other"},13:function(e){return n(e%10,2,4)&&!n(e%100,12,14)?"few":1!=e&&n(e%10,0,1)||n(e%10,5,9)||n(e%100,12,14)?"many":1==e?"one":"other"},14:function(e){return n(e%100,3,4)?"few":e%100==2?"two":e%100==1?"one":"other"},15:function(e){return 0===e||n(e%100,2,10)?"few":n(e%100,11,19)?"many":1==e?"one":"other"},16:function(e){return e%10==1&&11!=e?"one":"other"},17:function(e){return 3==e?"few":0===e?"zero":6==e?"many":2==e?"two":1==e?"one":"other"},18:function(e){return 0===e?"zero":n(e,0,2)&&0!==e&&2!=e?"one":"other"},19:function(e){return n(e,2,10)?"few":n(e,0,1)?"one":"other"},20:function(e){return!n(e%10,3,4)&&e%10!=9||n(e%100,10,19)||n(e%100,70,79)||n(e%100,90,99)?e%1e6===0&&0!==e?"many":e%10!=2||t(e%100,[12,72,92])?e%10!=1||t(e%100,[11,71,91])?"other":"one":"two":"few"},21:function(e){return 0===e?"zero":1==e?"one":"other"},22:function(e){return n(e,0,1)||n(e,11,99)?"one":"other"},23:function(e){return n(e%10,1,2)||e%20===0?"one":"other"},24:function(e){return n(e,3,10)||n(e,13,19)?"few":t(e,[2,12])?"two":t(e,[1,11])?"one":"other"}},a=i[e.replace(/-.*$/,"")];return a in r?r[a]:(console.warn("plural form unknown for ["+e+"]"),function(){return"other"})}function f(e,t,n){var i=b[e];if(!i){if(console.warn("#"+e+" is undefined."),!n)return null;i=n}var r={};for(var a in i){var o=i[a];o=p(o,t,e,a),o=g(o,t,e),r[a]=o}return r}function p(e,t,n,i){var r=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,a=r.exec(e);if(!a||!a.length)return e;var o,s=a[1],l=a[2];if(t&&l in t?o=t[l]:l in b&&(o=b[l]),s in S){var c=S[s];e=c(e,o,n,i)}return e}function g(e,t,n){for(var i=/\{\{\s*(.+?)\s*\}\}/,r=i.exec(e);r;){if(!r||r.length<2)return e;var a=r[1],o="";if(t&&a in t)o=t[a];else{if(!(a in b))return console.log("argument {{"+a+"}} for #"+n+" is undefined."),e;o=b[a][P]}e=e.substring(0,r.index)+o+e.substr(r.index+r[0].length),r=i.exec(e)}return e}function m(e){var n=o(e);if(n.id){var i=f(n.id,n.args);if(!i)return void console.warn("#"+n.id+" is undefined.");if(i[P]){if(0===v(e))e[P]=i[P];else{for(var r=e.childNodes,a=!1,s=0,l=r.length;s<l;s++)3===r[s].nodeType&&/\S/.test(r[s].nodeValue)&&(a?r[s].nodeValue="":(r[s].nodeValue=i[P],a=!0));if(!a){var c=t.createTextNode(i[P]);e.insertBefore(c,e.firstChild)}}delete i[P]}for(var h in i)e[h]=i[h]}}function v(e){if(e.children)return e.children.length;if("undefined"!=typeof e.childElementCount)return e.childElementCount;for(var t=0,n=0;n<e.childNodes.length;n++)t+=1===e.nodeType?1:0;return t}function A(e){e=e||t.documentElement;for(var n=a(e),i=n.length,r=0;r<i;r++)m(n[r]);m(e)}var b={},w="",P="textContent",y="",S={},C="loading",F=!0;return S.plural=function(e,t,n,i){var r=parseFloat(t);if(isNaN(r))return e;if(i!=P)return e;S._pluralRules||(S._pluralRules=u(y));var a="["+S._pluralRules(r)+"]";return 0===r&&n+"[zero]"in b?e=b[n+"[zero]"][i]:1==r&&n+"[one]"in b?e=b[n+"[one]"][i]:2==r&&n+"[two]"in b?e=b[n+"[two]"][i]:n+a in b?e=b[n+a][i]:n+"[other]"in b&&(e=b[n+"[other]"][i]),e},{get:function(e,t,n){var i=e.lastIndexOf("."),r=P;i>0&&(r=e.substr(i+1),e=e.substring(0,i));var a;n&&(a={},a[r]=n);var o=f(e,t,a);return o&&r in o?o[r]:"{{"+e+"}}"},getData:function(){return b},getText:function(){return w},getLanguage:function(){return y},setLanguage:function(e){h(e,A)},getDirection:function(){var e=["ar","he","fa","ps","ur"];return e.indexOf(y)>=0?"rtl":"ltr"},translate:A,getReadyState:function(){return C},ready:function(n){n&&("complete"==C||"interactive"==C?e.setTimeout(n):t.addEventListener?t.addEventListener("localized",n):t.attachEvent&&t.documentElement.attachEvent("onpropertychange",function(e){"localized"===e.propertyName&&n()}))}}}(window,document),"undefined"==typeof PDFJS&&(("undefined"!=typeof window?window:this).PDFJS={}),PDFJS.version="0.8.1",PDFJS.build="/bin/sh: git: command not found",function(){function e(e){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.infos&&console.log("Info: "+e)}function t(e){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.warnings&&console.log("Warning: "+e)}function n(e){if(arguments.length>1){var t=["Error:"];t.push.apply(t,arguments),console.log.apply(console,t),e=[].join.call(arguments," ")}else console.log("Error: "+e);throw console.log(i()),L.notify(E.unknown),new Error(e)}function i(){try{throw new Error}catch(e){return e.stack?e.stack.split("\n").slice(2).join("\n"):""}}function r(e,t){e||n(t)}function a(e,t){if(!t)return e;if(/^[a-z][a-z0-9+\-.]*:/i.test(t))return t;if("/"==t.charAt(0)){var n=e.indexOf("://");return n=e.indexOf("/",n+3),e.substring(0,n)+t}var n,i=e.length;n=e.lastIndexOf("#"),i=n>=0?n:i,n=e.lastIndexOf("?",i),i=n>=0?n:i;var r=e.lastIndexOf("/",i);return e.substring(0,r+1)+t}function o(e,t){if(!e)return!1;var n=/^[a-z][a-z0-9+\-.]*(?=:)/i.exec(e);if(!n)return t;switch(n=n[0].toLowerCase()){case"http":case"https":case"ftp":case"mailto":return!0;default:return!1}}function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}function l(e){for(var t="",n=e.length,i=0;i<n;++i)t+=String.fromCharCode(e[i]);return t}function c(e){for(var t=e.length,n=new Uint8Array(t),i=0;i<t;++i)n[i]=255&e.charCodeAt(i);return n}function h(e){var t,n=e.length,i="";if("þ"===e[0]&&"ÿ"===e[1])for(t=2;t<n;t+=2)i+=String.fromCharCode(e.charCodeAt(t)<<8|e.charCodeAt(t+1));else for(t=0;t<n;++t){var r=O[e.charCodeAt(t)];i+=r?String.fromCharCode(r):e.charAt(t)}return i}function d(e){return"boolean"==typeof e}function u(e){return"number"==typeof e}function f(e){return"string"==typeof e}function p(e){return e instanceof Name}function g(e,t){if(!(e instanceof Dict))return!1;if(!t)return!0;var n=e.get("Type");return p(n)&&n.name==t}function m(e){return e instanceof Array}function v(e){return"object"==typeof e&&null!==e&&void 0!==e&&"getBytes"in e}function A(e){return"object"==typeof e&&null!==e&&void 0!==e&&"byteLength"in e}function b(e,t){this.name=e,this.comObj=t,this.callbackIndex=1,this.postMessageTransfers=!0;var i=this.callbacks={},r=this.actionHandler={};r.console_log=[function(e){console.log.apply(console,e)}],r.console_error=[function(e){console.error.apply(console,e)}],r._unsupported_feature=[function(e){L.notify(e)}],t.onmessage=function(e){var a=e.data;if(a.isReply){var o=a.callbackId;if(a.callbackId in i){var s=i[o];delete i[o],s(a.data)}else n("Cannot resolve callback "+o)}else if(a.action in r){var l=r[a.action];if(a.callbackId){var c={},h=new Promise(function(e,t){c.resolve=e,c.reject=t});c.promise=h,h.then(function(e){t.postMessage({isReply:!0,callbackId:a.callbackId,data:e})}),l[0].call(l[1],a.data,c)}else l[0].call(l[1],a.data)}else n("Unkown action from worker: "+a.action)}}function w(e,t,n){var i=new Image;i.onload=function(){n.resolve(e,i)},i.src=t}function P(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n}function y(e){e.mozCurrentTransform||(e._scaleX=e._scaleX||1,e._scaleY=e._scaleY||1,e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._transformMatrix=[e._scaleX,0,0,e._scaleY,0,0],e._transformStack=[],Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=t*r-n*i,l=n*i-t*r;return[r/s,n/l,i/l,t/s,(r*a-i*o)/l,(n*a-t*o)/s]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){var n=this._transformMatrix;n[4]=n[0]*e+n[2]*t+n[4],n[5]=n[1]*e+n[3]*t+n[5],this._originalTranslate(e,t)},e.scale=function(e,t){var n=this._transformMatrix;n[0]=n[0]*e,n[1]=n[1]*e,n[2]=n[2]*t,n[3]=n[3]*t,this._originalScale(e,t)},e.transform=function(t,n,i,r,a,o){var s=this._transformMatrix;this._transformMatrix=[s[0]*t+s[2]*n,s[1]*t+s[3]*n,s[0]*i+s[2]*r,s[1]*i+s[3]*r,s[0]*a+s[2]*o+s[4],s[1]*a+s[3]*o+s[5]],e._originalTransform(t,n,i,r,a,o)},e.setTransform=function(t,n,i,r,a,o){this._transformMatrix=[t,n,i,r,a,o],e._originalSetTransform(t,n,i,r,a,o)},e.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),i=this._transformMatrix;this._transformMatrix=[i[0]*t+i[2]*n,i[1]*t+i[3]*n,i[0]*-n+i[2]*t,i[1]*-n+i[3]*t,i[4],i[5]],this._originalRotate(e)})}function S(e){var t,n,i,r,a=1e3,o=e.width,s=e.height,l=o+1,c=new Uint8Array(l*(s+1)),h=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),d=o+7&-8,u=e.data,f=new Uint8Array(d*s),p=0;for(t=0,r=u.length;t<r;t++)for(var g=128,m=u[t];g>0;)f[p++]=m&g?0:255,g>>=1;var v=0;for(p=0,0!==f[p]&&(c[0]=1,++v),n=1;n<o;n++)f[p]!==f[p+1]&&(c[n]=f[p]?2:1,++v),p++;for(0!==f[p]&&(c[n]=2,++v),t=1;t<s;t++){p=t*d,i=t*l,f[p-d]!==f[p]&&(c[i]=f[p]?1:8,++v);var A=(f[p]?4:0)+(f[p-d]?8:0);for(n=1;n<o;n++)A=(A>>2)+(f[p+1]?4:0)+(f[p-d+1]?8:0),h[A]&&(c[i+n]=h[A],++v),p++;if(f[p-d]!==f[p]&&(c[i+n]=f[p]?2:4,++v),v>a)return null}for(p=d*(s-1),i=t*l,0!==f[p]&&(c[i]=8,++v),n=1;n<o;n++)f[p]!==f[p+1]&&(c[i+n]=f[p]?4:8,++v),p++;if(0!==f[p]&&(c[i+n]=4,++v),v>a)return null;var b=new Int32Array([0,l,-1,0,-l,0,0,0,1]),w=[];for(t=0;v&&t<=s;t++){for(var P=t*l,y=P+o;P<y&&!c[P];)P++;if(P!==y){var S,C=[P%l,t],F=c[P],D=P;do{var x=b[F];do P+=x;while(!c[P]);S=c[P],5!==S&&10!==S?(F=S,c[P]=0):(F=S&51*F>>4,c[P]&=F>>2|F<<2),C.push(P%l),C.push(P/l|0),--v}while(D!==P);w.push(C),--t}}var k=function(e){e.save(),e.scale(1/o,-1/s),e.translate(0,-s),e.beginPath();for(var t=0,n=w.length;t<n;t++){var i=w[t];e.moveTo(i[0],i[1]);for(var r=2,a=i.length;r<a;r+=2)e.lineTo(i[r],i[r+1])}e.fill(),e.beginPath(),e.restore()};return k}function C(e){return Ae[e[0]].fromIR(e)}var F="undefined"==typeof window?this:window,D="undefined"==typeof window,x=[.001,0,0,.001,0,0],k={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};F.PDFJS||(F.PDFJS={}),F.PDFJS.pdfBug=!1,PDFJS.VERBOSITY_LEVELS={errors:0,warnings:1,infos:5};var I=PDFJS.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87},E=PDFJS.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},L=PDFJS.UnsupportedManager=function(){var e=[];return{listen:function(t){e.push(t)},notify:function(n){t('Unsupported feature "'+n+'"');for(var i=0,r=e.length;i<r;i++)e[i](n)}}}();PDFJS.isValidUrl=o;var R=PDFJS.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},T=(function(){function e(e,t){this.name="PasswordException",this.message=e,this.code=t}return e.prototype=new Error,e.constructor=e,e}(),function(){function e(e,t){this.name="UnknownErrorException",this.message=e,this.details=t}return e.prototype=new Error,e.constructor=e,e}(),function(){function e(e){this.name="InvalidPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}(),function(){function e(e){this.name="MissingPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}(),function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="NotImplementedException",e.constructor=e,e}()),M=(function(){function e(e,t){this.begin=e,this.end=t,this.message="Missing data ["+e+", "+t+")"}return e.prototype=new Error,e.prototype.name="MissingDataException",e.constructor=e,e}(),function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="XRefParseException",e.constructor=e,e}(),[1,0,0,1,0,0]),B=PDFJS.Util=function(){function e(){}return e.makeCssRgb=function(e){return"rgb("+e[0]+","+e[1]+","+e[2]+")"},e.makeCssCmyk=function(t){var n=V.singletons.cmyk.getRgb(t,0);return e.makeCssRgb(n)},e.transform=function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]},e.applyTransform=function(e,t){var n=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[n,i]},e.applyInverseTransform=function(e,t){var n=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,r=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[i,r]},e.getAxialAlignedBoundingBox=function(t,n){var i=e.applyTransform(t,n),r=e.applyTransform(t.slice(2,4),n),a=e.applyTransform([t[0],t[3]],n),o=e.applyTransform([t[2],t[1]],n);return[Math.min(i[0],r[0],a[0],o[0]),Math.min(i[1],r[1],a[1],o[1]),Math.max(i[0],r[0],a[0],o[0]),Math.max(i[1],r[1],a[1],o[1])]},e.inverseTransform=function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]},e.apply3dTransform=function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]},e.singularValueDecompose2dScale=function(e){var t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],r=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(n+a)/2,s=Math.sqrt((n+a)*(n+a)-4*(n*a-r*i))/2,l=o+s||1,c=o-s||1;return[Math.sqrt(l),Math.sqrt(c)]},e.normalizeRect=function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t},e.intersect=function(t,n){function i(e,t){return e-t}var r=[t[0],t[2],n[0],n[2]].sort(i),a=[t[1],t[3],n[1],n[3]].sort(i),o=[];return t=e.normalizeRect(t),n=e.normalizeRect(n),(r[0]===t[0]&&r[1]===n[0]||r[0]===n[0]&&r[1]===t[0])&&(o[0]=r[1],o[2]=r[2],(a[0]===t[1]&&a[1]===n[1]||a[0]===n[1]&&a[1]===t[1])&&(o[1]=a[1],o[3]=a[2],o))},e.sign=function(e){return e<0?-1:1},e.concatenateToArray=function(e,t){Array.prototype.push.apply(e,t)},e.prependToArray=function(e,t){Array.prototype.unshift.apply(e,t)},e.extendObj=function(e,t){for(var n in t)e[n]=t[n]},e.getInheritableProperty=function(e,t){for(;e&&!e.has(t);)e=e.get("Parent");return e?e.get(t):null},e.inherit=function(e,t,n){e.prototype=Object.create(t.prototype),e.prototype.constructor=e;for(var i in n)e.prototype[i]=n[i]},e.loadScript=function(e,t){var n=document.createElement("script"),i=!1;n.setAttribute("src",e),t&&(n.onload=function(){i||t(),i=!0}),document.getElementsByTagName("head")[0].appendChild(n)},e}(),O=(PDFJS.PageViewport=function(){function e(e,t,n,i,r,a){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=i,this.offsetY=r;var o,s,l,c,h=(e[2]+e[0])/2,d=(e[3]+e[1])/2;switch(n%=360,n=n<0?n+360:n){case 180:o=-1,s=0,l=0,c=1;break;case 90:o=0,s=1,l=1,c=0;break;case 270:o=0,s=-1,l=-1,c=0;break;default:o=1,s=0,l=0,c=-1}a&&(l=-l,c=-c);var u,f,p,g;0===o?(u=Math.abs(d-e[1])*t+i,f=Math.abs(h-e[0])*t+r,p=Math.abs(e[3]-e[1])*t,g=Math.abs(e[2]-e[0])*t):(u=Math.abs(h-e[0])*t+i,f=Math.abs(d-e[1])*t+r,p=Math.abs(e[2]-e[0])*t,g=Math.abs(e[3]-e[1])*t),this.transform=[o*t,s*t,l*t,c*t,u-o*t*h-l*t*d,f-s*t*h-c*t*d],this.width=p,this.height=g,this.fontScale=t}return e.prototype={clone:function(t){t=t||{};var n="scale"in t?t.scale:this.scale,i="rotation"in t?t.rotation:this.rotation;return new e(this.viewBox.slice(),n,i,this.offsetX,this.offsetY,t.dontFlip)},convertToViewportPoint:function(e,t){return B.applyTransform([e,t],this.transform)},convertToViewportRectangle:function(e){var t=B.applyTransform([e[0],e[1]],this.transform),n=B.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]},convertToPdfPoint:function(e,t){return B.applyInverseTransform([e,t],this.transform)}},e}(),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364]),_=PDFJS.LegacyPromise=function(){return function(){var e,t,n=new Promise(function(n,i){e=n,t=i});return n.resolve=e,n.reject=t,n}}();!function(){function e(e){this._status=n,this._handlers=[],e.call(this,this._resolve.bind(this),this._reject.bind(this))}if(F.Promise)return"function"!=typeof F.Promise.all&&(F.Promise.all=function(e){var t,n,i=0,r=[],a=new F.Promise(function(e,i){t=e,n=i});return e.forEach(function(e,a){i++,e.then(function(e){r[a]=e,i--,0===i&&t(r)},n)}),0===i&&t(r),a}),void("function"!=typeof F.Promise.resolve&&(F.Promise.resolve=function(e){return new F.Promise(function(t){t(e)})}));var n=0,i=1,r=2,a=500,o={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(e){e._status!=n&&(this.handlers=this.handlers.concat(e._handlers),e._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var e=1,t=Date.now()+e;this.handlers.length>0;){var n=this.handlers.shift(),a=n.thisPromise._status,o=n.thisPromise._value;try{a===i?"function"==typeof n.onResolve&&(o=n.onResolve(o)):"function"==typeof n.onReject&&(o=n.onReject(o),a=i,n.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(n.thisPromise))}catch(s){a=r,o=s}if(n.nextPromise._updateStatus(a,o),Date.now()>=t)break}return this.handlers.length>0?void setTimeout(this.runHandlers.bind(this),0):void(this.running=!1)},addUnhandledRejection:function(e){this.unhandledRejections.push({promise:e,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function(e){e._unhandledRejection=!1;for(var t=0;t<this.unhandledRejections.length;t++)this.unhandledRejections[t].promise===e&&(this.unhandledRejections.splice(t),t--)},scheduleRejectionCheck:function(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){this.pendingRejectionCheck=!1;for(var e=Date.now(),n=0;n<this.unhandledRejections.length;n++)if(e-this.unhandledRejections[n].time>a){var i=this.unhandledRejections[n].promise._value,r="Unhandled rejection: "+i;i.stack&&(r+="\n"+i.stack),t(r),this.unhandledRejections.splice(n),n--}this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),a))}};e.all=function(t){function n(e){o._status!==r&&(l=[],a(e))}var i,a,o=new e(function(e,t){i=e,a=t}),s=t.length,l=[];if(0===s)return i(l),o;for(var c=0,h=t.length;c<h;++c){var d=t[c],u=function(e){return function(t){o._status!==r&&(l[e]=t,s--,0===s&&i(l))}}(c);e.isPromise(d)?d.then(u,n):u(d)}return o},e.isPromise=function(e){return e&&"function"==typeof e.then},e.resolve=function(t){return new e(function(e){e(t)})},e.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(t,n){if(this._status!==i&&this._status!==r){if(t==i&&e.isPromise(n))return void n.then(this._updateStatus.bind(this,i),this._updateStatus.bind(this,r));this._status=t,this._value=n,t===r&&0===this._handlers.length&&(this._unhandledRejection=!0,o.addUnhandledRejection(this)),o.scheduleHandlers(this)}},_resolve:function(e){this._updateStatus(i,e)},_reject:function(e){this._updateStatus(r,e)},then:function(t,n){var i=new e(function(e,t){this.resolve=t,this.reject=t});return this._handlers.push({thisPromise:this,onResolve:t,onReject:n,nextPromise:i}),o.scheduleHandlers(this),i}},F.Promise=e}();var N=function(){function e(e,t,n){for(;e.length<n;)e+=t;return e}function n(){this.started={},this.times=[],this.enabled=!0}return n.prototype={time:function(e){this.enabled&&(e in this.started&&t("Timer is already running for "+e),this.started[e]=Date.now())},timeEnd:function(e){this.enabled&&(e in this.started||t("Timer has not been started for "+e),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e])},toString:function(){for(var t=this.times,n="",i=0,r=0,a=t.length;r<a;++r){var o=t[r].name;o.length>i&&(i=o.length)}for(var r=0,a=t.length;r<a;++r){var s=t[r],l=s.end-s.start;n+=e(s.name," ",i)+" "+l+"ms\n"}return n}},n}();PDFJS.createBlob=function(e,t){if("undefined"!=typeof Blob)return new Blob([e],{type:t});var n=new MozBlobBuilder;return n.append(e),n.getBlob(t)},PDFJS.createObjectURL=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(t,n){if(!PDFJS.disableCreateObjectURL&&"undefined"!=typeof URL&&URL.createObjectURL){var i=PDFJS.createBlob(t,n);return URL.createObjectURL(i)}for(var r="data:"+n+";base64,",a=0,o=t.length;a<o;a+=3){var s=255&t[a],l=255&t[a+1],c=255&t[a+2],h=s>>2,d=(3&s)<<4|l>>4,u=a+1<o?(15&l)<<2|c>>6:64,f=a+2<o?63&c:64;r+=e[h]+e[d]+e[u]+e[f]}return r}}(),b.prototype={on:function(e,t,i){var r=this.actionHandler;r[e]&&n('There is already an actionName called "'+e+'"'),r[e]=[t,i]},send:function(e,t,n,i){var r={action:e,data:t};if(n){var a=this.callbackIndex++;this.callbacks[a]=n,r.callbackId=a}i&&this.postMessageTransfers?this.comObj.postMessage(r,i):this.comObj.postMessage(r)}};var V=function(){function e(){n("should not call ColorSpace constructor")}return e.prototype={getRgb:function(e,t){n("Should not call ColorSpace.getRgb")},getRgbItem:function(e,t,i,r){n("Should not call ColorSpace.getRgbItem")},getRgbBuffer:function(e,t,i,r,a,o,s){n("Should not call ColorSpace.getRgbBuffer")},getOutputLength:function(e,t){n("Should not call ColorSpace.getOutputLength")},isPassthrough:function(e){return!1},fillRgb:function(e,t,n,i,r,a,o,s){var l=t*n,c=null,h=1<<o,d=n!=r||t!=i;if(this.isPassthrough(o))c=s;else if(1===this.numComps&&l>h&&"DeviceGray"!==this.name&&"DeviceRGB"!==this.name){for(var u=o<=8?new Uint8Array(h):new Uint16Array(h),f=0;f<h;f++)u[f]=f;var p=new Uint8Array(3*h);if(this.getRgbBuffer(u,0,h,p,0,o,0),d){c=new Uint8Array(3*l);for(var g=0,f=0;f<l;++f){var m=3*s[f];c[g++]=p[m],c[g++]=p[m+1],c[g++]=p[m+2]}}else for(var v=0,f=0;f<l;++f){var m=3*s[f];e[v++]=p[m],e[v++]=p[m+1],e[v++]=p[m+2],v++}}else d?(c=new Uint8Array(3*l),this.getRgbBuffer(s,0,l,c,0,o,0)):this.getRgbBuffer(s,0,i*a,e,0,o,1);if(c){d&&(c=PDFImage.resize(c,o,3,t,n,i,r));for(var g=0,A=i*a*4,f=0;f<A;f+=4)e[f]=c[g++],e[f+1]=c[g++],e[f+2]=c[g++]}},usesZeroToOneRange:!0},e.parse=function(t,n,i){var r=e.parseToIR(t,n,i);return r instanceof z?r:e.fromIR(r)},e.fromIR=function(t){var i=m(t)?t[0]:t;switch(i){case"DeviceGrayCS":return this.singletons.gray;case"DeviceRgbCS":return this.singletons.rgb;case"DeviceCmykCS":return this.singletons.cmyk;case"CalGrayCS":var r=t[1].WhitePoint,a=t[1].BlackPoint,o=t[1].Gamma;return new G(r,a,o);case"PatternCS":var s=t[1];return s&&(s=e.fromIR(s)),new j(s);case"IndexedCS":var l=t[1],c=t[2],h=t[3];return new U(e.fromIR(l),c,h);case"AlternateCS":var d=t[1],u=t[2],f=t[3];return new z(d,e.fromIR(u),q.fromIR(f));case"LabCS":var r=t[1].WhitePoint,a=t[1].BlackPoint,p=t[1].Range;return new Y(r,a,p);default:n("Unkown name "+i)}return null},e.parseToIR=function(t,i,r){if(p(t)){var a=r.get("ColorSpace");if(g(a)){var o=a.get(t.name);o&&(t=o)}}t=i.fetchIfRef(t);var s;if(p(t))switch(s=t.name,this.mode=s,s){case"DeviceGray":case"G":return"DeviceGrayCS";case"DeviceRGB":case"RGB":return"DeviceRgbCS";case"DeviceCMYK":case"CMYK":return"DeviceCmykCS";case"Pattern":return["PatternCS",null];default:n("unrecognized colorspace "+s)}else if(m(t))switch(s=t[0].name,this.mode=s,s){case"DeviceGray":case"G":return"DeviceGrayCS";case"DeviceRGB":case"RGB":return"DeviceRgbCS";case"DeviceCMYK":case"CMYK":return"DeviceCmykCS";case"CalGray":var l=t[1].getAll();return["CalGrayCS",l];case"CalRGB":return"DeviceRgbCS";case"ICCBased":var c=i.fetchIfRef(t[1]),h=c.dict,d=h.get("N");if(1==d)return"DeviceGrayCS";if(3==d)return"DeviceRgbCS";if(4==d)return"DeviceCmykCS";break;case"Pattern":var u=t[1];
return u&&(u=e.parseToIR(u,i,r)),["PatternCS",u];case"Indexed":case"I":var f=e.parseToIR(t[1],i,r),A=t[2]+1,b=i.fetchIfRef(t[3]);return v(b)&&(b=b.getBytes()),["IndexedCS",f,A,b];case"Separation":case"DeviceN":var w=t[1],d=1;p(w)?d=1:m(w)&&(d=w.length);var P=e.parseToIR(t[2],i,r),y=q.getIR(i,i.fetchIfRef(t[3]));return["AlternateCS",d,P,y];case"Lab":var l=t[1].getAll();return["LabCS",l];default:n('unimplemented color space object "'+s+'"')}else n('unrecognized color space object: "'+t+'"');return null},e.isDefaultDecode=function(e,n){if(!e)return!0;if(2*n!==e.length)return t("The decode map is not the correct length"),!0;for(var i=0,r=e.length;i<r;i+=2)if(0!==e[i]||1!=e[i+1])return!1;return!0},e.singletons={get gray(){return s(this,"gray",new H)},get rgb(){return s(this,"rgb",new J)},get cmyk(){return s(this,"cmyk",new W)}},e}(),z=function(){function e(e,t,n){this.name="Alternate",this.numComps=e,this.defaultColor=new Float32Array(e);for(var i=0;i<e;++i)this.defaultColor[i]=1;this.base=t,this.tintFn=n}return e.prototype={getRgb:function(e,t){var n=new Uint8Array(3);return this.getRgbItem(e,t,n,0),n},getRgbItem:function(e,t,n,i){var r=(this.base.numComps,"subarray"in e?e.subarray(t,t+this.numComps):Array.prototype.slice.call(e,t,t+this.numComps)),a=this.tintFn(r);this.base.getRgbItem(a,0,n,i)},getRgbBuffer:function(e,t,n,i,r,a,o){for(var s=this.tintFn,l=this.base,c=1/((1<<a)-1),h=l.numComps,d=l.usesZeroToOneRange,u=(l.isPassthrough(8)||!d)&&0===o,f=u?r:0,p=u?i:new Uint8Array(h*n),g=this.numComps,m=new Float32Array(g),v=0;v<n;v++){for(var A=0;A<g;A++)m[A]=e[t++]*c;var b=s(m);if(d)for(var A=0;A<h;A++)p[f++]=255*b[A];else l.getRgbItem(b,0,p,f),f+=h}u||l.getRgbBuffer(p,0,n,i,r,8,o)},getOutputLength:function(e,t){return this.base.getOutputLength(e*this.base.numComps/this.numComps,t)},isPassthrough:V.prototype.isPassthrough,fillRgb:V.prototype.fillRgb,isDefaultDecode:function(e){return V.isDefaultDecode(e,this.numComps)},usesZeroToOneRange:!0},e}(),j=function(){function e(e){this.name="Pattern",this.base=e}return e.prototype={},e}(),U=function(){function e(e,t,i){this.name="Indexed",this.numComps=1,this.defaultColor=new Uint8Array([0]),this.base=e,this.highVal=t;var r,a=e.numComps,o=a*t;if(v(i)){r=new Uint8Array(o);var s=i.getBytes(o);r.set(s)}else if(f(i)){r=new Uint8Array(o);for(var l=0;l<o;++l)r[l]=i.charCodeAt(l)}else i instanceof Uint8Array||i instanceof Array?r=i:n("Unrecognized lookup table: "+i);this.lookup=r}return e.prototype={getRgb:function(e,t){var n=this.base.numComps,i=e[t]*n;return this.base.getRgb(this.lookup,i)},getRgbItem:function(e,t,n,i){var r=this.base.numComps,a=e[t]*r;this.base.getRgbItem(this.lookup,a,n,i)},getRgbBuffer:function(e,t,n,i,r,a,o){for(var s=this.base,l=s.numComps,c=s.getOutputLength(l,o),h=this.lookup,d=0;d<n;++d){var u=e[t++]*l;s.getRgbBuffer(h,u,1,i,r,8,o),r+=c}},getOutputLength:function(e,t){return this.base.getOutputLength(e*this.base.numComps,t)},isPassthrough:V.prototype.isPassthrough,fillRgb:V.prototype.fillRgb,isDefaultDecode:function(e){return!0},usesZeroToOneRange:!0},e}(),H=function(){function e(){this.name="DeviceGray",this.numComps=1,this.defaultColor=new Float32Array([0])}return e.prototype={getRgb:function(e,t){var n=new Uint8Array(3);return this.getRgbItem(e,t,n,0),n},getRgbItem:function(e,t,n,i){var r=255*e[t]|0;r=r<0?0:r>255?255:r,n[i]=n[i+1]=n[i+2]=r},getRgbBuffer:function(e,t,n,i,r,a,o){for(var s=255/((1<<a)-1),l=t,c=r,h=0;h<n;++h){var d=s*e[l++]|0;i[c++]=d,i[c++]=d,i[c++]=d,c+=o}},getOutputLength:function(e,t){return e*(3+t)},isPassthrough:V.prototype.isPassthrough,fillRgb:V.prototype.fillRgb,isDefaultDecode:function(e){return V.isDefaultDecode(e,this.numComps)},usesZeroToOneRange:!0},e}(),J=function(){function e(){this.name="DeviceRGB",this.numComps=3,this.defaultColor=new Float32Array([0,0,0])}return e.prototype={getRgb:function(e,t){var n=new Uint8Array(3);return this.getRgbItem(e,t,n,0),n},getRgbItem:function(e,t,n,i){var r=255*e[t]|0,a=255*e[t+1]|0,o=255*e[t+2]|0;n[i]=r<0?0:r>255?255:r,n[i+1]=a<0?0:a>255?255:a,n[i+2]=o<0?0:o>255?255:o},getRgbBuffer:function(e,t,n,i,r,a,o){if(8===a&&0===o)return void i.set(e.subarray(t,t+3*n),r);for(var s=255/((1<<a)-1),l=t,c=r,h=0;h<n;++h)i[c++]=s*e[l++]|0,i[c++]=s*e[l++]|0,i[c++]=s*e[l++]|0,c+=o},getOutputLength:function(e,t){return e*(3+t)/3|0},isPassthrough:function(e){return 8==e},fillRgb:V.prototype.fillRgb,isDefaultDecode:function(e){return V.isDefaultDecode(e,this.numComps)},usesZeroToOneRange:!0},e}(),W=function(){function e(e,t,n,i,r){var a=e[t+0]*n,o=e[t+1]*n,s=e[t+2]*n,l=e[t+3]*n,c=a*(-4.387332384609988*a+54.48615194189176*o+18.82290502165302*s+212.25662451639585*l+-285.2331026137004)+o*(1.7149763477362134*o-5.6096736904047315*s+-17.873870861415444*l-5.497006427196366)+s*(-2.5217340131683033*s-21.248923337353073*l+17.5119270841813)+l*(-21.86122147463605*l-189.48180835922747)+255,h=a*(8.841041422036149*a+60.118027045597366*o+6.871425592049007*s+31.159100130055922*l+-79.2970844816548)+o*(-15.310361306967817*o+17.575251261109482*s+131.35250912493976*l-190.9453302588951)+s*(4.444339102852739*s+9.8632861493405*l-24.86741582555878)+l*(-20.737325471181034*l-187.80453709719578)+255,d=a*(.8842522430003296*a+8.078677503112928*o+30.89978309703729*s-.23883238689178934*l+-14.183576799673286)+o*(10.49593273432072*o+63.02378494754052*s+50.606957656360734*l-112.23884253719248)+s*(.03296041114873217*s+115.60384449646641*l+-193.58209356861505)+l*(-22.33816807309886*l-180.12613974708367)+255;i[r]=c>255?255:c<0?0:c,i[r+1]=h>255?255:h<0?0:h,i[r+2]=d>255?255:d<0?0:d}function t(){this.name="DeviceCMYK",this.numComps=4,this.defaultColor=new Float32Array([0,0,0,1])}return t.prototype={getRgb:function(t,n){var i=new Uint8Array(3);return e(t,n,1,i,0),i},getRgbItem:function(t,n,i,r){e(t,n,1,i,r)},getRgbBuffer:function(t,n,i,r,a,o,s){for(var l=1/((1<<o)-1),c=0;c<i;c++)e(t,n,l,r,a),n+=4,a+=3+s},getOutputLength:function(e,t){return e/4*(3+t)|0},isPassthrough:V.prototype.isPassthrough,fillRgb:V.prototype.fillRgb,isDefaultDecode:function(e){return V.isDefaultDecode(e,this.numComps)},usesZeroToOneRange:!0},t}(),G=function(){function i(i,r,a){this.name="CalGray",this.numComps=1,this.defaultColor=new Float32Array([0]),i||n("WhitePoint missing - required for color space CalGray"),r=r||[0,0,0],a=a||1,this.XW=i[0],this.YW=i[1],this.ZW=i[2],this.XB=r[0],this.YB=r[1],this.ZB=r[2],this.G=a,(this.XW<0||this.ZW<0||1!==this.YW)&&n("Invalid WhitePoint components for "+this.name+", no fallback available"),(this.XB<0||this.YB<0||this.ZB<0)&&(e("Invalid BlackPoint for "+this.name+", falling back to default"),this.XB=this.YB=this.ZB=0),0===this.XB&&0===this.YB&&0===this.ZB||t(this.name+", BlackPoint: XB: "+this.XB+", YB: "+this.YB+", ZB: "+this.ZB+", only default values are supported."),this.G<1&&(e("Invalid Gamma: "+this.G+" for "+this.name+", falling back to default"),this.G=1)}function r(e,t,n,i,r,a){var o=t[n]*a,s=Math.pow(o,e.G),l=(e.XW*s,e.YW*s),c=(e.ZW*s,l),h=Math.max(116*Math.pow(c,1/3)-16,0);i[r]=255*h/100,i[r+1]=255*h/100,i[r+2]=255*h/100}return i.prototype={getRgb:function(e,t){var n=new Uint8Array(3);return this.getRgbItem(e,t,n,0),n},getRgbItem:function(e,t,n,i){r(this,e,t,n,i,1)},getRgbBuffer:function(e,t,n,i,a,o,s){for(var l=1/((1<<o)-1),c=0;c<n;++c)r(this,e,t,i,a,l),t+=1,a+=3+s},getOutputLength:function(e,t){return e*(3+t)},isPassthrough:V.prototype.isPassthrough,fillRgb:V.prototype.fillRgb,isDefaultDecode:function(e){return V.isDefaultDecode(e,this.numComps)},usesZeroToOneRange:!0},i}(),Y=function(){function t(t,i,r){this.name="Lab",this.numComps=3,this.defaultColor=new Float32Array([0,0,0]),t||n("WhitePoint missing - required for color space Lab"),i=i||[0,0,0],r=r||[-100,100,-100,100],this.XW=t[0],this.YW=t[1],this.ZW=t[2],this.amin=r[0],this.amax=r[1],this.bmin=r[2],this.bmax=r[3],this.XB=i[0],this.YB=i[1],this.ZB=i[2],(this.XW<0||this.ZW<0||1!==this.YW)&&n("Invalid WhitePoint components, no fallback available"),(this.XB<0||this.YB<0||this.ZB<0)&&(e("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&(e("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}function i(e){return e>=6/29?e*e*e:108/841*(e-4/29)}function r(e,t,n,i){return n+e*(i-n)/t}function a(e,t,n,a,o,s){var l=t[n],c=t[n+1],h=t[n+2];a!==!1&&(l=r(l,a,0,100),c=r(c,a,e.amin,e.amax),h=r(h,a,e.bmin,e.bmax)),c=c>e.amax?e.amax:c<e.amin?e.amin:c,h=h>e.bmax?e.bmax:h<e.bmin?e.bmin:h;var d,u,f,p=(l+16)/116,g=p+c/500,m=p-h/200,v=e.XW*i(g),A=e.YW*i(p),b=e.ZW*i(m);e.ZW<1?(d=3.1339*v+A*-1.617+b*-.4906,u=v*-.9785+1.916*A+.0333*b,f=.072*v+A*-.229+1.4057*b):(d=3.2406*v+A*-1.5372+b*-.4986,u=v*-.9689+1.8758*A+.0415*b,f=.0557*v+A*-.204+1.057*b),o[s]=255*Math.sqrt(d<0?0:d>1?1:d),o[s+1]=255*Math.sqrt(u<0?0:u>1?1:u),o[s+2]=255*Math.sqrt(f<0?0:f>1?1:f)}return t.prototype={getRgb:function(e,t){var n=new Uint8Array(3);return a(this,e,t,!1,n,0),n},getRgbItem:function(e,t,n,i){a(this,e,t,!1,n,i)},getRgbBuffer:function(e,t,n,i,r,o,s){for(var l=(1<<o)-1,c=0;c<n;c++)a(this,e,t,l,i,r),t+=3,r+=3+s},getOutputLength:function(e,t){return e*(3+t)/3|0},isPassthrough:V.prototype.isPassthrough,isDefaultDecode:function(e){return!0},usesZeroToOneRange:!1},t}(),q=function(){var t=0,i=2,r=3,a=4;return{getSampleArray:function(e,t,n,i){for(var r=1,a=0,o=e.length;a<o;a++)r*=e[a];r*=t;for(var s=[],l=0,c=0,h=1/(Math.pow(2,n)-1),d=i.getBytes((r*n+7)/8),u=0,a=0;a<r;a++){for(;l<n;)c<<=8,c|=d[u++],l+=8;l-=n,s.push((c>>l)*h),c&=(1<<l)-1}return s},getIR:function(e,t){var i=t.dict;i||(i=t);var r=[this.constructSampled,null,this.constructInterpolated,this.constructStiched,this.constructPostScript],a=i.get("FunctionType"),o=r[a];return o||n("Unknown type of function"),o.call(this,t,i,e)},fromIR:function(e){var n=e[0];switch(n){case t:return this.constructSampledFromIR(e);case i:return this.constructInterpolatedFromIR(e);case r:return this.constructStichedFromIR(e);default:return this.constructPostScriptFromIR(e)}},parse:function(e,t){var n=this.getIR(e,t);return this.fromIR(n)},constructSampled:function(i,r){function a(e){for(var t=e.length,n=(e.length/2,[]),i=0,r=0;r<t;r+=2)n[i]=[e[r],e[r+1]],++i;return n}var o=r.get("Domain"),s=r.get("Range");o&&s||n("No domain or range");var l=o.length/2,c=s.length/2;o=a(o),s=a(s);var h=r.get("Size"),d=r.get("BitsPerSample"),u=r.get("Order")||1;1!==u&&e("No support for cubic spline interpolation: "+u);var f=r.get("Encode");if(!f){f=[];for(var p=0;p<l;++p)f.push(0),f.push(h[p]-1)}f=a(f);var g=r.get("Decode");g=g?a(g):s;var m=this.getSampleArray(h,c,d,i);return[t,l,o,f,g,m,h,c,Math.pow(2,d)-1,s]},constructSampledFromIR:function(e){function t(e,t,n,i,r){return i+(e-t)*((r-i)/(n-t))}return function(i){var r=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],h=e[7],d=(e[8],e[9]);r!=i.length&&n("Incorrect number of arguments: "+r+" != "+i.length);for(var u=i,f=1<<r,p=new Float64Array(f),g=new Uint32Array(f),m=0;m<f;m++)p[m]=1;for(var v=h,A=1,b=0;b<r;++b){var w=a[b][0],P=a[b][1],y=Math.min(Math.max(u[b],w),P),S=t(y,w,P,o[b][0],o[b][1]),C=c[b];S=Math.min(Math.max(S,0),C-1);for(var F=S<C-1?Math.floor(S):S-1,D=F+1-S,x=S-F,k=F*v,I=k+v,m=0;m<f;m++)m&A?(p[m]*=x,g[m]+=I):(p[m]*=D,g[m]+=k);v*=C,A<<=1}for(var E=new Float64Array(h),m=0;m<h;++m){for(var L=0,b=0;b<f;b++)L+=l[g[b]+m]*p[b];L=t(L,0,1,s[m][0],s[m][1]),E[m]=Math.min(Math.max(L,d[m][0]),d[m][1])}return E}},constructInterpolated:function(e,t){var r=t.get("C0")||[0],a=t.get("C1")||[1],o=t.get("N");m(r)&&m(a)||n("Illegal dictionary for interpolated function");for(var s=r.length,l=[],c=0;c<s;++c)l.push(a[c]-r[c]);return[i,r,l,o]},constructInterpolatedFromIR:function(e){var t=e[1],n=e[2],i=e[3],r=n.length;return function(e){for(var a=1==i?e[0]:Math.pow(e[0],i),o=[],s=0;s<r;++s)o.push(t[s]+a*n[s]);return o}},constructStiched:function(e,t,i){var a=t.get("Domain");a||n("No domain");var o=a.length/2;1!=o&&n("Bad domain for stiched function");for(var s=t.get("Functions"),l=[],c=0,h=s.length;c<h;++c)l.push(q.getIR(i,i.fetchIfRef(s[c])));var d=t.get("Bounds"),u=t.get("Encode");return[r,a,d,u,l]},constructStichedFromIR:function(e){for(var t=e[1],n=e[2],i=e[3],r=e[4],a=[],o=0,s=r.length;o<s;o++)a.push(q.fromIR(r[o]));return function(e){for(var r=function(e,t,n){return e>n?e=n:e<t&&(e=t),e},o=r(e[0],t[0],t[1]),s=0,l=n.length;s<l&&!(o<n[s]);++s);var c=t[0];s>0&&(c=n[s-1]);var h=t[1];s<n.length&&(h=n[s]);var d=i[2*s],u=i[2*s+1],f=d+(o-c)*(u-d)/(h-c);return a[s]([f])}},constructPostScript:function(e,t,i){var r=t.get("Domain"),o=t.get("Range");r||n("No domain."),o||n("No range.");var s=new te(e),l=new K(s),c=l.parse();return[a,r,o,c]},constructPostScriptFromIR:function(e){var t=e[1],n=e[2],i=e[3],r=n.length/2,a=new Z(i),o=new X;return function(e){for(var i=[],s=0,l=t.length/2;s<l;++s)i.push(e[s]);var c=i.join("_");if(o.has(c))return o.get(c);var h=a.execute(i),d=[];for(s=r-1;s>=0;--s){var u=h.pop(),f=2*s;u<n[f]?u=n[f]:u>n[f+1]&&(u=n[f+1]),d[s]=u}return o.set(c,d),d}}}}(),X=function(){function e(){this.cache={},this.total=0}var t=1024;return e.prototype={has:function(e){return e in this.cache},get:function(e){return this.cache[e]},set:function(e,n){this.total<t&&(this.cache[e]=n,this.total++)}},e}(),Q=function(){function e(e){this.stack=e||[]}var t=100;return e.prototype={push:function(e){this.stack.length>=t&&n("PostScript function stack overflow."),this.stack.push(e)},pop:function(){return this.stack.length<=0&&n("PostScript function stack underflow."),this.stack.pop()},copy:function(e){this.stack.length+e>=t&&n("PostScript function stack overflow.");for(var i=this.stack,r=i.length-e,a=e-1;a>=0;a--,r++)i.push(i[r])},index:function(e){this.push(this.stack[this.stack.length-e-1])},roll:function(e,t){var n,i,r,a=this.stack,o=a.length-e,s=a.length-1,l=o+(t-Math.floor(t/e)*e);for(n=o,i=s;n<i;n++,i--)r=a[n],a[n]=a[i],a[i]=r;for(n=o,i=l-1;n<i;n++,i--)r=a[n],a[n]=a[i],a[i]=r;for(n=l,i=s;n<i;n++,i--)r=a[n],a[n]=a[i],a[i]=r}},e}(),Z=function(){function e(e,t){this.operators=e,this.operands=t}return e.prototype={execute:function(e){for(var t,i,r,a=new Q(e),o=0,s=this.operators,l=s.length;o<l;)if(t=s[o++],"number"!=typeof t)switch(t){case"jz":r=a.pop(),i=a.pop(),i||(o=r);break;case"j":i=a.pop(),o=i;break;case"abs":i=a.pop(),a.push(Math.abs(i));break;case"add":r=a.pop(),i=a.pop(),a.push(i+r);break;case"and":r=a.pop(),i=a.pop(),d(i)&&d(r)?a.push(i&&r):a.push(i&r);break;case"atan":i=a.pop(),a.push(Math.atan(i));break;case"bitshift":r=a.pop(),i=a.pop(),i>0?a.push(i<<r):a.push(i>>r);break;case"ceiling":i=a.pop(),a.push(Math.ceil(i));break;case"copy":i=a.pop(),a.copy(i);break;case"cos":i=a.pop(),a.push(Math.cos(i));break;case"cvi":i=0|a.pop(),a.push(i);break;case"cvr":break;case"div":r=a.pop(),i=a.pop(),a.push(i/r);break;case"dup":a.copy(1);break;case"eq":r=a.pop(),i=a.pop(),a.push(i==r);break;case"exch":a.roll(2,1);break;case"exp":r=a.pop(),i=a.pop(),a.push(Math.pow(i,r));break;case"false":a.push(!1);break;case"floor":i=a.pop(),a.push(Math.floor(i));break;case"ge":r=a.pop(),i=a.pop(),a.push(i>=r);break;case"gt":r=a.pop(),i=a.pop(),a.push(i>r);break;case"idiv":r=a.pop(),i=a.pop(),a.push(i/r|0);break;case"index":i=a.pop(),a.index(i);break;case"le":r=a.pop(),i=a.pop(),a.push(i<=r);break;case"ln":i=a.pop(),a.push(Math.log(i));break;case"log":i=a.pop(),a.push(Math.log(i)/Math.LN10);break;case"lt":r=a.pop(),i=a.pop(),a.push(i<r);break;case"mod":r=a.pop(),i=a.pop(),a.push(i%r);break;case"mul":r=a.pop(),i=a.pop(),a.push(i*r);break;case"ne":r=a.pop(),i=a.pop(),a.push(i!=r);break;case"neg":i=a.pop(),a.push(-r);break;case"not":i=a.pop(),d(i)&&d(r)?a.push(i&&r):a.push(i&r);break;case"or":r=a.pop(),i=a.pop(),d(i)&&d(r)?a.push(i||r):a.push(i|r);break;case"pop":a.pop();break;case"roll":r=a.pop(),i=a.pop(),a.roll(i,r);break;case"round":i=a.pop(),a.push(Math.round(i));break;case"sin":i=a.pop(),a.push(Math.sin(i));break;case"sqrt":i=a.pop(),a.push(Math.sqrt(i));break;case"sub":r=a.pop(),i=a.pop(),a.push(i-r);break;case"true":a.push(!0);break;case"truncate":i=a.pop(),i=i<0?Math.ceil(i):Math.floor(i),a.push(i);break;case"xor":r=a.pop(),i=a.pop(),d(i)&&d(r)?a.push(i!=r):a.push(i^r);break;default:n("Unknown operator "+t)}else a.push(t);return a.stack}},e}(),K=function(){function e(e){this.lexer=e,this.operators=[],this.token=null,this.prev=null}return e.prototype={nextToken:function(){this.prev=this.token,this.token=this.lexer.getToken()},accept:function(e){return this.token.type==e&&(this.nextToken(),!0)},expect:function(e){return!!this.accept(e)||void n("Unexpected symbol: found "+this.token.type+" expected "+e+".")},parse:function(){return this.nextToken(),this.expect($.LBRACE),this.parseBlock(),this.expect($.RBRACE),this.operators},parseBlock:function(){for(;;)if(this.accept($.NUMBER))this.operators.push(this.prev.value);else if(this.accept($.OPERATOR))this.operators.push(this.prev.value);else{if(!this.accept($.LBRACE))return;this.parseCondition()}},parseCondition:function(){var e=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect($.RBRACE),this.accept($.IF))this.operators[e]=this.operators.length,this.operators[e+1]="jz";else if(this.accept($.LBRACE)){var t=this.operators.length;this.operators.push(null,null);var i=this.operators.length;this.parseBlock(),this.expect($.RBRACE),this.expect($.IFELSE),this.operators[t]=this.operators.length,this.operators[t+1]="j",this.operators[e]=i,this.operators[e+1]="jz"}else n("PS Function: error parsing conditional.")}},e}(),$={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5},ee=function(){function e(e,t){this.type=e,this.value=t}var t={};return e.getOperator=function(n){var i=t[n];return i?i:t[n]=new e($.OPERATOR,n)},e.LBRACE=new e($.LBRACE,"{"),e.RBRACE=new e($.RBRACE,"}"),e.IF=new e($.IF,"IF"),e.IFELSE=new e($.IFELSE,"IFELSE"),e}(),te=function(){function e(e){this.stream=e,this.nextChar()}return e.prototype={nextChar:function(){return this.currentChar=this.stream.getByte()},getToken:function(){for(var e=!1,t=this.currentChar;;){if(t<0)return EOF;if(e)10!==t&&13!==t||(e=!1);else if(37==t)e=!0;else if(!Lexer.isSpace(t))break;t=this.nextChar()}switch(0|t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new ee($.NUMBER,this.getNumber());case 123:return this.nextChar(),ee.LBRACE;case 125:return this.nextChar(),ee.RBRACE}for(var n=String.fromCharCode(t);(t=this.nextChar())>=0&&(t>=65&&t<=90||t>=97&&t<=122);)n+=String.fromCharCode(t);switch(n.toLowerCase()){case"if":return ee.IF;case"ifelse":return ee.IFELSE;default:return ee.getOperator(n)}},getNumber:function(){for(var e=this.currentChar,t=String.fromCharCode(e);(e=this.nextChar())>=0&&(e>=48&&e<=57||45===e||46===e);)t+=String.fromCharCode(e);var i=parseFloat(t);return isNaN(i)&&n("Invalid floating point number: "+i),i}},e}(),ne=function(){function e(e,t,n){var i=B.getAxialAlignedBoundingBox(t,n),r=i[0],a=i[1],o=i[2],s=i[3];if(r===o||a===s)return[1,0,0,1,e[0],e[1]];var l=(e[2]-e[0])/(o-r),c=(e[3]-e[1])/(s-a);return[l,0,0,c,e[0]-r*l,e[1]-a*c]}function n(e){var t=e.get("AP");if(g(t)){var n,i=t.get("N");if(g(i)){var r=e.get("AS");r&&i.has(r.name)&&(n=i.get(r.name))}else n=i;return n}}function i(e){if(e.data)return void(this.data=e.data);var t=e.dict,i=this.data={};i.subtype=t.get("Subtype").name;var r=t.get("Rect");i.rect=B.normalizeRect(r),i.annotationFlags=t.get("F");var a=t.get("C");if(m(a)&&3===a.length?i.color=a:i.color=[0,0,0],t.has("BS")){var o=t.get("BS");i.borderWidth=o.has("W")?o.get("W"):1}else{var s=t.get("Border")||[0,0,1];i.borderWidth=s[2]||0;var l=s[3];if(i.borderWidth>0&&l&&m(l)){var c=l.length;if(c>0){for(var h=!1,d=0,u=0;u<c;u++){if(!(+l[u]>=0)){h=!0;break}l[u]>0&&d++}(h||0===d)&&(i.borderWidth=0)}}}this.appearance=n(t),i.hasAppearance=!!this.appearance}return i.prototype={getData:function(){return this.data},hasHtml:function(){return!1},getHtmlElement:function(e){throw new T("getHtmlElement() should be implemented in subclass")},getEmptyContainer:function(e,t){r(!D,"getEmptyContainer() should be called from main thread"),t=t||this.data.rect;var n=document.createElement(e);return n.style.width=Math.ceil(t[2]-t[0])+"px",n.style.height=Math.ceil(t[3]-t[1])+"px",n},isViewable:function(){var e=this.data;return!(!e||e.annotationFlags&&34&e.annotationFlags||!e.rect)},loadResources:function(e){var t=new _;return this.appearance.dict.getAsync("Resources").then(function(n){if(!n)return void t.resolve();var i=new ObjectLoader(n.map,e,n.xref);i.load().then(function(){t.resolve(n)})}.bind(this)),t},getOperatorList:function(t){var n=new _;if(!this.appearance)return n.resolve(new OperatorList),n;var i=this.data,r=this.appearance.dict,a=this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"]),o=r.get("BBox")||[0,0,1,1],s=r.get("Matrix")||[1,0,0,1,0,0],l=e(i.rect,o,s);i.border;return a.then(function(e){var r=new OperatorList;r.addOp(I.beginAnnotation,[i.rect,l,s]),t.getOperatorList(this.appearance,e,r),r.addOp(I.endAnnotation,[]),n.resolve(r)}.bind(this)),n}},i.getConstructor=function(e,t){if(e){if("Link"===e)return oe;if("Text"===e)return ae;if("Widget"===e){if(!t)return;return"Tx"===t?re:ie}return i}},i.fromData=function(e){var t=e.subtype,n=e.fieldType,r=i.getConstructor(t,n);if(r)return new r({data:e})},i.fromRef=function(e,n){var r=e.fetchIfRef(n);if(g(r)){var a=r.get("Subtype");if(a=p(a)?a.name:""){var o=B.getInheritableProperty(r,"FT");o=p(o)?o.name:"";var s=i.getConstructor(a,o);if(s){var l={dict:r,ref:n},c=new s(l);return c.isViewable()?c:void t("unimplemented annotation type: "+a)}}}},i.appendToOperatorList=function(e,t,n,i){function r(e){a.reject(e)}for(var a=new _,o=[],s=0,l=e.length;s<l;++s)o.push(e[s].getOperatorList(i));return Promise.all(o).then(function(e){t.addOp(I.beginAnnotations,[]);for(var n=0,i=e.length;n<i;++n){var r=e[n];t.addOpList(r)}t.addOp(I.endAnnotations,[]),a.resolve()},r),a},i}();PDFJS.Annotation=ne;var ie=function(){function e(e){if(ne.call(this,e),!e.data){var t=e.dict,n=this.data;n.fieldValue=h(B.getInheritableProperty(t,"V")||""),n.alternativeText=h(t.get("TU")||""),n.defaultAppearance=B.getInheritableProperty(t,"DA")||"";var i=B.getInheritableProperty(t,"FT");n.fieldType=p(i)?i.name:"",n.fieldFlags=B.getInheritableProperty(t,"Ff")||0,this.fieldResources=B.getInheritableProperty(t,"DR")||new Dict;for(var r=[],a=t,o=e.ref;a;){var s=a.get("Parent"),l=a.getRaw("Parent"),c=a.get("T");if(c)r.unshift(h(c));else{var d,u,f=s.get("Kids");for(d=0,u=f.length;d<u;d++){var g=f[d];if(g.num==o.num&&g.gen==o.gen)break}r.unshift("`"+d)}a=s,o=l}n.fullName=r.join(".")}}var n=ne.prototype;return B.inherit(e,ne,{isViewable:function(){return"Sig"===this.data.fieldType?(t("unimplemented annotation type: Widget signature"),!1):n.isViewable.call(this)}}),e}(),re=function(){function e(e){ie.call(this,e),e.data||(this.data.textAlignment=B.getInheritableProperty(e.dict,"Q"))}function t(e,t,n){var i=e.style;if(i.fontSize=t.fontSize+"px",i.direction=t.fontDirection<0?"rtl":"ltr",n){i.fontWeight=n.black?n.bold?"bolder":"bold":n.bold?"bold":"normal",i.fontStyle=n.italic?"italic":"normal";var r=n.loadedName,a=r?'"'+r+'", ':"",o=n.fallbackName||"Helvetica, sans-serif";i.fontFamily=a+o}}ie.prototype;return B.inherit(e,ie,{hasHtml:function(){return!this.data.hasAppearance&&!!this.data.fieldValue},getHtmlElement:function(e){r(!D,"getHtmlElement() shall be called from main thread");var n=this.data,i=this.getEmptyContainer("div");i.style.display="table";var a=document.createElement("div");a.textContent=n.fieldValue;var o=n.textAlignment;a.style.textAlign=["left","center","right"][o],a.style.verticalAlign="middle",a.style.display="table-cell";var s=n.fontRefName?e.getData(n.fontRefName):null;t(a,n,s);return i.appendChild(a),i},getOperatorList:function(e){if(this.appearance)return ne.prototype.getOperatorList.call(this,e);var t=new _,n=new OperatorList,i=this.data,r=i.defaultAppearance;if(!r)return t.resolve(n),t;var a=new Stream(c(r));e.getOperatorList(a,this.fieldResources,n);var o=n.fnArray,s=n.argsArray,l=[];i.rgb=[0,0,0];for(var h=0,d=l.length;h<d;++h){var u=o[h],f=s[h];if(u===I.setFont){i.fontRefName=f[0];var p=f[1];p<0?(i.fontDirection=-1,i.fontSize=-p):(i.fontDirection=1,i.fontSize=p)}else if(u===I.setFillRGBColor)i.rgb=f;else if(u===I.setFillGray){var g=255*f[0];i.rgb=[g,g,g]}}return t.resolve(n),t}}),e}(),ae=function(){function e(e){if(ne.call(this,e),!e.data){var t=e.dict,n=this.data,i=t.get("Contents"),r=t.get("T");n.content=h(i||""),n.title=h(r||""),n.name=t.has("Name")?t.get("Name").name:"Note"}}var t=10;return B.inherit(e,ne,{getOperatorList:function(e){var t=new _;return t.resolve(new OperatorList),t},hasHtml:function(){return!0},getHtmlElement:function(e){r(!D,"getHtmlElement() shall be called from main thread");var n=this.data,i=n.rect;i[3]-i[1]<t&&(i[3]=i[1]+t),i[2]-i[0]<t&&(i[2]=i[0]+(i[3]-i[1]));var a=this.getEmptyContainer("section",i);a.className="annotText";var o=document.createElement("img");o.style.height=a.style.height;var s=n.name;o.src=PDFJS.imageResourcesPath+"annotation-"+s.toLowerCase()+".svg",o.alt="[{{type}} Annotation]",o.dataset.l10nId="text_annotation_type",o.dataset.l10nArgs=JSON.stringify({type:s});var l=document.createElement("div");l.setAttribute("hidden",!0);var c=document.createElement("h1"),h=document.createElement("p");if(l.style.left=Math.floor(i[2]-i[0])+"px",l.style.top="0px",c.textContent=n.title,n.content||n.title){for(var d=document.createElement("span"),u=n.content.split(/(?:\r\n?|\n)/),f=0,p=u.length;f<p;++f){var g=u[f];d.appendChild(document.createTextNode(g)),f<p-1&&d.appendChild(document.createElement("br"))}h.appendChild(d);var m=function(){a.style.zIndex+=1,l.removeAttribute("hidden")},v=function(e){(e.toElement||e.relatedTarget)&&(a.style.zIndex-=1,l.setAttribute("hidden",!0))};l.addEventListener("mouseover",m,!1),l.addEventListener("mouseout",v,!1),o.addEventListener("mouseover",m,!1),o.addEventListener("mouseout",v,!1)}else l.setAttribute("hidden",!0);return l.appendChild(c),l.appendChild(h),a.appendChild(o),a.appendChild(l),a}}),e}(),oe=function(){function e(e){if(ne.call(this,e),!e.data){var i=e.dict,r=this.data,a=i.get("A");if(a){var s=a.get("S").name;if("URI"===s){var l=a.get("URI");l=p(l)?"/"+l.name:n(l),o(l,!1)||(l=""),r.url=l}else if("GoTo"===s)r.dest=a.get("D");else if("GoToR"===s){var c=a.get("F");g(c)&&(l=c.get("F")||""),o(l,!1)||(l=""),r.url=l,r.dest=a.get("D")}else"Named"===s?r.action=a.get("N").name:t("unrecognized link type: "+s)}else if(i.has("Dest")){var h=i.get("Dest");r.dest=p(h)?h.name:h}}}function n(e){return 0===e.indexOf("www.")?"http://"+e:e}return B.inherit(e,ne,{hasOperatorList:function(){return!1},hasHtml:function(){return!0},getHtmlElement:function(e){var t=this.data.rect,n=document.createElement("a"),i=this.data.borderWidth;n.style.borderWidth=i+"px";for(var r=this.data.color,a=[],o=0;o<3;++o)a[o]=Math.round(255*r[o]);n.style.borderColor=B.makeCssRgb(a),n.style.borderStyle="solid";var s=t[2]-t[0]-2*i,l=t[3]-t[1]-2*i;return n.style.width=s+"px",n.style.height=l+"px",n.href=this.data.url||"",n}}),e}();PDFJS.maxImageSize=void 0===PDFJS.maxImageSize?-1:PDFJS.maxImageSize,PDFJS.disableFontFace=void 0!==PDFJS.disableFontFace&&PDFJS.disableFontFace,PDFJS.imageResourcesPath=void 0===PDFJS.imageResourcesPath?"":PDFJS.imageResourcesPath,PDFJS.disableWorker=void 0!==PDFJS.disableWorker&&PDFJS.disableWorker,PDFJS.workerSrc=void 0===PDFJS.workerSrc?null:PDFJS.workerSrc,PDFJS.disableRange=void 0!==PDFJS.disableRange&&PDFJS.disableRange,PDFJS.disableAutoFetch=void 0!==PDFJS.disableAutoFetch&&PDFJS.disableAutoFetch,PDFJS.pdfBug=void 0!==PDFJS.pdfBug&&PDFJS.pdfBug,PDFJS.postMessageTransfers=void 0===PDFJS.postMessageTransfers||PDFJS.postMessageTransfers,PDFJS.disableCreateObjectURL=void 0!==PDFJS.disableCreateObjectURL&&PDFJS.disableCreateObjectURL,PDFJS.verbosity=void 0===PDFJS.verbosity?PDFJS.VERBOSITY_LEVELS.warnings:PDFJS.verbosity,PDFJS.getDocument=function(e,t,i,r){var o,s,l;"string"==typeof e?e={url:e}:A(e)?e={data:e}:"object"!=typeof e&&n("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object"),e.url||e.data||n("Invalid parameter array, need either .data or .url");var c={};for(var h in e)"url"!==h||"undefined"==typeof window?c[h]=e[h]:c[h]=a(window.location.href,e[h]);return o=new PDFJS.LegacyPromise,s=new PDFJS.LegacyPromise,l=new ce(o,s,t,r),o.then(function(){l.passwordCallback=i,l.fetchDocument(c)}),s};var se=function(){function e(e,t){this.pdfInfo=e,this.transport=t}return e.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},get embeddedFontsUsed(){return this.transport.embeddedFontsUsed},getPage:function(e){return this.transport.getPage(e)},getPageIndex:function(e){return this.transport.getPageIndex(e)},getDestinations:function(){return this.transport.getDestinations()},getJavaScript:function(){var e=new PDFJS.LegacyPromise,t=this.pdfInfo.javaScript;return e.resolve(t),e},getOutline:function(){var e=new PDFJS.LegacyPromise,t=this.pdfInfo.outline;return e.resolve(t),e},getMetadata:function(){var e=new PDFJS.LegacyPromise,t=this.pdfInfo.info,n=this.pdfInfo.metadata;return e.resolve({info:t,metadata:n?new PDFJS.Metadata(n):null}),e},getData:function(){var e=new PDFJS.LegacyPromise;return this.transport.getData(e),e},getDownloadInfo:function(){return this.transport.downloadInfoPromise},cleanup:function(){this.transport.startCleanup()},destroy:function(){this.transport.destroy()}},e}(),le=function(){function e(e,t){this.pageInfo=e,this.transport=t,this.stats=new N,this.stats.enabled=!!F.PDFJS.enableStats,this.commonObjs=t.commonObjs,this.objs=new he,this.receivingOperatorList=!1,this.cleanupAfterRender=!1,this.pendingDestroy=!1,this.renderTasks=[]}return e.prototype={get pageNumber(){return this.pageInfo.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get view(){return this.pageInfo.view},getViewport:function(e,t){return arguments.length<2&&(t=this.rotate),new PDFJS.PageViewport(this.view,e,t,0,0)},getAnnotations:function(){if(this.annotationsPromise)return this.annotationsPromise;var e=new PDFJS.LegacyPromise;return this.annotationsPromise=e,this.transport.getAnnotations(this.pageInfo.pageIndex),e},render:function(e){function t(e){var t=a.renderTasks.indexOf(i);t>=0&&a.renderTasks.splice(t,1),a.cleanupAfterRender&&(a.pendingDestroy=!0),a._tryDestroy(),e?r.promise.reject(e):r.promise.resolve(),n.timeEnd("Rendering"),n.timeEnd("Overall")}var n=this.stats;n.time("Overall"),this.pendingDestroy=!1,this.displayReadyPromise||(this.receivingOperatorList=!0,this.displayReadyPromise=new _,this.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1}));var i=new ue(t,e,this.objs,this.commonObjs,this.operatorList,this.pageNumber);this.renderTasks.push(i);var r=new de(i),a=this;return this.displayReadyPromise.then(function(e){return a.pendingDestroy?void t():(n.time("Rendering"),i.initalizeGraphics(e),void i.operatorListChanged())},function(e){t(e)}),r},getTextContent:function(){var e=new PDFJS.LegacyPromise;return this.transport.messageHandler.send("GetTextContent",{pageIndex:this.pageNumber-1},function(t){e.resolve(t)}),e},destroy:function(){this.pendingDestroy=!0,this._tryDestroy()},_tryDestroy:function(){this.pendingDestroy&&0===this.renderTasks.length&&!this.receivingOperatorList&&(delete this.operatorList,delete this.displayReadyPromise,this.objs.clear(),this.pendingDestroy=!1)},_startRenderPage:function(e){this.displayReadyPromise.resolve(e)},_renderPageChunk:function(e){for(var t=0,n=e.length;t<n;t++)this.operatorList.fnArray.push(e.fnArray[t]),this.operatorList.argsArray.push(e.argsArray[t]);this.operatorList.lastChunk=e.lastChunk;for(var t=0;t<this.renderTasks.length;t++)this.renderTasks[t].operatorListChanged();e.lastChunk&&(this.receivingOperatorList=!1,this._tryDestroy())}},e}(),ce=function(){function i(t,i,r,a){if(this.pdfDataRangeTransport=r,this.workerReadyPromise=i,
this.progressCallback=a,this.commonObjs=new he,this.pageCache=[],this.pagePromises=[],this.embeddedFontsUsed=!1,this.downloadInfoPromise=new PDFJS.LegacyPromise,this.passwordCallback=null,!F.PDFJS.disableWorker&&"undefined"!=typeof Worker){var o=PDFJS.workerSrc;o||n("No PDFJS.workerSrc specified");try{var s=new Worker(o),l=new b("main",s);this.messageHandler=l,l.on("test",function(e){var n=e&&e.supportTypedArray;n?(this.worker=s,e.supportTransfers||(PDFJS.postMessageTransfers=!1),this.setupMessageHandler(l),t.resolve()):(F.PDFJS.disableWorker=!0,this.loadFakeWorkerFiles().then(function(){this.setupFakeWorker(),t.resolve()}.bind(this)))}.bind(this));var c=new Uint8Array([PDFJS.postMessageTransfers?255:0]);try{l.send("test",c,null,[c.buffer])}catch(h){e("Cannot use postMessage transfers"),c[0]=0,l.send("test",c)}return}catch(d){e("The worker has been disabled.")}}F.PDFJS.disableWorker=!0,this.loadFakeWorkerFiles().then(function(){this.setupFakeWorker(),t.resolve()}.bind(this))}return i.prototype={destroy:function(){this.pageCache=[],this.pagePromises=[];var e=this;this.messageHandler.send("Terminate",null,function(){we.clear(),e.worker&&e.worker.terminate()})},loadFakeWorkerFiles:function(){return PDFJS.fakeWorkerFilesLoadedPromise||(PDFJS.fakeWorkerFilesLoadedPromise=new _,B.loadScript(PDFJS.workerSrc,function(){PDFJS.fakeWorkerFilesLoadedPromise.resolve()})),PDFJS.fakeWorkerFilesLoadedPromise},setupFakeWorker:function(){t("Setting up fake worker.");var e={postMessage:function(t){e.onmessage({data:t})},terminate:function(){}},n=new b("main",e);this.setupMessageHandler(n),PDFJS.WorkerMessageHandler.setup(n)},setupMessageHandler:function(e){function i(t){e.send("UpdatePassword",t)}this.messageHandler=e;var r=this.pdfDataRangeTransport;r&&(r.addRangeListener(function(t,n){e.send("OnDataRange",{begin:t,chunk:n})}),r.addProgressListener(function(t){e.send("OnDataProgress",{loaded:t})}),e.on("RequestDataRange",function(e){r.requestDataRange(e.begin,e.end)},this)),e.on("GetDoc",function(e){var t=e.pdfInfo,n=new se(t,this);this.pdfDocument=n,this.workerReadyPromise.resolve(n)},this),e.on("NeedPassword",function(e){return this.passwordCallback?this.passwordCallback(i,R.NEED_PASSWORD):void this.workerReadyPromise.reject(e.exception.message,e.exception)},this),e.on("IncorrectPassword",function(e){return this.passwordCallback?this.passwordCallback(i,R.INCORRECT_PASSWORD):void this.workerReadyPromise.reject(e.exception.message,e.exception)},this),e.on("InvalidPDF",function(e){this.workerReadyPromise.reject(e.exception.name,e.exception)},this),e.on("MissingPDF",function(e){this.workerReadyPromise.reject(e.exception.message,e.exception)},this),e.on("UnknownError",function(e){this.workerReadyPromise.reject(e.exception.message,e.exception)},this),e.on("DataLoaded",function(e){this.downloadInfoPromise.resolve(e)},this),e.on("GetPage",function(e){var t=e.pageInfo,n=new le(t,this);this.pageCache[t.pageIndex]=n;var i=this.pagePromises[t.pageIndex];i.resolve(n)},this),e.on("GetAnnotations",function(e){var t=e.annotations,n=this.pageCache[e.pageIndex].annotationsPromise;n.resolve(t)},this),e.on("StartRenderPage",function(e){var t=this.pageCache[e.pageIndex];t.stats.timeEnd("Page Request"),t._startRenderPage(e.transparency)},this),e.on("RenderPageChunk",function(e){var t=this.pageCache[e.pageIndex];t._renderPageChunk(e.operatorList)},this),e.on("commonobj",function(e){var n=e[0],i=e[1];if(!this.commonObjs.hasData(n))switch(i){case"Font":var r,a=e[2];if("error"in a){var o=a.error;t("Error during font loading: "+o),this.commonObjs.resolve(n,o);break}r=new Pe(a),we.bind([r],function(e){this.commonObjs.resolve(n,r)}.bind(this));break;case"FontPath":this.commonObjs.resolve(n,e[2]);break;default:o("Got unknown common object type "+i)}},this),e.on("obj",function(e){var t=e[0],i=e[1],r=e[2],a=this.pageCache[i];if(!a.objs.hasData(t))switch(r){case"JpegStream":var o=e[3];w(t,o,a.objs);break;case"Image":var o=e[3];a.objs.resolve(t,o);var s=8e6;"data"in o&&o.data.length>s&&(a.cleanupAfterRender=!0);break;default:n("Got unknown object type "+r)}},this),e.on("DocProgress",function(e){this.progressCallback&&this.progressCallback({loaded:e.loaded,total:e.total})},this),e.on("DocError",function(e){this.workerReadyPromise.reject(e)},this),e.on("PageError",function(e){var t=this.pageCache[e.pageNum-1];t.displayReadyPromise?t.displayReadyPromise.reject(e.error):n(e.error)},this),e.on("JpegDecode",function(e,t){var i=e[0],r=e[1];3!=r&&1!=r&&n("Only 3 component or 1 component can be returned");var a=new Image;a.onload=function(){var e=a.width,n=a.height,i=e*n,o=4*i,s=new Uint8Array(i*r),l=P(e,n),c=l.getContext("2d");c.drawImage(a,0,0);var h=c.getImageData(0,0,e,n).data;if(3==r)for(var d=0,u=0;d<o;d+=4,u+=3)s[u]=h[d],s[u+1]=h[d+1],s[u+2]=h[d+2];else if(1==r)for(var d=0,u=0;d<o;d+=4,u++)s[u]=h[d];t.resolve({data:s,width:e,height:n})}.bind(this),a.src=i})},fetchDocument:function(e){e.disableAutoFetch=PDFJS.disableAutoFetch,e.chunkedViewerLoading=!!this.pdfDataRangeTransport,this.messageHandler.send("GetDocRequest",{source:e,disableRange:PDFJS.disableRange,maxImageSize:PDFJS.maxImageSize,disableFontFace:PDFJS.disableFontFace,disableCreateObjectURL:PDFJS.disableCreateObjectURL,verbosity:PDFJS.verbosity})},getData:function(e){this.messageHandler.send("GetData",null,function(t){e.resolve(t)})},getPage:function(e,t){var n=e-1;if(n in this.pagePromises)return this.pagePromises[n];var t=new PDFJS.LegacyPromise;return this.pagePromises[n]=t,this.messageHandler.send("GetPageRequest",{pageIndex:n}),t},getPageIndex:function(e){var t=new PDFJS.LegacyPromise;return this.messageHandler.send("GetPageIndex",{ref:e},function(e){t.resolve(e)}),t},getAnnotations:function(e){this.messageHandler.send("GetAnnotationsRequest",{pageIndex:e})},getDestinations:function(){var e=new PDFJS.LegacyPromise;return this.messageHandler.send("GetDestinations",null,function(t){e.resolve(t)}),e},startCleanup:function(){this.messageHandler.send("Cleanup",null,function(){for(var e=0,t=this.pageCache.length;e<t;e++){var n=this.pageCache[e];n&&n.destroy()}this.commonObjs.clear(),we.clear()}.bind(this))}},i}(),he=function(){function e(){this.objs={}}return e.prototype={ensureObj:function(e){if(this.objs[e])return this.objs[e];var t={promise:new _,data:null,resolved:!1};return this.objs[e]=t,t},get:function(e,t){if(t)return this.ensureObj(e).promise.then(t),null;var i=this.objs[e];return i&&i.resolved||n("Requesting object that isn't resolved yet "+e),i.data},resolve:function(e,t){var n=this.ensureObj(e);n.resolved=!0,n.data=t,n.promise.resolve(t)},isResolved:function(e){var t=this.objs;return!!t[e]&&t[e].resolved},hasData:function(e){return this.isResolved(e)},getData:function(e){var t=this.objs;return t[e]&&t[e].resolved?t[e].data:null},clear:function(){this.objs={}}},e}(),de=function(){function e(e){this.internalRenderTask=e,this.promise=new PDFJS.LegacyPromise}return e.prototype={cancel:function(){this.internalRenderTask.cancel(),this.promise.reject(new Error("Rendering is cancelled"))}},e}(),ue=function(){function e(e,t,n,i,r,a){this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.operatorListIdx=null,this.operatorList=r,this.pageNumber=a,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this.cancelled=!1}return e.prototype={initalizeGraphics:function(e){if(!this.cancelled){PDFJS.pdfBug&&"StepperManager"in F&&F.StepperManager.enabled&&(this.stepper=F.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var t=this.params;this.gfx=new ve(t.canvasContext,this.commonObjs,this.objs,t.textLayer,t.imageLayer),this.gfx.beginDrawing(t.viewport,e),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=!1,this.cancelled=!0,this.callback("cancelled")},operatorListChanged:function(){return this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),void(this.running||this._continue())):void(this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continue.bind(this)))},_continue:function(){this.running=!0,this.cancelled||(this.params.continueCallback?this.params.continueCallback(this._next.bind(this)):this._next())},_next:function(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continue.bind(this),this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this.callback())))}},e}(),fe=(PDFJS.Metadata=function(){function e(e){return e.replace(/>\\376\\377([^<]+)/g,function(e,t){for(var n=t.replace(/\\([0-3])([0-7])([0-7])/g,function(e,t,n,i){return String.fromCharCode(64*t+8*n+1*i)}),i="",r=0;r<n.length;r+=2){var a=256*n.charCodeAt(r)+n.charCodeAt(r+1);i+="&#x"+(65536+a).toString(16).substring(1)+";"}return">"+i})}function t(t){if("string"==typeof t){t=e(t);var i=new DOMParser;t=i.parseFromString(t,"application/xml")}else t instanceof Document||n("Metadata: Invalid metadata object");this.metaDocument=t,this.metadata={},this.parse()}return t.prototype={parse:function(){var e=this.metaDocument,t=e.documentElement;if("rdf:rdf"!==t.nodeName.toLowerCase())for(t=t.firstChild;t&&"rdf:rdf"!==t.nodeName.toLowerCase();)t=t.nextSibling;var n=t?t.nodeName.toLowerCase():null;if(t&&"rdf:rdf"===n&&t.hasChildNodes()){var i,r,a,o,s,l,c,h=t.childNodes;for(o=0,l=h.length;o<l;o++)if(i=h[o],"rdf:description"===i.nodeName.toLowerCase())for(s=0,c=i.childNodes.length;s<c;s++)"#text"!==i.childNodes[s].nodeName.toLowerCase()&&(r=i.childNodes[s],a=r.nodeName.toLowerCase(),this.metadata[a]=r.textContent.trim())}},get:function(e){return this.metadata[e]||null},has:function(e){return"undefined"!=typeof this.metadata[e]}},t}(),16),pe=!0,ge=function(){var e={};return{getCanvas:function(t,n,i,r){var a;if(t in e)a=e[t],a.canvas.width=n,a.canvas.height=i,a.context.setTransform(1,0,0,1,0,0);else{var o=P(n,i),s=o.getContext("2d");r&&y(s),e[t]=a={canvas:o,context:s}}return a},clear:function(){e={}}}}(),me=function(){function e(e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=M,this.fontMatrix=x,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=k.FILL,this.textRise=0,this.fillColorSpace=V.singletons.gray,this.fillColorSpaceObj=null,this.strokeColorSpace=V.singletons.gray,this.strokeColorSpaceObj=null,this.fillColorObj=null,this.strokeColorObj=null,this.fillColor="#000000",this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.old=e}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),ve=function(){function i(e,t,n,i,r){this.ctx=e,this.current=new me,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.textLayer=i,this.imageLayer=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,e&&y(e)}function a(e,t){if("undefined"!=typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);var i=t.height,r=t.width,a=16,o=i/a,s=Math.floor(o),l=Math.ceil(o),c=i-s*a,h=e.createImageData(r,a),d=0,u=t.data,f=h.data;if("grayscale_1bpp"===t.kind){for(var p=t.data,g=h.data,m=g.length,v=t.origLength,A=3;A<m;A+=4)g[A]=255;for(var A=0;A<l;A++){for(var b=A<s?a:c,w=0,P=0;P<b;P++)for(var y=0,S=0,C=0;C<r;C++,w+=4){if(0===y){if(d>=v)break;S=p[d++],y=128}S&y?(g[w]=255,g[w+1]=255,g[w+2]=255):(g[w]=0,g[w+1]=0,g[w+2]=0),y>>=1}if(w<m){w+=3;do g[w]=0,w+=4;while(w<m)}e.putImageData(h,0,A*a)}}else if("rgba_32bpp"===t.kind)for(var F=("set"in f&&"subarray"in u),A=0;A<l;A++){var b=A<s?a:c,D=t.width*b*4;if(F)f.set(u.subarray(d,d+D)),d+=D;else for(var P=0;P<D;P++)h.data[P]=t.data[d++];e.putImageData(h,0,A*a)}else n("bad image kind: "+t.kind)}function o(e,t){for(var n=t.width,i=t.height,r=e.createImageData(n,i),a=t.data,o=r.data,s=0,l=3,c=0;c<i;c++)for(var h=0,d=0;d<n;d++){if(!h){var u=a[s++];h=128}u&h||(o[l]=255),l+=4,h>>=1}e.putImageData(r,0,0)}function l(e,t){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],i=0,r=n.length;i<r;i++){var a=n[i];a in e&&(t[a]=e[a])}"setLineDash"in e?(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset):"mozDash"in e&&(t.mozDash=e.mozDash,t.mozDashOffset=e.mozDashOffset)}function c(e,t,n){var i,r=t.canvas,a=t.context,o=r.width,s=r.height;if(t.backdrop){var l=t.colorSpace||V.singletons.rgb,c=l.getRgb(t.backdrop,0);i=function(e,t,n,i){for(var r=i.length,a=3;a<r;a+=4){var o=i[a]/255;if(0===o)i[a-3]=e,i[a-2]=t,i[a-1]=n;else if(o<1){var s=1-o;i[a-3]=i[a-3]*o+e*s|0,i[a-2]=i[a-2]*o+t*s|0,i[a-1]=i[a-1]*o+n*s|0}}}.bind(null,c[0],c[1],c[2])}else i=function(){};var h;h="Luminosity"===t.subtype?function(e,t){for(var n=e.length,i=3;i<n;i+=4){var r=77*e[i-3]+152*e[i-2]+28*e[i-1]|0;t[i]=t[i]*r>>16}}:function(e,t){for(var n=e.length,i=3;i<n;i+=4){var r=e[i];t[i]=t[i]*r/255|0}};for(var d=16,u=0;u<s;u+=d){var f=Math.min(d,s-u),p=a.getImageData(0,u,o,f),g=n.getImageData(0,u,o,f);i(p.data),h(p.data,g.data),a.putImageData(g,0,u)}e.setTransform(1,0,0,1,0,0),e.drawImage(r,t.offsetX,t.offsetY)}var h=15,d=["butt","round","square"],f=["miter","round","bevel"],p={},g={};i.prototype={beginDrawing:function(e,t){var n=this.ctx.canvas.width,i=this.ctx.canvas.height;t?this.ctx.clearRect(0,0,n,i):(this.ctx.mozOpaque=!0,this.ctx.save(),this.ctx.fillStyle="rgb(255, 255, 255)",this.ctx.fillRect(0,0,n,i),this.ctx.restore());var r=e.transform;this.baseTransform=r.slice(),this.ctx.save(),this.ctx.transform.apply(this.ctx,r),this.textLayer&&this.textLayer.beginLayout(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,t,n,i){var r=e.argsArray,a=e.fnArray,o=t||0,s=r.length;if(s==o)return o;for(var l,c=Date.now()+h,d=this.commonObjs,u=this.objs,f=Promise.resolve();;){if(i&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(l=a[o],l!==I.dependency)this[l].apply(this,r[o]);else for(var p=r[o],g=0,m=p.length;g<m;g++){var v=p[g],A="g_"==v.substring(0,2);if(!A&&!u.isResolved(v))return u.get(v,n),o;if(A&&!d.isResolved(v))return d.get(v,n),o}if(o++,o==s)return o;if(n&&Date.now()>c)return f.then(n),o}},endDrawing:function(){this.ctx.restore(),ge.clear(),this.textLayer&&this.textLayer.endLayout(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=d[e]},setLineJoin:function(e){this.ctx.lineJoin=f[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var n=this.ctx;"setLineDash"in n?(n.setLineDash(e),n.lineDashOffset=t):(n.mozDash=e,n.mozDashOffset=t)},setRenderingIntent:function(e){},setFlatness:function(e){},setGState:function(e){for(var n=0,i=e.length;n<i;n++){var r=e[n],a=r[0],o=r[1];switch(a){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=r[1];break;case"ca":this.current.fillAlpha=r[1],this.ctx.globalAlpha=r[1];break;case"BM":if(o&&o.name&&"Normal"!==o.name){var s=o.name.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()}).substring(1);this.ctx.globalCompositeOperation=s,this.ctx.globalCompositeOperation!==s&&t('globalCompositeOperation "'+s+'" is not supported')}else this.ctx.globalCompositeOperation="source-over";break;case"SMask":this.current.activeSMask&&this.endSMaskGroup(),this.current.activeSMask=o?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var e=this.current.activeSMask,t=e.canvas.width,n=e.canvas.height,i="smaskGroupAt"+this.groupLevel,r=ge.getCanvas(i,t,n,!0),a=this.ctx,o=a.mozCurrentTransform;this.ctx.save();var s=r.context;s.translate(-e.offsetX,-e.offsetY),s.transform.apply(s,o),l(a,s),this.ctx=s,this.setGState([["BM","Normal"],["ca",1],["CA",1]]),this.groupStack.push(a),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),c(this.ctx,this.current.activeSMask,e),this.ctx.restore()},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.activeSMask&&(this.current.activeSMask=null)},restore:function(){var e=this.stateStack.pop();e&&(this.current.activeSMask&&this.endSMaskGroup(),this.current=e,this.ctx.restore())},transform:function(e,t,n,i,r,a){this.ctx.transform(e,t,n,i,r,a)},moveTo:function(e,t){this.ctx.moveTo(e,t),this.current.setCurrentPoint(e,t)},lineTo:function(e,t){this.ctx.lineTo(e,t),this.current.setCurrentPoint(e,t)},curveTo:function(e,t,n,i,r,a){this.ctx.bezierCurveTo(e,t,n,i,r,a),this.current.setCurrentPoint(r,a)},curveTo2:function(e,t,n,i){var r=this.current;this.ctx.bezierCurveTo(r.x,r.y,e,t,n,i),r.setCurrentPoint(n,i)},curveTo3:function(e,t,n,i){this.curveTo(e,t,n,i,n,i),this.current.setCurrentPoint(n,i)},closePath:function(){this.ctx.closePath()},rectangle:function(e,t,n,i){this.ctx.rect(e,t,n,i)},stroke:function(e){e="undefined"==typeof e||e;var t=this.ctx,n=this.current.strokeColor;0===this.current.lineWidth&&(t.lineWidth=this.getSinglePixelWidth()),t.globalAlpha=this.current.strokeAlpha,n&&n.hasOwnProperty("type")&&"Pattern"===n.type?(t.save(),t.strokeStyle=n.getPattern(t,this),t.stroke(),t.restore()):t.stroke(),e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e="undefined"==typeof e||e;var t=this.ctx,n=this.current.fillColor,i=!1;if(n&&n.hasOwnProperty("type")&&"Pattern"===n.type&&(t.save(),t.fillStyle=n.getPattern(t,this),i=!0),this.pendingEOFill){if("mozFillRule"in this.ctx)this.ctx.mozFillRule="evenodd",this.ctx.fill(),this.ctx.mozFillRule="nonzero";else try{this.ctx.fill("evenodd")}catch(r){this.ctx.fill()}this.pendingEOFill=!1}else this.ctx.fill();i&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=p},eoClip:function(){this.pendingClip=g},beginText:function(){this.current.textMatrix=M,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){if(!("pendingTextPaths"in this))return void this.ctx.beginPath();var e=this.pendingTextPaths,t=this.ctx;t.save(),t.beginPath();for(var n=0;n<e.length;n++){var i=e[n];t.setTransform.apply(t,i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,i){var r=this.commonObjs.get(e),a=this.current;if(r||n("Can't find font for "+e),a.fontMatrix=r.fontMatrix?r.fontMatrix:x,0!==a.fontMatrix[0]&&0!==a.fontMatrix[3]||t("Invalid font matrix for font "+e),i<0?(i=-i,a.fontDirection=-1):a.fontDirection=1,this.current.font=r,this.current.fontSize=i,!r.coded){var o=r.loadedName||"sans-serif",s=r.black?r.bold?"bolder":"bold":r.bold?"bold":"normal",l=r.italic?"italic":"normal",c='"'+o+'", '+r.fallbackName,h=i>=fe?i:fe;this.current.fontSizeScale=h!=fe?1:i/fe;var d=l+" "+s+" "+h+"px "+c;this.ctx.font=d}},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,n,i,r,a){this.current.textMatrix=[e,t,n,i,r,a],this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},applyTextTransforms:function(){var e=this.ctx,t=this.current;e.transform.apply(e,t.textMatrix),e.translate(t.x,t.y+t.textRise),t.fontDirection>0?e.scale(t.textHScale,-1):e.scale(-t.textHScale,1)},createTextGeometry:function(){var e={},t=this.ctx,n=this.current.font,i=t.mozCurrentTransform,r=i[0],a=i[1],o=i[2],s=i[3],l=i[4],c=i[5],h=r>=0?Math.sqrt(r*r+a*a):-Math.sqrt(r*r+a*a),d=s>=0?Math.sqrt(o*o+s*s):-Math.sqrt(o*o+s*s),u=Math.atan2(a,r),f=l,p=c;return e.x=f,e.y=p,e.hScale=h,e.vScale=d,e.angle=u,e.spaceWidth=n.spaceWidth,e.fontName=n.loadedName,e.fontFamily=n.fallbackName,e.fontSize=this.current.fontSize,e.ascent=n.ascent,e.descent=n.descent,e},paintChar:function(e,t,n){var i,r=this.ctx,a=this.current,o=a.font,s=a.fontSize/a.fontSizeScale,l=a.textRenderingMode,c=l&k.FILL_STROKE_MASK,h=!!(l&k.ADD_TO_PATH_FLAG);if((o.disableFontFace||h)&&(i=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace?(r.save(),r.translate(t,n),r.beginPath(),i(r,s),c!==k.FILL&&c!==k.FILL_STROKE||r.fill(),c!==k.STROKE&&c!==k.FILL_STROKE||r.stroke(),r.restore()):(c!==k.FILL&&c!==k.FILL_STROKE||r.fillText(e,t,n),c!==k.STROKE&&c!==k.FILL_STROKE||r.strokeText(e,t,n)),h){var d=this.pendingTextPaths||(this.pendingTextPaths=[]);d.push({transform:r.mozCurrentTransform,x:t,y:n,fontSize:s,addToPath:i})}},get isFontSubpixelAAEnabled(){var e=document.createElement("canvas").getContext("2d");e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,n=!1,i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return s(this,"isFontSubpixelAAEnabled",n)},showText:function(e,t){var n,i=this.ctx,r=this.current,a=r.font,o=r.fontSize,s=r.fontSizeScale,l=r.charSpacing,c=r.wordSpacing,h=r.textHScale*r.fontDirection,d=r.fontMatrix||x,u=e.length,f=this.textLayer,p=!(!f||t),g=0,m=a.vertical,v=a.defaultVMetrics;if(a.coded){i.save(),i.transform.apply(i,r.textMatrix),i.translate(r.x,r.y),i.scale(h,1),p&&(this.save(),i.scale(1,-1),n=this.createTextGeometry(),this.restore());for(var A=0;A<u;++A){var b=e[A];if(null!==b){this.processingType3=b,this.save(),i.scale(o,o),i.transform.apply(i,d),this.executeOperatorList(b.operatorList),this.restore();var w=B.applyTransform([b.width,0],d),P=(w[0]*o+l)*r.fontDirection;i.translate(P,0),r.x+=P*h,g+=P}else this.ctx.translate(c,0),r.x+=c*h}i.restore(),this.processingType3=null}else{i.save(),this.applyTextTransforms();var y=r.lineWidth,S=r.textMatrix[0],C=r.textMatrix[1],F=Math.sqrt(S*S+C*C);0===F||0===y?y=this.getSinglePixelWidth():y/=F,p&&(n=this.createTextGeometry()),1!=s&&(i.scale(s,s),y/=s),i.lineWidth=y;for(var D=0,A=0;A<u;++A){var b=e[A];if(null!==b){var k=!1,I=b.fontChar,E=b.vmetric||v;if(m){var L=b.vmetric?E[1]:.5*b.width;L=-L*o*r.fontMatrix[0];var R=E[2]*o*r.fontMatrix[0]}var T,M,O,_,P=E?-E[0]:b.width,N=P*o*r.fontMatrix[0]+l*r.fontDirection,V=b.accent;if(!b.disabled){if(m?(T=L/s,M=(D+R)/s):(T=D/s,M=0),a.remeasure&&P>0&&this.isFontSubpixelAAEnabled){var z=1e3*i.measureText(I).width/r.fontSize*r.fontSizeScale,j=P/z;k=!0,i.save(),i.scale(j,1),T/=j,V&&(O/=j)}this.paintChar(I,T,M),V&&(O=T+V.offset.x/s,_=M-V.offset.y/s,this.paintChar(V.fontChar,O,_))}D+=N,g+=N,k&&i.restore()}else D+=r.fontDirection*c}m?r.y-=D*h:r.x+=D*h,i.restore()}if(p){if(n.canvasWidth=g,m){var U=Math.PI/2;n.angle+=U}this.textLayer.appendText(n)}return g},showSpacedText:function(e){var t,n=this.ctx,i=this.current,r=i.font,a=i.fontSize,o=.001*i.textHScale*i.fontDirection,s=e.length,l=this.textLayer,c=0,h=!!l,d=r.vertical,f=0;h&&(n.save(),this.applyTextTransforms(),t=this.createTextGeometry(),n.restore());for(var p=0;p<s;++p){var g=e[p];if(u(g)){var m=-g*a*o;d?i.y+=m:i.x+=m,h&&(f+=m)}else{var v=this.showText(g,!0);h&&(c+=f+v,f=0)}}if(h){if(t.canvasWidth=c,d){var A=Math.PI/2;t.angle+=A}this.textLayer.appendText(t)}},nextLineShowText:function(e){this.nextLine(),this.showText(e)},nextLineSetSpacingShowText:function(e,t,n){this.setWordSpacing(e),this.setCharSpacing(t),this.nextLineShowText(n)},setCharWidth:function(e,t){},setCharWidthAndBounds:function(e,t,n,i,r,a){this.rectangle(n,i,r-n,a-i),this.clip(),this.endPath()},setStrokeColorSpace:function(e){this.current.strokeColorSpace=V.fromIR(e)},setFillColorSpace:function(e){this.current.fillColorSpace=V.fromIR(e)},setStrokeColor:function(){var e=this.current.strokeColorSpace,t=e.getRgb(arguments,0),n=B.makeCssRgb(t);this.ctx.strokeStyle=n,this.current.strokeColor=n},getColorN_Pattern:function(e,t){if("TilingPattern"==e[0]){var i,r=e[1],a=t.base;if(a){a.numComps;i=a.getRgb(r,0)}var o=new be(e,i,this.ctx,this.objs,this.commonObjs,this.baseTransform)}else if("RadialAxial"==e[0]||"Dummy"==e[0])var o=C(e);else n("Unkown IR type "+e[0]);return o},setStrokeColorN:function(){var e=this.current.strokeColorSpace;"Pattern"==e.name?this.current.strokeColor=this.getColorN_Pattern(arguments,e):this.setStrokeColor.apply(this,arguments)},setFillColor:function(){var e=this.current.fillColorSpace,t=e.getRgb(arguments,0),n=B.makeCssRgb(t);this.ctx.fillStyle=n,this.current.fillColor=n},setFillColorN:function(){var e=this.current.fillColorSpace;"Pattern"==e.name?this.current.fillColor=this.getColorN_Pattern(arguments,e):this.setFillColor.apply(this,arguments)},setStrokeGray:function(e){this.current.strokeColorSpace=V.singletons.gray;var t=this.current.strokeColorSpace.getRgb(arguments,0),n=B.makeCssRgb(t);this.ctx.strokeStyle=n,this.current.strokeColor=n},setFillGray:function(e){this.current.fillColorSpace=V.singletons.gray;var t=this.current.fillColorSpace.getRgb(arguments,0),n=B.makeCssRgb(t);this.ctx.fillStyle=n,this.current.fillColor=n},setStrokeRGBColor:function(e,t,n){this.current.strokeColorSpace=V.singletons.rgb;var i=this.current.strokeColorSpace.getRgb(arguments,0),r=B.makeCssRgb(i);this.ctx.strokeStyle=r,this.current.strokeColor=r},setFillRGBColor:function(e,t,n){this.current.fillColorSpace=V.singletons.rgb;var i=this.current.fillColorSpace.getRgb(arguments,0),r=B.makeCssRgb(i);this.ctx.fillStyle=r,this.current.fillColor=r},setStrokeCMYKColor:function(e,t,n,i){this.current.strokeColorSpace=V.singletons.cmyk;var r=B.makeCssCmyk(arguments);this.ctx.strokeStyle=r,this.current.strokeColor=r},setFillCMYKColor:function(e,t,n,i){this.current.fillColorSpace=V.singletons.cmyk;var r=B.makeCssCmyk(arguments);this.ctx.fillStyle=r,this.current.fillColor=r},shadingFill:function(e){var t=this.ctx;this.save();var n=C(e);t.fillStyle=n.getPattern(t,this);var i=t.mozCurrentTransformInverse;if(i){var r=t.canvas,a=r.width,o=r.height,s=B.applyTransform([0,0],i),l=B.applyTransform([0,o],i),c=B.applyTransform([a,0],i),h=B.applyTransform([a,o],i),d=Math.min(s[0],l[0],c[0],h[0]),u=Math.min(s[1],l[1],c[1],h[1]),f=Math.max(s[0],l[0],c[0],h[0]),p=Math.max(s[1],l[1],c[1],h[1]);this.ctx.fillRect(d,u,f-d,p-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){n("Should not call beginInlineImage")},beginImageData:function(){n("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){if(this.save(),this.baseTransformStack.push(this.baseTransform),e&&m(e)&&6==e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,t&&m(t)&&4==t.length){var n=t[2]-t[0],i=t[3]-t[1];this.rectangle(t[0],t[1],n,i),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(n){this.save();var i=this.ctx;n.isolated||e("TODO: Support non-isolated groups."),n.knockout&&t("Knockout groups not supported.");var a=i.mozCurrentTransform;n.matrix&&i.transform.apply(i,n.matrix),r(n.bbox,"Bounding box is required.");var o=B.getAxialAlignedBoundingBox(n.bbox,i.mozCurrentTransform),s=[0,0,i.canvas.width,i.canvas.height];o=B.intersect(o,s)||[0,0,0,0];var c=Math.max(Math.ceil(o[2]-o[0]),1),h=Math.max(Math.ceil(o[3]-o[1]),1),d="groupAt"+this.groupLevel;n.smask&&(d+="_smask_"+this.smaskCounter++%2);var u=ge.getCanvas(d,c,h,!0),f=u.context,p=o[0],g=o[1];f.translate(-p,-g),f.transform.apply(f,a),n.smask?this.smaskStack.push({canvas:u.canvas,context:f,offsetX:p,offsetY:g,subtype:n.smask.subtype,backdrop:n.smask.backdrop,colorSpace:n.colorSpace&&V.fromIR(n.colorSpace)}):(i.setTransform(1,0,0,1,0,0),i.translate(p,g)),l(i,f),this.ctx=f,this.setGState([["BM","Normal"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++},endGroup:function(e){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),"imageSmoothingEnabled"in this.ctx?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.current=new me},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,n){if(this.save(),e&&m(e)&&4==e.length){var i=e[2]-e[0],r=e[3]-e[1];this.rectangle(e[0],e[1],i,r),this.clip(),this.endPath()}this.transform.apply(this,t),this.transform.apply(this,n)},endAnnotation:function(){this.restore()},paintJpegXObject:function(e,t,i){var r=this.objs.get(e);r||n("Dependent image isn't ready yet"),this.save();var a=this.ctx;if(a.scale(1/t,-1/i),a.drawImage(r,0,0,r.width,r.height,0,-i,t,i),this.imageLayer){var o=a.mozCurrentTransformInverse,s=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:e,left:s[0],top:s[1],width:t/o[0],height:i/o[3]})}this.restore()},paintImageMaskXObject:function(e){var t=this.ctx,n=e.width,i=e.height,r=this.processingType3;if(pe&&r&&!("compiled"in r)){var a=1e3;n<=a&&i<=a?r.compiled=S({data:e.data,width:n,height:i}):r.compiled=null}if(r&&r.compiled)return void r.compiled(t);var s=ge.getCanvas("maskCanvas",n,i),l=s.context;l.save(),o(l,e),l.globalCompositeOperation="source-in";var c=this.current.fillColor;l.fillStyle=c&&c.hasOwnProperty("type")&&"Pattern"===c.type?c.getPattern(l,this):c,l.fillRect(0,0,n,i),l.restore(),this.paintInlineImageXObject(s.canvas)},paintImageMaskXObjectGroup:function(e){for(var t=this.ctx,n=0,i=e.length;n<i;n++){var r=e[n],a=r.width,s=r.height,l=ge.getCanvas("maskCanvas",a,s),c=l.context;c.save(),o(c,r),c.globalCompositeOperation="source-in";var h=this.current.fillColor;c.fillStyle=h&&h.hasOwnProperty("type")&&"Pattern"===h.type?h.getPattern(c,this):h,c.fillRect(0,0,a,s),c.restore(),t.save(),t.transform.apply(t,r.transform),t.scale(1,-1),t.drawImage(l.canvas,0,0,a,s,0,-1,1,1),t.restore()}},paintImageXObject:function(e){var t=this.objs.get(e);t||n("Dependent image isn't ready yet"),this.paintInlineImageXObject(t)},paintInlineImageXObject:function(e){var t=e.width,n=e.height,i=this.ctx;this.save(),i.scale(1/t,-1/n);var r,o=i.mozCurrentTransformInverse,s=o[0],l=o[1],c=Math.max(Math.sqrt(s*s+l*l),1),h=o[2],d=o[3],u=Math.max(Math.sqrt(h*h+d*d),1);if(e instanceof HTMLElement||!e.data)r=e;else{var f=ge.getCanvas("inlineImage",t,n),p=f.context;a(p,e),r=f.canvas}for(var g=t,m=n,v="prescale1";c>2&&g>1||u>2&&m>1;){var A=g,b=m;c>2&&g>1&&(A=Math.ceil(g/2),c/=g/A),u>2&&m>1&&(b=Math.ceil(m/2),u/=m/b);var f=ge.getCanvas(v,A,b);p=f.context,p.clearRect(0,0,A,b),p.drawImage(r,0,0,g,m,0,0,A,b),r=f.canvas,g=A,m=b,v="prescale1"===v?"prescale2":"prescale1"}if(i.drawImage(r,0,0,g,m,0,-n,t,n),this.imageLayer){var w=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:e,left:w[0],top:w[1],width:t/o[0],height:n/o[3]})}this.restore()},paintInlineImageXObjectGroup:function(e,t){var n=this.ctx,i=e.width,r=e.height,o=ge.getCanvas("inlineImage",i,r),s=o.context;a(s,e);for(var l=0,c=t.length;l<c;l++){var h=t[l];if(n.save(),n.transform.apply(n,h.transform),
n.scale(1,-1),n.drawImage(o.canvas,h.x,h.y,h.w,h.h,0,-1,1,1),this.imageLayer){var d=this.getCanvasPosition(h.x,h.y);this.imageLayer.appendImage({imgData:e,left:d[0],top:d[1],width:i,height:r})}n.restore()}},markPoint:function(e){},markPointProps:function(e,t){},beginMarkedContent:function(e){},beginMarkedContentProps:function(e,t){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){if(this.pendingClip){if(this.pendingClip==g)if("mozFillRule"in this.ctx)this.ctx.mozFillRule="evenodd",this.ctx.clip(),this.ctx.mozFillRule="nonzero";else try{this.ctx.clip("evenodd")}catch(e){this.ctx.clip()}else this.ctx.clip();this.pendingClip=null}this.ctx.beginPath()},getSinglePixelWidth:function(e){var t=this.ctx.mozCurrentTransformInverse;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1],t[2]*t[2]+t[3]*t[3]))},getCanvasPosition:function(e,t){var n=this.ctx.mozCurrentTransform;return[n[0]*e+n[2]*t+n[4],n[1]*e+n[3]*t+n[5]]}};for(var v in I)i.prototype[I[v]]=i.prototype[v];return i}(),Ae={};Ae.RadialAxial={fromIR:function(e){var t=e[1],n=e[2],i=e[3],r=e[4],a=e[5],o=e[6];return{type:"Pattern",getPattern:function(e){var s;"axial"===t?s=e.createLinearGradient(i[0],i[1],r[0],r[1]):"radial"===t&&(s=e.createRadialGradient(i[0],i[1],a,r[0],r[1],o));for(var l=0,c=n.length;l<c;++l){var h=n[l];s.addColorStop(h[0],h[1])}return s}}}},Ae.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var be=function(){function t(e,t,n,i,r,a){this.name=e[1][0].name,this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.objs=i,this.commonObjs=r,this.baseTransform=a,this.type="Pattern",this.ctx=n}var i={COLORED:1,UNCOLORED:2},r=3e3;return t.prototype={createPatternCanvas:function(t){var n=this.operatorList,i=this.bbox,a=this.xstep,o=this.ystep,s=this.paintType,l=this.tilingType,c=this.color,h=this.objs,d=this.commonObjs;this.ctx;e("TilingType: "+l);var u=i[0],f=i[1],p=i[2],g=i[3],m=[u,f],v=[u+a,f+o],A=v[0]-m[0],b=v[1]-m[1],w=B.singularValueDecompose2dScale(this.matrix),P=B.singularValueDecompose2dScale(this.baseTransform),y=[w[0]*P[0],w[1]*P[1]];A=Math.min(Math.ceil(Math.abs(A*y[0])),r),b=Math.min(Math.ceil(Math.abs(b*y[1])),r);var S=ge.getCanvas("pattern",A,b,!0),C=S.context,F=new ve(C,d,h);F.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(C,s,c),this.setScale(A,b,a,o),this.transformToScale(F);var D=[1,0,0,1,-m[0],-m[1]];return F.transform.apply(F,D),this.clipBbox(F,i,u,f,p,g),F.executeOperatorList(n),S.canvas},setScale:function(e,t,n,i){this.scale=[e/n,t/i]},transformToScale:function(e){var t=this.scale,n=[t[0],0,0,t[1],0,0];e.transform.apply(e,n)},scaleToContext:function(){var e=this.scale;this.ctx.scale(1/e[0],1/e[1])},clipBbox:function(e,t,n,i,r,a){if(t&&m(t)&&4==t.length){var o=r-n,s=a-i;e.rectangle(n,i,o,s),e.clip(),e.endPath()}},setFillAndStrokeStyleToContext:function(e,t,r){switch(t){case i.COLORED:var a=this.ctx;e.fillStyle=a.fillStyle,e.strokeStyle=a.strokeStyle;break;case i.UNCOLORED:var o=V.singletons.rgb.getRgb(r,0),s=B.makeCssRgb(o);e.fillStyle=s,e.strokeStyle=s;break;default:n("Unsupported paint type: "+t)}},getPattern:function(e,t){var n=this.createPatternCanvas(t),e=this.ctx;return e.setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix),this.scaleToContext(),e.createPattern(n,"repeat")}},t}();PDFJS.disableFontFace=!1;var we={insertRule:function(e){var t=document.getElementById("PDFJS_FONT_STYLE_TAG");t||(t=document.createElement("style"),t.id="PDFJS_FONT_STYLE_TAG",document.documentElement.getElementsByTagName("head")[0].appendChild(t));var n=t.sheet;n.insertRule(e,n.cssRules.length)},clear:function(){var e=document.getElementById("PDFJS_FONT_STYLE_TAG");e&&e.parentNode.removeChild(e)},get loadTestFont(){return s(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},loadTestFontId:0,loadingContext:{requests:[],nextRequestId:0},isSyncFontLoadingSupported:function(){if(D)return!1;var e=window.navigator.userAgent,t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(e);return!!(t&&t[1]>=14)}(),bind:function(e,t){r(!D,"bind() shall be called from main thread");for(var n=[],i=[],a=0,o=e.length;a<o;a++){var s=e[a];if(!s.attached&&s.loading!==!1){s.attached=!0;var l=s.bindDOM();l&&(n.push(l),i.push(s))}}var c=we.queueLoadingCallback(t);n.length>0&&!this.isSyncFontLoadingSupported?we.prepareFontLoadEvent(n,i,c):c.complete()},queueLoadingCallback:function(e){function t(){for(r(!a.end,"completeRequest() cannot be called twice"),a.end=Date.now();n.requests.length>0&&n.requests[0].end;){var e=n.requests.shift();setTimeout(e.callback,0)}}var n=we.loadingContext,i="pdfjs-font-loading-"+n.nextRequestId++,a={id:i,complete:t,callback:e,started:Date.now()};return n.requests.push(a),a},prepareFontLoadEvent:function(e,n,i){function r(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function a(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)}function o(e,t,n,i){var r=p.substr(0,t),a=p.substr(t+n);return r+i+a}function s(e,n){if(u++,u>30)return t("Load test font never loaded."),void n();d.font="30px "+e,d.fillText(".",0,20);var i=d.getImageData(0,0,1,1);return i.data[3]>0?void n():void setTimeout(s.bind(null,e,n))}var l,c,h=document.createElement("canvas");h.width=1,h.height=1;var d=h.getContext("2d"),u=0,f="lt"+Date.now()+this.loadTestFontId++,p=this.loadTestFont,g=976;p=o(p,g,f.length,f);var m=16,v=1482184792,A=r(p,m);for(l=0,c=f.length-3;l<c;l+=4)A=A-v+r(f,l)|0;l<f.length&&(A=A-v+r(f+"XXX",l)|0),p=o(p,m,4,a(A));var b="url(data:font/opentype;base64,"+btoa(p)+");",w='@font-face { font-family:"'+f+'";src:'+b+"}";we.insertRule(w);var P=[];for(l=0,c=n.length;l<c;l++)P.push(n[l].loadedName);P.push(f);var y=document.createElement("div");for(y.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),l=0,c=P.length;l<c;++l){var S=document.createElement("span");S.textContent="Hi",S.style.fontFamily=P[l],y.appendChild(S)}document.body.appendChild(y),s(f,function(){document.body.removeChild(y),i.complete()})}},Pe=function(){function e(e,t,n){if(this.compiledGlyphs={},1!==arguments.length);else{var i=arguments[0];for(var r in i)this[r]=i[r]}}return e.prototype={bindDOM:function(){if(!this.data)return null;if(PDFJS.disableFontFace)return this.disableFontFace=!0,null;var e=l(this.data),t=this.loadedName,n="url(data:"+this.mimetype+";base64,"+window.btoa(e)+");",i='@font-face { font-family:"'+t+'";src:'+n+"}";return we.insertRule(i),PDFJS.pdfBug&&"FontInspector"in F&&F.FontInspector.enabled&&F.FontInspector.fontAdded(this,n),i},getPathGenerator:function(e,t){if(!(t in this.compiledGlyphs)){var n=e.get(this.loadedName+"_path_"+t);this.compiledGlyphs[t]=new Function("c","size",n)}return this.compiledGlyphs[t]}},e}()}.call("undefined"==typeof window?this:window),PDFJS.workerSrc||"undefined"==typeof document||(PDFJS.workerSrc=function(){var e=document.body||document.getElementsByTagName("head")[0],t=e.lastChild.src;return t&&t.replace(/\.js$/i,".worker.js")}());var FontInspector=function(){function e(){for(var e=document.querySelectorAll("div["+o+"]"),t=0,n=e.length;t<n;++t){var i=e[t];i.className=""}}function t(){for(var e=document.querySelectorAll("div["+o+"]"),t=0,n=e.length;t<n;++t){var i=e[t];i.className="debuggerHideText"}}function n(e,t){for(var n=document.querySelectorAll("div["+o+"="+e+"]"),i=0,r=n.length;i<r;++i){var a=n[i];a.className=t?"debuggerShowText":"debuggerHideText"}}function i(e){if(e.target.dataset.fontName&&"DIV"===e.target.tagName.toUpperCase())for(var t=e.target.dataset.fontName,i=document.getElementsByTagName("input"),r=0;r<i.length;++r){var a=i[r];a.dataset.fontName==t&&(a.checked=!a.checked,n(t,a.checked),a.scrollIntoView())}}var r,a=!1,o="data-font-name";return{id:"FontInspector",name:"Font Inspector",panel:null,manager:null,init:function(){var e=this.panel;e.setAttribute("style","padding: 5px;");var n=document.createElement("button");n.addEventListener("click",t),n.textContent="Refresh",e.appendChild(n),r=document.createElement("div"),e.appendChild(r)},enabled:!1,get active(){return a},set active(n){a=n,a?(document.body.addEventListener("click",i,!0),t()):(document.body.removeEventListener("click",i,!0),e())},fontAdded:function(e,i){function a(e,t){for(var n=document.createElement("table"),i=0;i<t.length;i++){var r=document.createElement("tr"),a=document.createElement("td");a.textContent=t[i],r.appendChild(a);var o=document.createElement("td");o.textContent=e[t[i]].toString(),r.appendChild(o),n.appendChild(r)}return n}var o=a(e,["name","type"]),s=/url\(['"]?([^\)"']+)/.exec(i),l=e.loadedName,c=document.createElement("div"),h=document.createElement("span");h.textContent=l;var d=document.createElement("a");d.href=s[1],d.textContent="Download";var u=document.createElement("a");u.href="",u.textContent="Log",u.addEventListener("click",function(t){t.preventDefault(),console.log(e)});var f=document.createElement("input");f.setAttribute("type","checkbox"),f.dataset.fontName=l,f.addEventListener("click",function(e,t){return function(){n(t,e.checked)}}(f,l)),c.appendChild(f),c.appendChild(h),c.appendChild(document.createTextNode(" ")),c.appendChild(d),c.appendChild(document.createTextNode(" ")),c.appendChild(u),c.appendChild(o),r.appendChild(c),setTimeout(function(){this.active&&t()}.bind(this),2e3)}}}(),StepperManager=function(){var e=[],t=null,n=null,i=null,r={};return{id:"Stepper",name:"Stepper",panel:null,manager:null,init:function(){var e=this;this.panel.setAttribute("style","padding: 5px;"),n=document.createElement("div"),i=document.createElement("select"),i.addEventListener("change",function(t){e.selectStepper(this.value)}),n.appendChild(i),t=document.createElement("div"),this.panel.appendChild(n),this.panel.appendChild(t),sessionStorage.getItem("pdfjsBreakPoints")&&(r=JSON.parse(sessionStorage.getItem("pdfjsBreakPoints")))},enabled:!1,active:!1,create:function(n){var a=document.createElement("div");a.id="stepper"+n,a.setAttribute("hidden",!0),a.className="stepper",t.appendChild(a);var o=document.createElement("option");o.textContent="Page "+(n+1),o.value=n,i.appendChild(o);var s=r[n]||[],l=new Stepper(a,n,s);return e.push(l),1===e.length&&this.selectStepper(n,!1),l},selectStepper:function(t,n){n&&this.manager.selectPanel(1);for(var r=0;r<e.length;++r){var a=e[r];a.pageIndex==t?a.panel.removeAttribute("hidden"):a.panel.setAttribute("hidden",!0)}for(var o=i.options,r=0;r<o.length;++r){var s=o[r];s.selected=s.value==t}},saveBreakPoints:function(e,t){r[e]=t,sessionStorage.setItem("pdfjsBreakPoints",JSON.stringify(r))}}}(),Stepper=function(){function e(e,t){var n=document.createElement(e);return t&&(n.textContent=t),n}function t(e){for(var t="",n=0;n<e.length;n++)t+=null===e[n]?" ":e[n].fontChar;return t}function n(e,t,n){this.panel=e,this.breakPoint=0,this.nextBreakPoint=null,this.pageIndex=t,this.breakPoints=n,this.currentIdx=-1,this.operatorListIdx=0}var i=null,r={showText:0,showSpacedText:0,nextLineShowText:0,nextLineSetSpacingShowText:2};return n.prototype={init:function(){var t=this.panel,n=e("div","c=continue, s=step"),r=e("table");n.appendChild(r),r.cellSpacing=0;var a=e("tr");if(r.appendChild(a),a.appendChild(e("th","Break")),a.appendChild(e("th","Idx")),a.appendChild(e("th","fn")),a.appendChild(e("th","args")),t.appendChild(n),this.table=r,!i){i=Object.create(null);for(var o in PDFJS.OPS)i[PDFJS.OPS[o]]=o}},updateOperatorList:function(n){for(var a=this,o=this.operatorListIdx;o<n.fnArray.length;o++){var s=e("tr");s.className="line",s.dataset.idx=o,this.table.appendChild(s);var l=this.breakPoints.indexOf(o)!=-1,c=n.argsArray[o]?n.argsArray[o]:[],h=e("td"),d=e("input");d.type="checkbox",d.className="points",d.checked=l,d.onclick=function(e){return function(){this.checked?a.breakPoints.push(e):a.breakPoints.splice(a.breakPoints.indexOf(e),1),StepperManager.saveBreakPoints(a.pageIndex,a.breakPoints)}}(o),h.appendChild(d),s.appendChild(h),s.appendChild(e("td",o.toString()));var u=i[n.fnArray[o]],f=c;if(u in r){var p,g=r[u],m=c[g],f=c.slice();if("showSpacedText"===u){p=[];for(var v=0;v<m.length;v++)"number"==typeof m[v]?p.push(m[v]):p.push(t(m[v]))}else p=t(m);f[g]=p}s.appendChild(e("td",u)),s.appendChild(e("td",JSON.stringify(f)))}},getNextBreakPoint:function(){this.breakPoints.sort(function(e,t){return e-t});for(var e=0;e<this.breakPoints.length;e++)if(this.breakPoints[e]>this.currentIdx)return this.breakPoints[e];return null},breakIt:function(e,t){StepperManager.selectStepper(this.pageIndex,!0);var n=this,i=document;n.currentIdx=e;var r=function(e){switch(e.keyCode){case 83:i.removeEventListener("keydown",r,!1),n.nextBreakPoint=n.currentIdx+1,n.goTo(-1),t();break;case 67:i.removeEventListener("keydown",r,!1);var a=n.getNextBreakPoint();n.nextBreakPoint=a,n.goTo(-1),t()}};i.addEventListener("keydown",r,!1),n.goTo(e)},goTo:function(e){for(var t=this.panel.getElementsByClassName("line"),n=0,i=t.length;n<i;++n){var r=t[n];r.dataset.idx==e?(r.style.backgroundColor="rgb(251,250,207)",r.scrollIntoView()):r.style.backgroundColor=null}}},n}(),Stats=function(){function e(e){for(;e.hasChildNodes();)e.removeChild(e.lastChild)}function t(e){for(var t=0,i=n.length;t<i;++t)if(n[t].pageNumber===e)return t;return!1}var n=[];return{id:"Stats",name:"Stats",panel:null,manager:null,init:function(){this.panel.setAttribute("style","padding: 5px;"),PDFJS.enableStats=!0},enabled:!1,active:!1,add:function(i,r){if(r){var a=t(i);if(a!==!1){var o=n[a];this.panel.removeChild(o.div),n.splice(a,1)}var s=document.createElement("div");s.className="stats";var l=document.createElement("div");l.className="title",l.textContent="Page: "+i;var c=document.createElement("div");c.textContent=r.toString(),s.appendChild(l),s.appendChild(c),n.push({pageNumber:i,div:s}),n.sort(function(e,t){return e.pageNumber-t.pageNumber}),e(this.panel);for(var h=0,d=n.length;h<d;++h)this.panel.appendChild(n[h].div)}}}}(),PDFBug=function(){var e=300,t=[],n=null;return{tools:[FontInspector,StepperManager,Stats],enable:function(e){var t=!1,n=this.tools;1===e.length&&"all"===e[0]&&(t=!0);for(var i=0;i<n.length;++i){var r=n[i];(t||e.indexOf(r.id)!==-1)&&(r.enabled=!0)}t||n.sort(function(t,i){var r=e.indexOf(t.id);r=r<0?n.length:r;var a=e.indexOf(i.id);return a=a<0?n.length:a,r-a})},init:function(){var n=document.createElement("div");n.id="PDFBug";var i=document.createElement("div");i.setAttribute("class","controls"),n.appendChild(i);var r=document.createElement("div");r.setAttribute("class","panels"),n.appendChild(r);var a=document.getElementById("viewerContainer");a.appendChild(n),a.style.right=e+"px";for(var o=this.tools,s=this,l=0;l<o.length;++l){var c=o[l],h=document.createElement("div"),d=document.createElement("button");d.textContent=c.name,d.addEventListener("click",function(e){return function(t){t.preventDefault(),s.selectPanel(e)}}(l)),i.appendChild(d),r.appendChild(h),c.panel=h,c.manager=this,c.enabled?c.init():h.textContent=c.name+' is disabled. To enable add  "'+c.id+'" to the pdfBug parameter and refresh (seperate multiple by commas).',t.push(d)}this.selectPanel(0)},selectPanel:function(e){if(e!==n){n=e;for(var i=this.tools,r=0;r<i.length;++r)r==e?(t[r].setAttribute("class","active"),i[r].active=!0,i[r].panel.removeAttribute("hidden")):(t[r].setAttribute("class",""),i[r].active=!1,i[r].panel.setAttribute("hidden","true"))}}}}(),DEFAULT_URL="compressed.tracemonkey-pldi-09.pdf",DEFAULT_SCALE="auto",DEFAULT_SCALE_DELTA=1.1,UNKNOWN_SCALE=0,CACHE_SIZE=20,CSS_UNITS=96/72,SCROLLBAR_PADDING=40,VERTICAL_PADDING=5,MAX_AUTO_SCALE=1.25,MIN_SCALE=.25,MAX_SCALE=4,VIEW_HISTORY_MEMORY=20,SCALE_SELECT_CONTAINER_PADDING=8,SCALE_SELECT_PADDING=22,THUMBNAIL_SCROLL_MARGIN=-19,USE_ONLY_CSS_ZOOM=!1,CLEANUP_TIMEOUT=3e4,IGNORE_CURRENT_POSITION_ON_ZOOM=!1,RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},FindStates={FIND_FOUND:0,FIND_NOTFOUND:1,FIND_WRAPPED:2,FIND_PENDING:3};PDFJS.imageResourcesPath="./images/",PDFJS.workerSrc="../build/pdf.worker.js";var mozL10n=document.mozL10n||document.webL10n,CustomStyle=function(){function e(){}var t=["ms","Moz","Webkit","O"],n={};return e.getProp=function(e,i){if(1==arguments.length&&"string"==typeof n[e])return n[e];i=i||document.documentElement;var r,a,o=i.style;if("string"==typeof o[e])return n[e]=e;a=e.charAt(0).toUpperCase()+e.slice(1);for(var s=0,l=t.length;s<l;s++)if(r=t[s]+a,"string"==typeof o[r])return n[e]=r;return n[e]="undefined"},e.setProp=function(e,t,n){var i=this.getProp(e);"undefined"!=i&&(t.style[i]=n)},e}(),ProgressBar=function(){function e(e,t,n){return Math.min(Math.max(e,t),n)}function t(e,t){this.div=document.querySelector(e+" .progress"),this.bar=this.div.parentNode,this.height=t.height||100,this.width=t.width||100,this.units=t.units||"%",this.div.style.height=this.height+this.units,this.percent=0}return t.prototype={updateBar:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate");var e=this.width*this._percent/100;this.div.style.width=e+this.units},get percent(){return this._percent},set percent(t){this._indeterminate=isNaN(t),this._percent=e(t,0,100),this.updateBar()},setWidth:function(e){if(e){var t=e.parentNode,n=t.offsetWidth-e.offsetWidth;n>0&&this.bar.setAttribute("style","width: calc(100% - "+n+"px);")}},hide:function(){this.bar.classList.add("hidden"),this.bar.removeAttribute("style")}},t}(),Cache=function(e){var t=[];this.push=function(n){var i=t.indexOf(n);i>=0&&t.splice(i),t.push(n),t.length>e&&t.shift().destroy()}},isLocalStorageEnabled=function(){try{return"localStorage"in window&&null!==window.localStorage&&localStorage}catch(e){return!1}}(),EXPORTED_SYMBOLS=["DEFAULT_PREFERENCES"],DEFAULT_PREFERENCES={showPreviousViewOnLoad:!0,defaultZoomValue:"",ifAvailableShowOutlineOnLoad:!1},Preferences=function(){function e(){this.prefs={},this.isInitializedPromiseResolved=!1,this.initializedPromise=this.readFromStorage().then(function(e){this.isInitializedPromiseResolved=!0,e&&(this.prefs=e)}.bind(this))}return e.prototype={writeToStorage:function(e){},readFromStorage:function(){var e=Promise.resolve();return e},reset:function(){this.isInitializedPromiseResolved&&(this.prefs={},this.writeToStorage(this.prefs))},set:function(e,t){if(this.isInitializedPromiseResolved){if(void 0===DEFAULT_PREFERENCES[e])return void console.error("Preferences_set: '"+e+"' is undefined.");if(void 0===t)return void console.error("Preferences_set: no value is specified.");var n=typeof t,i=typeof DEFAULT_PREFERENCES[e];if(n!==i){if("number"!==n||"string"!==i)return void console.error("Preferences_set: '"+t+"' is a \""+n+'", expected a "'+i+'".');t=t.toString()}this.prefs[e]=t,this.writeToStorage(this.prefs)}},get:function(e){var t=DEFAULT_PREFERENCES[e];if(void 0===t)return void console.error("Preferences_get: '"+e+"' is undefined.");if(this.isInitializedPromiseResolved){var n=this.prefs[e];if(void 0!==n)return n}return t}},e}();Preferences.prototype.writeToStorage=function(e){isLocalStorageEnabled&&localStorage.setItem("preferences",JSON.stringify(e))},Preferences.prototype.readFromStorage=function(){var e=new Promise(function(e){if(isLocalStorageEnabled){var t=JSON.parse(localStorage.getItem("preferences"));e(t)}});return e},function(){function e(e){var t=document.createEvent("CustomEvent");t.initCustomEvent(e,!1,!1,"custom"),window.dispatchEvent(t)}function t(){if(r)if(i(),++a<r.length){var e=r[a];"function"==typeof e.mozPrintCallback?e.mozPrintCallback({context:e.getContext("2d"),abort:n,done:t}):t()}else i(),o.call(window),setTimeout(n,20)}function n(){r&&(r=null,i(),e("afterprint"))}function i(){var e=document.getElementById("mozPrintCallback-shim");if(r){var t=Math.round(100*a/r.length),i=e.querySelector("progress"),o=e.querySelector(".relative-progress");i.value=t,o.textContent=t+"%",e.removeAttribute("hidden"),e.onclick=n}else e.setAttribute("hidden","")}if(!("mozPrintCallback"in document.createElement("canvas"))){HTMLCanvasElement.prototype.mozPrintCallback=void 0;var r,a,o=window.print;window.print=function(){if(r)return void console.warn("Ignored window.print() because of a pending print job.");try{e("beforeprint")}finally{r=document.querySelectorAll("canvas"),a=-1,t()}};var s=!!document.attachEvent;if(window.addEventListener("keydown",function(e){if(80===e.keyCode&&(e.ctrlKey||e.metaKey)&&!e.altKey&&(!e.shiftKey||window.chrome||window.opera)){if(window.print(),s)return;return e.preventDefault(),void(e.stopImmediatePropagation?e.stopImmediatePropagation():e.stopPropagation())}27===e.keyCode&&r&&n()},!0),s&&document.attachEvent("onkeydown",function(e){if(e=e||window.event,80===e.keyCode&&e.ctrlKey)return e.keyCode=0,!1}),"onbeforeprint"in window){var l=function(e){"custom"!==e.detail&&e.stopImmediatePropagation&&e.stopImmediatePropagation()};window.addEventListener("beforeprint",l,!1),window.addEventListener("afterprint",l,!1)}}}();var DownloadManager=function(){function e(e,t){var n=document.createElement("a");if(n.click)n.href=e,n.target="_parent","download"in n&&(n.download=t),(document.body||document.documentElement).appendChild(n),n.click(),n.parentNode.removeChild(n);else{if(window.top===window&&e.split("#")[0]===window.location.href.split("#")[0]){var i=e.indexOf("?")===-1?"?":"&";e=e.replace(/#|$/,i+"$&")}window.open(e,"_parent")}}function t(){}return t.prototype={downloadUrl:function(t,n){PDFJS.isValidUrl(t,!0)&&e(t+"#pdfjs.action=download",n)},download:function(t,n,i){if(!URL)return void this.downloadUrl(n,i);if(navigator.msSaveBlob)return void(navigator.msSaveBlob(t,i)||this.downloadUrl(n,i));var r=URL.createObjectURL(t);e(r,i)}},t}(),cache=new Cache(CACHE_SIZE),currentPageNumber=1,ViewHistory=function(){function e(e){this.fingerprint=e;var t;this.isInitializedPromiseResolved=!1,this.initializedPromise=new Promise(function(e){t=e});var n=function(e){this.isInitializedPromiseResolved=!0,this.initialize(e||"{}"),t()}.bind(this);isLocalStorageEnabled&&n(localStorage.getItem("database"))}return e.prototype={initialize:function(e){e=JSON.parse(e),"files"in e||(e.files=[]),e.files.length>=VIEW_HISTORY_MEMORY&&e.files.shift();for(var t,n=0,i=e.files.length;n<i;n++){var r=e.files[n];if(r.fingerprint===this.fingerprint){t=n;break}}"number"!=typeof t&&(t=e.files.push({fingerprint:this.fingerprint})-1),this.file=e.files[t],this.database=e},set:function(e,t){if(this.isInitializedPromiseResolved){var n=this.file;n[e]=t;var i=JSON.stringify(this.database);isLocalStorageEnabled&&localStorage.setItem("database",i)}},get:function(e,t){return this.isInitializedPromiseResolved?this.file[e]||t:t}},e}(),PDFFindBar={opened:!1,bar:null,toggleButton:null,findField:null,highlightAll:null,caseSensitive:null,findMsg:null,findStatusIcon:null,findPreviousButton:null,findNextButton:null,initialize:function(e){if("undefined"==typeof PDFFindController||null===PDFFindController)throw"PDFFindBar cannot be initialized without a PDFFindController instance.";this.bar=e.bar,this.toggleButton=e.toggleButton,this.findField=e.findField,this.highlightAll=e.highlightAllCheckbox,this.caseSensitive=e.caseSensitiveCheckbox,this.findMsg=e.findMsg,this.findStatusIcon=e.findStatusIcon,this.findPreviousButton=e.findPreviousButton,this.findNextButton=e.findNextButton;var t=this;this.toggleButton.addEventListener("click",function(){t.toggle()}),this.findField.addEventListener("input",function(){t.dispatchEvent("")}),this.bar.addEventListener("keydown",function(e){switch(e.keyCode){case 13:e.target===t.findField&&t.dispatchEvent("again",e.shiftKey);break;case 27:t.close()}}),this.findPreviousButton.addEventListener("click",function(){t.dispatchEvent("again",!0)}),this.findNextButton.addEventListener("click",function(){t.dispatchEvent("again",!1)}),this.highlightAll.addEventListener("click",function(){t.dispatchEvent("highlightallchange")}),this.caseSensitive.addEventListener("click",function(){t.dispatchEvent("casesensitivitychange")})},dispatchEvent:function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent("find"+e,!0,!0,{query:this.findField.value,caseSensitive:this.caseSensitive.checked,highlightAll:this.highlightAll.checked,findPrevious:t}),window.dispatchEvent(n)},updateUIState:function(e,t){var n=!1,i="",r="";switch(e){case FindStates.FIND_FOUND:break;case FindStates.FIND_PENDING:r="pending";break;case FindStates.FIND_NOTFOUND:i=mozL10n.get("find_not_found",null,"Phrase not found"),n=!0;break;case FindStates.FIND_WRAPPED:i=t?mozL10n.get("find_reached_top",null,"Reached top of document, continued from bottom"):mozL10n.get("find_reached_bottom",null,"Reached end of document, continued from top")}n?this.findField.classList.add("notFound"):this.findField.classList.remove("notFound"),this.findField.setAttribute("data-status",r),this.findMsg.textContent=i},open:function(){this.opened||(this.opened=!0,this.toggleButton.classList.add("toggled"),this.bar.classList.remove("hidden")),this.findField.select(),this.findField.focus()},close:function(){this.opened&&(this.opened=!1,this.toggleButton.classList.remove("toggled"),this.bar.classList.add("hidden"),PDFFindController.active=!1)},toggle:function(){this.opened?this.close():this.open()}},PDFFindController={startedTextExtraction:!1,extractTextPromises:[],pendingFindMatches:{},active:!1,pageContents:[],pageMatches:[],selected:{pageIdx:-1,matchIdx:-1},offset:{pageIdx:null,matchIdx:null},resumePageIdx:null,state:null,dirtyMatch:!1,findTimeout:null,pdfPageSource:null,integratedFind:!1,initialize:function(e){if("undefined"==typeof PDFFindBar||null===PDFFindBar)throw"PDFFindController cannot be initialized without a PDFFindController instance";this.pdfPageSource=e.pdfPageSource,this.integratedFind=e.integratedFind;var t=["find","findagain","findhighlightallchange","findcasesensitivitychange"];this.firstPagePromise=new Promise(function(e){this.resolveFirstPage=e}.bind(this)),this.handleEvent=this.handleEvent.bind(this);for(var n=0;n<t.length;n++)window.addEventListener(t[n],this.handleEvent)},reset:function(){this.startedTextExtraction=!1,this.extractTextPromises=[],this.active=!1},calcFindMatch:function(e){var t=this.pageContents[e],n=this.state.query,i=this.state.caseSensitive,r=n.length;if(0!==r){i||(t=t.toLowerCase(),n=n.toLowerCase());for(var a=[],o=-r;;){if(o=t.indexOf(n,o+r),o===-1)break;a.push(o)}this.pageMatches[e]=a,this.updatePage(e),this.resumePageIdx===e&&(this.resumePageIdx=null,this.nextPageMatch())}},extractText:function(){function e(n){r.pdfPageSource.pages[n].getTextContent().then(function(i){for(var a="",o=0;o<i.length;o++)a+=i[o].str;r.pageContents.push(a),t[n](n),n+1<r.pdfPageSource.pages.length&&e(n+1)})}if(!this.startedTextExtraction){this.startedTextExtraction=!0,this.pageContents=[];for(var t=[],n=0,i=this.pdfPageSource.pdfDocument.numPages;n<i;n++)this.extractTextPromises.push(new Promise(function(e){t.push(e)}));var r=this;e(0)}},handleEvent:function(e){null!==this.state&&"findagain"===e.type||(this.dirtyMatch=!0),this.state=e.detail,this.updateUIState(FindStates.FIND_PENDING),this.firstPagePromise.then(function(){this.extractText(),clearTimeout(this.findTimeout),"find"===e.type?this.findTimeout=setTimeout(this.nextMatch.bind(this),250):this.nextMatch()}.bind(this))},updatePage:function(e){var t=this.pdfPageSource.pages[e];this.selected.pageIdx===e&&t.scrollIntoView(),t.textLayer&&t.textLayer.updateMatches()},nextMatch:function(){var e=this.state.findPrevious,t=this.pdfPageSource.page-1,n=this.pdfPageSource.pages.length;if(this.active=!0,this.dirtyMatch){this.dirtyMatch=!1,this.selected.pageIdx=this.selected.matchIdx=-1,this.offset.pageIdx=t,this.offset.matchIdx=null,this.hadMatch=!1,this.resumePageIdx=null,this.pageMatches=[];for(var i=this,r=0;r<n;r++)this.updatePage(r),r in this.pendingFindMatches||(this.pendingFindMatches[r]=!0,this.extractTextPromises[r].then(function(e){delete i.pendingFindMatches[e],i.calcFindMatch(e)}))}if(""===this.state.query)return void this.updateUIState(FindStates.FIND_FOUND);if(!this.resumePageIdx){var a=this.offset;if(null!==a.matchIdx){var o=this.pageMatches[a.pageIdx].length;if(!e&&a.matchIdx+1<o||e&&a.matchIdx>0)return this.hadMatch=!0,a.matchIdx=e?a.matchIdx-1:a.matchIdx+1,void this.updateMatch(!0);this.advanceOffsetPage(e)}this.nextPageMatch()}},matchesReady:function(e){var t=this.offset,n=e.length,i=this.state.findPrevious;return n?(this.hadMatch=!0,t.matchIdx=i?n-1:0,this.updateMatch(!0),!0):(this.advanceOffsetPage(i),!(!t.wrapped||(t.matchIdx=null,this.hadMatch))&&(this.updateMatch(!1),!0))},nextPageMatch:function(){null!==this.resumePageIdx&&console.error("There can only be one pending page.");do{var e=this.offset.pageIdx,t=this.pageMatches[e];if(!t){this.resumePageIdx=e;break}}while(!this.matchesReady(t))},advanceOffsetPage:function(e){var t=this.offset,n=this.extractTextPromises.length;if(t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,t.pageIdx>=n||t.pageIdx<0)return t.pageIdx=e?n-1:0,void(t.wrapped=!0)},updateMatch:function(e){var t=FindStates.FIND_NOTFOUND,n=this.offset.wrapped;if(this.offset.wrapped=!1,e){var i=this.selected.pageIdx;this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=this.offset.matchIdx,t=n?FindStates.FIND_WRAPPED:FindStates.FIND_FOUND,i!==-1&&i!==this.selected.pageIdx&&this.updatePage(i)}this.updateUIState(t,this.state.findPrevious),this.selected.pageIdx!==-1&&this.updatePage(this.selected.pageIdx,!0)},updateUIState:function(e,t){return this.integratedFind?void FirefoxCom.request("updateFindControlState",{result:e,findPrevious:t}):void PDFFindBar.updateUIState(e,t)}},PDFHistory={initialized:!1,initialDestination:null,initialize:function(e){function t(){var e=i._getPreviousParams(null,!0);if(e){var n=!i.current.dest&&i.current.hash!==i.previousHash;i._pushToHistory(e,!1,n),i._updatePreviousBookmark()}window.removeEventListener("beforeunload",t,!1)}if(!PDFJS.disableHistory&&!PDFView.isViewerEmbedded){this.initialized=!0,this.reInitialized=!1,this.allowHashChange=!0,this.historyUnlocked=!0,this.previousHash=window.location.hash.substring(1),this.currentBookmark="",this.currentPage=0,this.updatePreviousBookmark=!1,this.previousBookmark="",this.previousPage=0,this.nextHashParam="",this.fingerprint=e,this.currentUid=this.uid=0,this.current={};var n=window.history.state;this._isStateObjectDefined(n)?(n.target.dest?this.initialDestination=n.target.dest:PDFView.initialBookmark=n.target.hash,
this.currentUid=n.uid,this.uid=n.uid+1,this.current=n.target):(n&&n.fingerprint&&this.fingerprint!==n.fingerprint&&(this.reInitialized=!0),this._pushOrReplaceState({fingerprint:this.fingerprint},!0));var i=this;window.addEventListener("popstate",function(e){if(e.preventDefault(),e.stopPropagation(),i.historyUnlocked)if(e.state)i._goTo(e.state);else{if(i.previousHash=window.location.hash.substring(1),0===i.uid){var t=i.previousHash&&i.currentBookmark&&i.previousHash!==i.currentBookmark?{hash:i.currentBookmark,page:i.currentPage}:{page:1};i.historyUnlocked=!1,i.allowHashChange=!1,window.history.back(),i._pushToHistory(t,!1,!0),window.history.forward(),i.historyUnlocked=!0}i._pushToHistory({hash:i.previousHash},!1,!0),i._updatePreviousBookmark()}},!1),window.addEventListener("beforeunload",t,!1),window.addEventListener("pageshow",function(e){window.addEventListener("beforeunload",t,!1)},!1)}},_isStateObjectDefined:function(e){return!!(e&&e.uid>=0&&e.fingerprint&&this.fingerprint===e.fingerprint&&e.target&&e.target.hash)},_pushOrReplaceState:function(e,t){t?window.history.replaceState(e,"",document.URL):window.history.pushState(e,"",document.URL)},get isHashChangeUnlocked(){if(!this.initialized)return!0;var e=this.allowHashChange;return this.allowHashChange=!0,e},_updatePreviousBookmark:function(){this.updatePreviousBookmark&&this.currentBookmark&&this.currentPage&&(this.previousBookmark=this.currentBookmark,this.previousPage=this.currentPage,this.updatePreviousBookmark=!1)},updateCurrentBookmark:function(e,t){this.initialized&&(this.currentBookmark=e.substring(1),this.currentPage=0|t,this._updatePreviousBookmark())},updateNextHashParam:function(e){this.initialized&&(this.nextHashParam=e)},push:function(e,t){if(this.initialized&&this.historyUnlocked){if(e.dest&&!e.hash&&(e.hash=this.current.hash&&this.current.dest&&this.current.dest===e.dest?this.current.hash:PDFView.getDestinationHash(e.dest).split("#")[1]),e.page&&(e.page|=0),t){var n=window.history.state.target;return n||(this._pushToHistory(e,!1),this.previousHash=window.location.hash.substring(1)),this.updatePreviousBookmark=!this.nextHashParam,void(n&&this._updatePreviousBookmark())}if(this.nextHashParam){if(this.nextHashParam===e.hash)return this.nextHashParam=null,void(this.updatePreviousBookmark=!0);this.nextHashParam=null}e.hash?this.current.hash?this.current.hash!==e.hash?this._pushToHistory(e,!0):(!this.current.page&&e.page&&this._pushToHistory(e,!1,!0),this.updatePreviousBookmark=!0):this._pushToHistory(e,!0):this.current.page&&e.page&&this.current.page!==e.page&&this._pushToHistory(e,!0)}},_getPreviousParams:function(e,t){if(!this.currentBookmark||!this.currentPage)return null;if(this.updatePreviousBookmark&&(this.updatePreviousBookmark=!1),this.uid>0&&(!this.previousBookmark||!this.previousPage))return null;if(!this.current.dest&&!e||t){if(this.previousBookmark===this.currentBookmark)return null}else{if(!this.current.page&&!e)return null;if(this.previousPage===this.currentPage)return null}var n={hash:this.currentBookmark,page:this.currentPage};return PresentationMode.active&&(n.hash=null),n},_stateObj:function(e){return{fingerprint:this.fingerprint,uid:this.uid,target:e}},_pushToHistory:function(e,t,n){if(this.initialized){if(!e.hash&&e.page&&(e.hash="page="+e.page),t&&!n){var i=this._getPreviousParams();if(i){var r=!this.current.dest&&this.current.hash!==this.previousHash;this._pushToHistory(i,!1,r)}}this._pushOrReplaceState(this._stateObj(e),n||0===this.uid),this.currentUid=this.uid++,this.current=e,this.updatePreviousBookmark=!0}},_goTo:function(e){if(this.initialized&&this.historyUnlocked&&this._isStateObjectDefined(e)){if(!this.reInitialized&&e.uid<this.currentUid){var t=this._getPreviousParams(!0);if(t)return this._pushToHistory(this.current,!1),this._pushToHistory(t,!1),this.currentUid=e.uid,void window.history.back()}this.historyUnlocked=!1,e.target.dest?PDFView.navigateTo(e.target.dest):PDFView.setHash(e.target.hash),this.currentUid=e.uid,e.uid>this.uid&&(this.uid=e.uid),this.current=e.target,this.updatePreviousBookmark=!0;var n=window.location.hash.substring(1);this.previousHash!==n&&(this.allowHashChange=!1),this.previousHash=n,this.historyUnlocked=!0}},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(e){if(this.initialized&&this.historyUnlocked){var t=window.history.state;e===-1&&t&&t.uid>0?window.history.back():1===e&&t&&t.uid<this.uid-1&&window.history.forward()}}},SecondaryToolbar={opened:!1,previousContainerHeight:null,newContainerHeight:null,initialize:function(e){this.toolbar=e.toolbar,this.presentationMode=e.presentationMode,this.documentProperties=e.documentProperties,this.buttonContainer=this.toolbar.firstElementChild,this.toggleButton=e.toggleButton,this.presentationModeButton=e.presentationModeButton,this.openFile=e.openFile,this.print=e.print,this.download=e.download,this.viewBookmark=e.viewBookmark,this.firstPage=e.firstPage,this.lastPage=e.lastPage,this.pageRotateCw=e.pageRotateCw,this.pageRotateCcw=e.pageRotateCcw,this.documentPropertiesButton=e.documentPropertiesButton;var t=[{element:this.toggleButton,handler:this.toggle},{element:this.presentationModeButton,handler:this.presentationModeClick},{element:this.openFile,handler:this.openFileClick},{element:this.print,handler:this.printClick},{element:this.download,handler:this.downloadClick},{element:this.viewBookmark,handler:this.viewBookmarkClick},{element:this.firstPage,handler:this.firstPageClick},{element:this.lastPage,handler:this.lastPageClick},{element:this.pageRotateCw,handler:this.pageRotateCwClick},{element:this.pageRotateCcw,handler:this.pageRotateCcwClick},{element:this.documentPropertiesButton,handler:this.documentPropertiesClick}];for(var n in t){var i=t[n].element;i&&i.addEventListener("click",t[n].handler.bind(this))}},presentationModeClick:function(e){this.presentationMode.request(),this.close()},openFileClick:function(e){document.getElementById("fileInput").click(),this.close()},printClick:function(e){window.print(),this.close()},downloadClick:function(e){PDFView.download(),this.close()},viewBookmarkClick:function(e){this.close()},firstPageClick:function(e){PDFView.page=1,this.close()},lastPageClick:function(e){PDFView.page=PDFView.pdfDocument.numPages,this.close()},pageRotateCwClick:function(e){PDFView.rotatePages(90)},pageRotateCcwClick:function(e){PDFView.rotatePages(-90)},documentPropertiesClick:function(e){this.documentProperties.show(),this.close()},setMaxHeight:function(e){e&&this.buttonContainer&&(this.newContainerHeight=e.clientHeight,this.previousContainerHeight!==this.newContainerHeight&&(this.buttonContainer.setAttribute("style","max-height: "+(this.newContainerHeight-SCROLLBAR_PADDING)+"px;"),this.previousContainerHeight=this.newContainerHeight))},open:function(){this.opened||(this.opened=!0,this.toggleButton.classList.add("toggled"),this.toolbar.classList.remove("hidden"))},close:function(e){this.opened&&(e&&!this.toolbar.contains(e)||(this.opened=!1,this.toolbar.classList.add("hidden"),this.toggleButton.classList.remove("toggled")))},toggle:function(){this.opened?this.close():this.open()}},PasswordPrompt={visible:!1,updatePassword:null,reason:null,overlayContainer:null,passwordField:null,passwordText:null,passwordSubmit:null,passwordCancel:null,initialize:function(e){this.overlayContainer=e.overlayContainer,this.passwordField=e.passwordField,this.passwordText=e.passwordText,this.passwordSubmit=e.passwordSubmit,this.passwordCancel=e.passwordCancel,this.passwordSubmit.addEventListener("click",this.verifyPassword.bind(this)),this.passwordCancel.addEventListener("click",this.hide.bind(this)),this.passwordField.addEventListener("keydown",function(e){13===e.keyCode&&this.verifyPassword()}.bind(this)),window.addEventListener("keydown",function(e){27===e.keyCode&&this.hide()}.bind(this))},show:function(){if(!this.visible){this.visible=!0,this.overlayContainer.classList.remove("hidden"),this.overlayContainer.firstElementChild.classList.remove("hidden"),this.passwordField.focus();var e=mozL10n.get("password_label",null,"Enter the password to open this PDF file.");this.reason===PDFJS.PasswordResponses.INCORRECT_PASSWORD&&(e=mozL10n.get("password_invalid",null,"Invalid password. Please try again.")),this.passwordText.textContent=e}},hide:function(){this.visible&&(this.visible=!1,this.passwordField.value="",this.overlayContainer.classList.add("hidden"),this.overlayContainer.firstElementChild.classList.add("hidden"))},verifyPassword:function(){var e=this.passwordField.value;if(e&&e.length>0)return this.hide(),this.updatePassword(e)}},DELAY_BEFORE_HIDING_CONTROLS=3e3,SELECTOR="presentationControls",DELAY_BEFORE_RESETTING_SWITCH_IN_PROGRESS=1e3,PresentationMode={active:!1,args:null,contextMenuOpen:!1,prevCoords:{x:null,y:null},initialize:function(e){this.container=e.container,this.secondaryToolbar=e.secondaryToolbar,this.viewer=this.container.firstElementChild,this.firstPage=e.firstPage,this.lastPage=e.lastPage,this.pageRotateCw=e.pageRotateCw,this.pageRotateCcw=e.pageRotateCcw,this.firstPage.addEventListener("click",function(){this.contextMenuOpen=!1,this.secondaryToolbar.firstPageClick()}.bind(this)),this.lastPage.addEventListener("click",function(){this.contextMenuOpen=!1,this.secondaryToolbar.lastPageClick()}.bind(this)),this.pageRotateCw.addEventListener("click",function(){this.contextMenuOpen=!1,this.secondaryToolbar.pageRotateCwClick()}.bind(this)),this.pageRotateCcw.addEventListener("click",function(){this.contextMenuOpen=!1,this.secondaryToolbar.pageRotateCcwClick()}.bind(this))},get isFullscreen(){return document.fullscreenElement||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement},_setSwitchInProgress:function(){this.switchInProgress&&clearTimeout(this.switchInProgress),this.switchInProgress=setTimeout(function(){delete this.switchInProgress}.bind(this),DELAY_BEFORE_RESETTING_SWITCH_IN_PROGRESS),PDFView.currentPosition=null},_resetSwitchInProgress:function(){this.switchInProgress&&(clearTimeout(this.switchInProgress),delete this.switchInProgress)},request:function(){if(!PDFView.supportsFullscreen||this.isFullscreen||!this.viewer.hasChildNodes())return!1;if(this._setSwitchInProgress(),this.container.requestFullscreen)this.container.requestFullscreen();else if(this.container.mozRequestFullScreen)this.container.mozRequestFullScreen();else if(this.container.webkitRequestFullScreen)this.container.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);else{if(!this.container.msRequestFullscreen)return!1;this.container.msRequestFullscreen()}return this.args={page:PDFView.page,previousScale:PDFView.currentScaleValue},!0},enter:function(){this.active=!0,this._resetSwitchInProgress(),setTimeout(function(){PDFView.page=this.args.page,PDFView.setScale("page-fit",!0)}.bind(this),0),window.addEventListener("mousemove",this.mouseMove,!1),window.addEventListener("mousedown",this.mouseDown,!1),window.addEventListener("contextmenu",this.contextMenu,!1),this.showControls(),HandTool.enterPresentationMode(),this.contextMenuOpen=!1,this.container.setAttribute("contextmenu","viewerContextMenu")},exit:function(){var e=PDFView.page;setTimeout(function(){PDFView.setScale(this.args.previousScale),PDFView.page=e,this.active=!1,this.args=null}.bind(this),0),window.removeEventListener("mousemove",this.mouseMove,!1),window.removeEventListener("mousedown",this.mouseDown,!1),window.removeEventListener("contextmenu",this.contextMenu,!1),this.hideControls(),PDFView.clearMouseScrollState(),HandTool.exitPresentationMode(),this.container.removeAttribute("contextmenu"),this.contextMenuOpen=!1,scrollIntoView(document.getElementById("thumbnailContainer"+e))},showControls:function(){this.controlsTimeout?clearTimeout(this.controlsTimeout):this.container.classList.add(SELECTOR),this.controlsTimeout=setTimeout(function(){this.container.classList.remove(SELECTOR),delete this.controlsTimeout}.bind(this),DELAY_BEFORE_HIDING_CONTROLS)},hideControls:function(){this.controlsTimeout&&(this.container.classList.remove(SELECTOR),clearTimeout(this.controlsTimeout),delete this.controlsTimeout)},mouseMove:function(e){var t={x:e.clientX,y:e.clientY},n=PresentationMode.prevCoords;PresentationMode.prevCoords=t,t.x===n.x&&t.y===n.y||PresentationMode.showControls()},mouseDown:function(e){var t=PresentationMode;if(t.contextMenuOpen)return t.contextMenuOpen=!1,void e.preventDefault();if(0===e.button){var n=e.target.href&&e.target.classList.contains("internalLink");n||(e.preventDefault(),PDFView.page+=e.shiftKey?-1:1)}},contextMenu:function(e){PresentationMode.contextMenuOpen=!0}};!function(){function e(e){PresentationMode.isFullscreen?PresentationMode.enter():PresentationMode.exit()}window.addEventListener("fullscreenchange",e,!1),window.addEventListener("mozfullscreenchange",e,!1),window.addEventListener("webkitfullscreenchange",e,!1),window.addEventListener("MSFullscreenChange",e,!1)}();var GrabToPan=function(){function e(e){this.element=e.element,this.document=e.element.ownerDocument,"function"==typeof e.ignoreTarget&&(this.ignoreTarget=e.ignoreTarget),this.onActiveChanged=e.onActiveChanged,this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.toggle=this.toggle.bind(this),this._onmousedown=this._onmousedown.bind(this),this._onmousemove=this._onmousemove.bind(this),this._endPan=this._endPan.bind(this);var t=this.overlay=document.createElement("div");t.className="grab-to-pan-grabbing"}function t(e){return"buttons"in e&&i?!(1|e.buttons):a||o?0===e.which:void 0}e.prototype={CSS_CLASS_GRAB:"grab-to-pan-grab",activate:function(){this.active||(this.active=!0,this.element.addEventListener("mousedown",this._onmousedown,!0),this.element.classList.add(this.CSS_CLASS_GRAB),this.onActiveChanged&&this.onActiveChanged(!0))},deactivate:function(){this.active&&(this.active=!1,this.element.removeEventListener("mousedown",this._onmousedown,!0),this._endPan(),this.element.classList.remove(this.CSS_CLASS_GRAB),this.onActiveChanged&&this.onActiveChanged(!1))},toggle:function(){this.active?this.deactivate():this.activate()},ignoreTarget:function(e){return e[n]("a[href], a[href] *, input, textarea, button, button *, select, option")},_onmousedown:function(e){if(0===e.button&&!this.ignoreTarget(e.target)){if(e.originalTarget)try{e.originalTarget.tagName}catch(t){return}this.scrollLeftStart=this.element.scrollLeft,this.scrollTopStart=this.element.scrollTop,this.clientXStart=e.clientX,this.clientYStart=e.clientY,this.document.addEventListener("mousemove",this._onmousemove,!0),this.document.addEventListener("mouseup",this._endPan,!0),this.element.addEventListener("scroll",this._endPan,!0),e.preventDefault(),e.stopPropagation(),this.document.documentElement.classList.add(this.CSS_CLASS_GRABBING)}},_onmousemove:function(e){if(this.element.removeEventListener("scroll",this._endPan,!0),t(e))return void this._endPan();var n=e.clientX-this.clientXStart,i=e.clientY-this.clientYStart;this.element.scrollTop=this.scrollTopStart-i,this.element.scrollLeft=this.scrollLeftStart-n,this.overlay.parentNode||document.body.appendChild(this.overlay)},_endPan:function(){this.element.removeEventListener("scroll",this._endPan,!0),this.document.removeEventListener("mousemove",this._onmousemove,!0),this.document.removeEventListener("mouseup",this._endPan,!0),this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)}};var n;["webkitM","mozM","msM","oM","m"].some(function(e){var t=e+"atches";return t in document.documentElement&&(n=t),t+="Selector",t in document.documentElement&&(n=t),n});var i=!document.documentMode||document.documentMode>9,r=window.chrome,a=r&&(r.webstore||r.app),o=/Apple/.test(navigator.vendor)&&/Version\/([6-9]\d*|[1-5]\d+)/.test(navigator.userAgent);return e}(),HandTool={initialize:function(e){var t=e.toggleHandTool;this.handTool=new GrabToPan({element:e.container,onActiveChanged:function(e){t&&(e?(t.title=mozL10n.get("hand_tool_disable.title",null,"Disable hand tool"),t.firstElementChild.textContent=mozL10n.get("hand_tool_disable_label",null,"Disable hand tool")):(t.title=mozL10n.get("hand_tool_enable.title",null,"Enable hand tool"),t.firstElementChild.textContent=mozL10n.get("hand_tool_enable_label",null,"Enable hand tool")))}}),t&&t.addEventListener("click",this.toggle.bind(this),!1)},toggle:function(){this.handTool.toggle(),SecondaryToolbar.close()},enterPresentationMode:function(){this.handTool.active&&(this.wasActive=!0,this.handTool.deactivate())},exitPresentationMode:function(){this.wasActive&&(this.wasActive=null,this.handTool.activate())}},DocumentProperties={overlayContainer:null,fileName:"",fileSize:"",visible:!1,fileNameField:null,fileSizeField:null,titleField:null,authorField:null,subjectField:null,keywordsField:null,creationDateField:null,modificationDateField:null,creatorField:null,producerField:null,versionField:null,pageCountField:null,initialize:function(e){this.overlayContainer=e.overlayContainer,this.fileNameField=e.fileNameField,this.fileSizeField=e.fileSizeField,this.titleField=e.titleField,this.authorField=e.authorField,this.subjectField=e.subjectField,this.keywordsField=e.keywordsField,this.creationDateField=e.creationDateField,this.modificationDateField=e.modificationDateField,this.creatorField=e.creatorField,this.producerField=e.producerField,this.versionField=e.versionField,this.pageCountField=e.pageCountField,e.closeButton&&e.closeButton.addEventListener("click",this.hide.bind(this)),window.addEventListener("keydown",function(e){27===e.keyCode&&this.hide()}.bind(this))},getProperties:function(){var e=this;this.fileName=getPDFFileNameFromURL(PDFView.url),PDFView.pdfDocument.getDownloadInfo().then(function(t){e.setFileSize(t.length)}),PDFView.pdfDocument.getMetadata().then(function(t){var n=[{field:e.fileNameField,content:e.fileName},{field:e.fileSizeField,content:e.fileSize},{field:e.titleField,content:t.info.Title},{field:e.authorField,content:t.info.Author},{field:e.subjectField,content:t.info.Subject},{field:e.keywordsField,content:t.info.Keywords},{field:e.creationDateField,content:e.parseDate(t.info.CreationDate)},{field:e.modificationDateField,content:e.parseDate(t.info.ModDate)},{field:e.creatorField,content:t.info.Creator},{field:e.producerField,content:t.info.Producer},{field:e.versionField,content:t.info.PDFFormatVersion},{field:e.pageCountField,content:PDFView.pdfDocument.numPages}];for(var i in n){var r=n[i];r.field&&void 0!==r.content&&""!==r.content&&(r.field.textContent=r.content)}})},setFileSize:function(e){var t=e/1024;t<1024?this.fileSize=mozL10n.get("document_properties_kb",{size_kb:(+t.toPrecision(3)).toLocaleString(),size_b:e.toLocaleString()},"{{size_kb}} KB ({{size_b}} bytes)"):this.fileSize=mozL10n.get("document_properties_mb",{size_mb:(+(t/1024).toPrecision(3)).toLocaleString(),size_b:e.toLocaleString()},"{{size_mb}} MB ({{size_b}} bytes)")},show:function(){this.visible||(this.visible=!0,this.overlayContainer.classList.remove("hidden"),this.overlayContainer.lastElementChild.classList.remove("hidden"),this.getProperties())},hide:function(){this.visible&&(this.visible=!1,this.overlayContainer.classList.add("hidden"),this.overlayContainer.lastElementChild.classList.add("hidden"))},parseDate:function(e){var t=e;if(void 0===t)return"";"D:"===t.substring(0,2)&&(t=t.substring(2));var n=parseInt(t.substring(0,4),10),i=parseInt(t.substring(4,6),10)-1,r=parseInt(t.substring(6,8),10),a=parseInt(t.substring(8,10),10),o=parseInt(t.substring(10,12),10),s=parseInt(t.substring(12,14),10),l=t.substring(14,15),c=parseInt(t.substring(15,17),10),h=parseInt(t.substring(18,20),10);"-"==l?(a+=c,o+=h):"+"==l&&(a-=c,o+=h);var d=new Date(Date.UTC(n,i,r,a,o,s)),u=d.toLocaleDateString(),f=d.toLocaleTimeString();return mozL10n.get("document_properties_date_string",{date:u,time:f},"{{date}}, {{time}}")}},PDFView={pages:[],thumbnails:[],currentScale:UNKNOWN_SCALE,currentScaleValue:null,initialBookmark:document.location.hash.substring(1),container:null,thumbnailContainer:null,initialized:!1,fellback:!1,pdfDocument:null,sidebarOpen:!1,pageViewScroll:null,thumbnailViewScroll:null,pageRotation:0,mouseScrollTimeStamp:0,mouseScrollDelta:0,lastScroll:0,previousPageNumber:1,isViewerEmbedded:window.parent!==window,idleTimeout:null,currentPosition:null,initialize:function(){var e=this,t=this.container=document.getElementById("viewerContainer");this.pageViewScroll={},this.watchScroll(t,this.pageViewScroll,updateViewarea);var n=this.thumbnailContainer=document.getElementById("thumbnailView");this.thumbnailViewScroll={},this.watchScroll(n,this.thumbnailViewScroll,this.renderHighestPriority.bind(this)),PDFFindBar.initialize({bar:document.getElementById("findbar"),toggleButton:document.getElementById("viewFind"),findField:document.getElementById("findInput"),highlightAllCheckbox:document.getElementById("findHighlightAll"),caseSensitiveCheckbox:document.getElementById("findMatchCase"),findMsg:document.getElementById("findMsg"),findStatusIcon:document.getElementById("findStatusIcon"),findPreviousButton:document.getElementById("findPrevious"),findNextButton:document.getElementById("findNext")}),PDFFindController.initialize({pdfPageSource:this,integratedFind:this.supportsIntegratedFind}),HandTool.initialize({container:t,toggleHandTool:document.getElementById("toggleHandTool")}),SecondaryToolbar.initialize({toolbar:document.getElementById("secondaryToolbar"),presentationMode:PresentationMode,toggleButton:document.getElementById("secondaryToolbarToggle"),presentationModeButton:document.getElementById("secondaryPresentationMode"),openFile:document.getElementById("secondaryOpenFile"),print:document.getElementById("secondaryPrint"),download:document.getElementById("secondaryDownload"),viewBookmark:document.getElementById("secondaryViewBookmark"),firstPage:document.getElementById("firstPage"),lastPage:document.getElementById("lastPage"),pageRotateCw:document.getElementById("pageRotateCw"),pageRotateCcw:document.getElementById("pageRotateCcw"),documentProperties:DocumentProperties,documentPropertiesButton:document.getElementById("documentProperties")}),PasswordPrompt.initialize({overlayContainer:document.getElementById("overlayContainer"),passwordField:document.getElementById("password"),passwordText:document.getElementById("passwordText"),passwordSubmit:document.getElementById("passwordSubmit"),passwordCancel:document.getElementById("passwordCancel")}),PresentationMode.initialize({container:t,secondaryToolbar:SecondaryToolbar,firstPage:document.getElementById("contextFirstPage"),lastPage:document.getElementById("contextLastPage"),pageRotateCw:document.getElementById("contextPageRotateCw"),pageRotateCcw:document.getElementById("contextPageRotateCcw")}),DocumentProperties.initialize({overlayContainer:document.getElementById("overlayContainer"),closeButton:document.getElementById("documentPropertiesClose"),fileNameField:document.getElementById("fileNameField"),fileSizeField:document.getElementById("fileSizeField"),titleField:document.getElementById("titleField"),authorField:document.getElementById("authorField"),subjectField:document.getElementById("subjectField"),keywordsField:document.getElementById("keywordsField"),creationDateField:document.getElementById("creationDateField"),modificationDateField:document.getElementById("modificationDateField"),creatorField:document.getElementById("creatorField"),producerField:document.getElementById("producerField"),versionField:document.getElementById("versionField"),pageCountField:document.getElementById("pageCountField")}),this.initialized=!0,t.addEventListener("scroll",function(){e.lastScroll=Date.now()},!1)},getPage:function(e){return this.pdfDocument.getPage(e)},watchScroll:function(e,t,n){t.down=!0,t.lastY=e.scrollTop,e.addEventListener("scroll",function(i){var r=e.scrollTop,a=t.lastY;r>a?t.down=!0:r<a&&(t.down=!1),t.lastY=r,n()},!0)},_setScaleUpdatePages:function(e,t,n,i){if(this.currentScaleValue=t,e!==this.currentScale){for(var r=0,a=this.pages.length;r<a;r++)this.pages[r].update(e);if(this.currentScale=e,!i){var o,s=this.page;this.currentPosition&&!IGNORE_CURRENT_POSITION_ON_ZOOM&&(s=this.currentPosition.page,o=[null,{name:"XYZ"},this.currentPosition.left,this.currentPosition.top,null]),this.pages[s-1].scrollIntoView(o)}var l=document.createEvent("UIEvents");l.initUIEvent("scalechange",!1,!1,window,0),l.scale=e,l.resetAutoSettings=n,window.dispatchEvent(l)}},setScale:function(e,t,n){if("custom"!==e){var i=parseFloat(e);if(i>0)this._setScaleUpdatePages(i,e,!0,n);else{var r=this.pages[this.page-1];if(!r)return;var a=(this.container.clientWidth-SCROLLBAR_PADDING)/r.width*r.scale,o=(this.container.clientHeight-VERTICAL_PADDING)/r.height*r.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=a;break;case"page-height":i=o;break;case"page-fit":i=Math.min(a,o);break;case"auto":i=Math.min(MAX_AUTO_SCALE,a);break;default:return void console.error("pdfViewSetScale: '"+e+"' is an unknown zoom value.")}this._setScaleUpdatePages(i,e,t,n),selectScaleOption(e)}}},zoomIn:function(e){var t=this.currentScale;do t=(t*DEFAULT_SCALE_DELTA).toFixed(2),t=Math.ceil(10*t)/10,t=Math.min(MAX_SCALE,t);while(--e&&t<MAX_SCALE);this.setScale(t,!0)},zoomOut:function(e){var t=this.currentScale;do t=(t/DEFAULT_SCALE_DELTA).toFixed(2),t=Math.floor(10*t)/10,t=Math.max(MIN_SCALE,t);while(--e&&t>MIN_SCALE);this.setScale(t,!0)},set page(e){var t=this.pages,n=document.createEvent("UIEvents");return n.initUIEvent("pagechange",!1,!1,window,0),0<e&&e<=t.length?(t[e-1].updateStats(),this.previousPageNumber=currentPageNumber,currentPageNumber=e,n.pageNumber=e,window.dispatchEvent(n),void(updateViewarea.inProgress||this.loading&&1===e||t[e-1].scrollIntoView())):(this.previousPageNumber=e,n.pageNumber=this.page,void window.dispatchEvent(n))},get page(){return currentPageNumber},get supportsPrinting(){var e=document.createElement("canvas"),t="mozPrintCallback"in e;return Object.defineProperty(this,"supportsPrinting",{value:t,enumerable:!0,configurable:!0,writable:!1}),t},get supportsFullscreen(){var e=document.documentElement,t=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen;return document.fullscreenEnabled===!1||document.mozFullScreenEnabled===!1||document.webkitFullscreenEnabled===!1||document.msFullscreenEnabled===!1?t=!1:this.isViewerEmbedded&&(t=!1),Object.defineProperty(this,"supportsFullscreen",{value:t,enumerable:!0,configurable:!0,writable:!1}),t},get supportsIntegratedFind(){var e=!1;return Object.defineProperty(this,"supportsIntegratedFind",{value:e,enumerable:!0,configurable:!0,writable:!1}),e},get supportsDocumentFonts(){var e=!0;return Object.defineProperty(this,"supportsDocumentFonts",{value:e,enumerable:!0,configurable:!0,writable:!1}),e},get supportsDocumentColors(){var e=!0;return Object.defineProperty(this,"supportsDocumentColors",{value:e,enumerable:!0,configurable:!0,writable:!1}),e},get loadingBar(){var e=new ProgressBar("#loadingBar",{});return Object.defineProperty(this,"loadingBar",{value:e,enumerable:!0,configurable:!0,writable:!1}),e},get isHorizontalScrollbarEnabled(){return!PresentationMode.active&&this.container.scrollWidth>this.container.clientWidth},setTitleUsingUrl:function(e){this.url=e;try{this.setTitle(decodeURIComponent(getFileName(e))||e)}catch(t){this.setTitle(e)}},setTitle:function(e){document.title=e},open:function(e,t,n,i,r){function a(e){l.progress(e.loaded/e.total)}var o={password:n};if("string"==typeof e?(this.setTitleUsingUrl(e),o.url=e):e&&"byteLength"in e&&(o.data=e),r)for(var s in r)o[s]=r[s];this.pdfDocument&&this.pdfDocument.destroy(),this.pdfDocument=null;var l=this;l.loading=!0;var c=function(e,t){PasswordPrompt.updatePassword=e,PasswordPrompt.reason=t,PasswordPrompt.show()};PDFJS.getDocument(o,i,c,a).then(function(e){l.load(e,t),l.loading=!1},function(e,t){var n=mozL10n.get("loading_error",null,"An error occurred while loading the PDF.");if(t&&"InvalidPDFException"===t.name)var n=mozL10n.get("invalid_file_error",null,"Invalid or corrupted PDF file.");if(t&&"MissingPDFException"===t.name)var n=mozL10n.get("missing_file_error",null,"Missing PDF file.");var i={message:e};l.error(n,i),l.loading=!1})},download:function(){function e(){i.downloadUrl(t,n)}var t=this.url.split("#")[0],n=getPDFFileNameFromURL(t),i=new DownloadManager;return i.onerror=function(e){PDFView.error("PDF failed to download.")},this.pdfDocument?void this.pdfDocument.getData().then(function(e){var r=PDFJS.createBlob(e,"application/pdf");i.download(r,t,n)},e).then(null,e):void e()},fallback:function(e){},navigateTo:function(e){var t="",n=this,i=function(r){n.pendingRefStr=null;var a=r instanceof Object?n.pagesRefMap[r.num+" "+r.gen+" R"]:r+1;if(a){a>n.pages.length&&(a=n.pages.length);var o=n.pages[a-1];o.scrollIntoView(e),PDFHistory.push({dest:e,hash:t,page:a})}else n.pdfDocument.getPageIndex(r).then(function(e){var t=e+1;n.pagesRefMap[r.num+" "+r.gen+" R"]=t,i(r)})};this.destinationsPromise.then(function(){"string"==typeof e&&(t=e,e=n.destinations[e]),e instanceof Array&&i(e[0])})},getDestinationHash:function(e){if("string"==typeof e)return PDFView.getAnchorUrl("#"+escape(e));if(e instanceof Array){var t=e[0],n=t instanceof Object?this.pagesRefMap[t.num+" "+t.gen+" R"]:t+1;if(n){var i=PDFView.getAnchorUrl("#page="+n),r=e[1];if("object"==typeof r&&"name"in r&&"XYZ"==r.name){var a=e[4]||this.currentScaleValue,o=parseFloat(a);o&&(a=100*o),i+="&zoom="+a,(e[2]||e[3])&&(i+=","+(e[2]||0)+","+(e[3]||0))}return i}}return""},getAnchorUrl:function(e){return e},error:function(e,t){var n=mozL10n.get("error_version_info",{version:PDFJS.version||"?",build:PDFJS.build||"?"},"PDF.js v{{version}} (build: {{build}})")+"\n";t&&(n+=mozL10n.get("error_message",{message:t.message},"Message: {{message}}"),t.stack?n+="\n"+mozL10n.get("error_stack",{stack:t.stack},"Stack: {{stack}}"):(t.filename&&(n+="\n"+mozL10n.get("error_file",{file:t.filename},"File: {{file}}")),t.lineNumber&&(n+="\n"+mozL10n.get("error_line",{line:t.lineNumber},"Line: {{line}}"))));var i=document.getElementById("errorWrapper");i.removeAttribute("hidden");var r=document.getElementById("errorMessage");r.textContent=e;var a=document.getElementById("errorClose");a.onclick=function(){i.setAttribute("hidden","true")};var o=document.getElementById("errorMoreInfo"),s=document.getElementById("errorShowMore"),l=document.getElementById("errorShowLess");s.onclick=function(){o.removeAttribute("hidden"),s.setAttribute("hidden","true"),l.removeAttribute("hidden"),o.style.height=o.scrollHeight+"px"},l.onclick=function(){o.setAttribute("hidden","true"),s.removeAttribute("hidden"),l.setAttribute("hidden","true")},s.oncontextmenu=noContextMenuHandler,l.oncontextmenu=noContextMenuHandler,a.oncontextmenu=noContextMenuHandler,s.removeAttribute("hidden"),l.setAttribute("hidden","true"),o.value=n},progress:function(e){var t=Math.round(100*e);t>PDFView.loadingBar.percent&&(PDFView.loadingBar.percent=t)},load:function(e,t){function n(e,t){e.onAfterDraw=function(){r||(r=!0,a()),t.setImage(e.canvas)}}var i=this,r=!1,a=null,o=new Promise(function(e){a=e});PDFFindController.reset(),this.pdfDocument=e;var s=document.getElementById("errorWrapper");s.setAttribute("hidden","true"),e.getDownloadInfo().then(function(){PDFView.loadingBar.hide();var e=document.getElementById("outerContainer");e.classList.remove("loadingInProgress")});var l=document.getElementById("thumbnailView");for(l.parentNode.scrollTop=0;l.hasChildNodes();)l.removeChild(l.lastChild);"_loadingInterval"in l&&clearInterval(l._loadingInterval);for(var c=document.getElementById("viewer");c.hasChildNodes();)c.removeChild(c.lastChild);var h=e.numPages,d=e.fingerprint;document.getElementById("numPages").textContent=mozL10n.get("page_of",{pageCount:h},"of {{pageCount}}"),document.getElementById("pageNumber").max=h;var u=PDFView.prefs=new Preferences;PDFView.documentFingerprint=d;var f=PDFView.store=new ViewHistory(d);this.pageRotation=0;var p,g=this.pages=[],m=this.pagesRefMap={},v=this.thumbnails=[],A=new Promise(function(e){p=e});this.pagesPromise=A;var b=e.getPage(1);
b.then(function(r){for(var a=r.getViewport((t||1)*CSS_UNITS),s=1;s<=h;++s){var d=a.clone(),u=new PageView(c,s,t,i.navigateTo.bind(i),d),f=new ThumbnailView(l,s,d);n(u,f),g.push(u),v.push(f)}o.then(function(){if(PDFJS.disableAutoFetch)p();else for(var t=h,n=1;n<=h;++n)e.getPage(n).then(function(e,n){var i=g[e-1];i.pdfPage||i.setPdfPage(n);var r=n.ref.num+" "+n.ref.gen+" R";m[r]=e,t--,t||p()}.bind(null,n))});var A=document.createEvent("CustomEvent");A.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(A),PDFView.loadingBar.setWidth(c),PDFFindController.resolveFirstPage()});var w=u.initializedPromise,P=f.initializedPromise;Promise.all([b,w,P]).then(function(){var e=u.get("showPreviousViewOnLoad"),n=u.get("defaultZoomValue"),r=null;if(e&&f.get("exists",!1)){var a=f.get("page","1"),o=n||f.get("zoom",PDFView.currentScale),s=f.get("scrollLeft","0"),l=f.get("scrollTop","0");r="page="+a+"&zoom="+o+","+s+","+l}else n&&(r="page=1&zoom="+n);PDFHistory.initialize(i.documentFingerprint),i.setInitialView(r,t),i.isViewerEmbedded||i.container.focus()}),A.then(function(){PDFView.supportsPrinting&&e.getJavaScript().then(function(e){e.length&&(console.warn("Warning: JavaScript is not supported"),PDFView.fallback(PDFJS.UNSUPPORTED_FEATURES.javaScript));for(var t=/\bprint\s*\(/g,n=0,i=e.length;n<i;n++){var r=e[n];if(r&&t.test(r))return void setTimeout(function(){window.print()})}})});var y=this.destinationsPromise=e.getDestinations();y.then(function(e){i.destinations=e});var S=[A,y,PDFView.animationStartedPromise];Promise.all(S).then(function(){e.getOutline().then(function(e){i.outline=new DocumentOutlineView(e),document.getElementById("viewOutline").disabled=!e,e&&u.get("ifAvailableShowOutlineOnLoad")&&(i.sidebarOpen||document.getElementById("sidebarToggle").click(),i.switchSidebarView("outline"))})}),e.getMetadata().then(function(t){var n=t.info,r=t.metadata;i.documentInfo=n,i.metadata=r,console.log("PDF "+e.fingerprint+" ["+n.PDFFormatVersion+" "+(n.Producer||"-")+" / "+(n.Creator||"-")+"]"+(PDFJS.version?" (PDF.js: "+PDFJS.version+")":""));var a;r&&r.has("dc:title")&&(a=r.get("dc:title")),!a&&n&&n.Title&&(a=n.Title),a&&i.setTitle(a+" - "+document.title),n.IsAcroFormPresent&&(console.warn("Warning: AcroForm/XFA is not supported"),PDFView.fallback(PDFJS.UNSUPPORTED_FEATURES.forms))})},setInitialView:function(e,t){this.currentScale=0,this.currentScaleValue=null,document.getElementById("pageNumber").value=currentPageNumber=1,this.currentPosition=null,PDFHistory.initialDestination?(this.navigateTo(PDFHistory.initialDestination),PDFHistory.initialDestination=null):this.initialBookmark?(this.setHash(this.initialBookmark),PDFHistory.push({hash:this.initialBookmark},!!this.initialBookmark),this.initialBookmark=null):e?this.setHash(e):t&&(this.setScale(t,!0),this.page=1),PDFView.currentScale===UNKNOWN_SCALE&&this.setScale(DEFAULT_SCALE,!0)},renderHighestPriority:function(){PDFView.idleTimeout&&(clearTimeout(PDFView.idleTimeout),PDFView.idleTimeout=null);var e=this.getVisiblePages(),t=this.getHighestPriority(e,this.pages,this.pageViewScroll.down);if(t)return void this.renderView(t,"page");if(this.sidebarOpen){var n=this.getVisibleThumbs(),i=this.getHighestPriority(n,this.thumbnails,this.thumbnailViewScroll.down);if(i)return void this.renderView(i,"thumbnail")}PDFView.idleTimeout=setTimeout(function(){PDFView.cleanup()},CLEANUP_TIMEOUT)},cleanup:function(){for(var e=0,t=this.pages.length;e<t;e++)this.pages[e]&&this.pages[e].renderingState!==RenderingStates.FINISHED&&this.pages[e].reset();this.pdfDocument.cleanup()},getHighestPriority:function(e,t,n){var i=e.views,r=i.length;if(0===r)return!1;for(var a=0;a<r;++a){var o=i[a].view;if(!this.isViewFinished(o))return o}if(n){var s=e.last.id;if(t[s]&&!this.isViewFinished(t[s]))return t[s]}else{var l=e.first.id-2;if(t[l]&&!this.isViewFinished(t[l]))return t[l]}return!1},isViewFinished:function(e){return e.renderingState===RenderingStates.FINISHED},renderView:function(e,t){var n=e.renderingState;switch(n){case RenderingStates.FINISHED:return!1;case RenderingStates.PAUSED:PDFView.highestPriorityPage=t+e.id,e.resume();break;case RenderingStates.RUNNING:PDFView.highestPriorityPage=t+e.id;break;case RenderingStates.INITIAL:PDFView.highestPriorityPage=t+e.id,e.draw(this.renderHighestPriority.bind(this))}return!0},setHash:function(e){if(e)if(e.indexOf("=")>=0){var t=PDFView.parseQueryString(e);if("nameddest"in t)return PDFHistory.updateNextHashParam(t.nameddest),void PDFView.navigateTo(t.nameddest);var n,i;if("page"in t&&(n=0|t.page||1),"zoom"in t){var r=t.zoom.split(","),a=r[0],o=parseFloat(a);o&&(a=o/100),i=[null,{name:"XYZ"},r.length>1?0|r[1]:null,r.length>2?0|r[2]:null,a]}if(i){var s=this.pages[(n||this.page)-1];s.scrollIntoView(i)}else n&&(this.page=n);if("pagemode"in t){var l=document.getElementById("sidebarToggle");"thumbs"===t.pagemode||"bookmarks"===t.pagemode?(this.sidebarOpen||l.click(),this.switchSidebarView("thumbs"===t.pagemode?"thumbs":"outline")):"none"===t.pagemode&&this.sidebarOpen&&l.click()}}else/^\d+$/.test(e)?this.page=e:(PDFHistory.updateNextHashParam(unescape(e)),PDFView.navigateTo(unescape(e)))},switchSidebarView:function(e){var t=document.getElementById("thumbnailView"),n=document.getElementById("outlineView"),i=document.getElementById("viewThumbnail"),r=document.getElementById("viewOutline");switch(e){case"thumbs":var a=t.classList.contains("hidden");i.classList.add("toggled"),r.classList.remove("toggled"),t.classList.remove("hidden"),n.classList.add("hidden"),PDFView.renderHighestPriority(),a&&scrollIntoView(document.getElementById("thumbnailContainer"+this.page));break;case"outline":if(i.classList.remove("toggled"),r.classList.add("toggled"),t.classList.add("hidden"),n.classList.remove("hidden"),r.getAttribute("disabled"))return}},getVisiblePages:function(){return this.getVisibleElements(this.container,this.pages,!PresentationMode.active)},getVisibleThumbs:function(){return this.getVisibleElements(this.thumbnailContainer,this.thumbnails)},getVisibleElements:function(e,t,n){for(var i,r,a,o,s,l,c,h=e.scrollTop,d=h+e.clientHeight,u=e.scrollLeft,f=u+e.clientWidth,p=[],g=0,m=t.length;g<m;++g)if(i=t[g],r=i.el.offsetTop+i.el.clientTop,a=i.el.clientHeight,!(r+a<h)){if(r>d)break;l=i.el.offsetLeft+i.el.clientLeft,c=i.el.clientWidth,l+c<u||l>f||(o=Math.max(0,h-r)+Math.max(0,r+a-d),s=100*(a-o)/a|0,p.push({id:i.id,x:l,y:r,view:i,percent:s}))}var v=p[0],A=p[p.length-1];return n&&p.sort(function(e,t){var n=e.percent-t.percent;return Math.abs(n)>.001?-n:e.id-t.id}),{first:v,last:A,views:p}},parseQueryString:function(e){var t=e.split("&"),n={},i=0;for(t.length;i<t.length;++i){var r=t[i].split("="),a=r[0],o=r.length>1?r[1]:null;n[decodeURIComponent(a)]=decodeURIComponent(o)}return n},beforePrint:function(){if(!this.supportsPrinting){var e=mozL10n.get("printing_not_supported",null,"Warning: Printing is not fully supported by this browser.");return void this.error(e)}var t=!1;if(this.pages.length){for(var n=0,i=this.pages.length;n<i;++n)if(!this.pages[n].pdfPage){t=!0;break}}else t=!0;if(t){var r=mozL10n.get("printing_not_ready",null,"Warning: The PDF is not fully loaded for printing.");return void window.alert(r)}var a=document.querySelector("body");a.setAttribute("data-mozPrintCallback",!0);for(var n=0,i=this.pages.length;n<i;++n)this.pages[n].beforePrint()},afterPrint:function(){for(var e=document.getElementById("printContainer");e.hasChildNodes();)e.removeChild(e.lastChild)},rotatePages:function(e){var t=this.pages[this.page-1];this.pageRotation=(this.pageRotation+360+e)%360;for(var n=0,i=this.pages.length;n<i;n++){var r=this.pages[n];r.update(r.scale,this.pageRotation)}for(var n=0,i=this.thumbnails.length;n<i;n++){var a=this.thumbnails[n];a.update(this.pageRotation)}this.setScale(this.currentScaleValue,!0,!0),this.renderHighestPriority(),t&&t.scrollIntoView()},mouseScroll:function(e){var t=50,n=(new Date).getTime(),i=this.mouseScrollTimeStamp;if(!(n>i&&n-i<t)){(this.mouseScrollDelta>0&&e<0||this.mouseScrollDelta<0&&e>0)&&this.clearMouseScrollState(),this.mouseScrollDelta+=e;var r=120;if(Math.abs(this.mouseScrollDelta)>=r){var a={UP:-1,DOWN:1},o=this.mouseScrollDelta>0?a.UP:a.DOWN;this.clearMouseScrollState();var s=this.page;if(1==s&&o==a.UP||s==this.pages.length&&o==a.DOWN)return;this.page+=o,this.mouseScrollTimeStamp=n}}},clearMouseScrollState:function(){this.mouseScrollTimeStamp=0,this.mouseScrollDelta=0}},PageView=function(e,t,n,i,r){function a(e,t,n){function i(e,t){e.href=PDFView.getDestinationHash(t),e.onclick=function(){return t&&PDFView.navigateTo(t),!1},t&&(e.className="internalLink")}function r(e,t){e.href=PDFView.getAnchorUrl(""),e.onclick=function(){switch(t){case"GoToPage":document.getElementById("pageNumber").focus();break;case"GoBack":PDFHistory.back();break;case"GoForward":PDFHistory.forward();break;case"Find":PDFView.supportsIntegratedFind||PDFFindBar.toggle();break;case"NextPage":PDFView.page++;break;case"PrevPage":PDFView.page--;break;case"LastPage":PDFView.page=PDFView.pages.length;break;case"FirstPage":PDFView.page=1}return!1},e.className="internalLink"}t.getAnnotations().then(function(a){l.annotationLayer&&(e.removeChild(l.annotationLayer),l.annotationLayer=null),n=n.clone({dontFlip:!0});for(var o=0;o<a.length;o++){var s=a[o],c=PDFJS.Annotation.fromData(s);if(c&&c.hasHtml()){var h=c.getHtmlElement(t.commonObjs);mozL10n.translate(h),s=c.getData();var d=s.rect,u=t.view;d=PDFJS.Util.normalizeRect([d[0],u[3]-d[1]+u[1],d[2],u[3]-d[3]+u[1]]),h.style.left=d[0]+"px",h.style.top=d[1]+"px",h.style.position="absolute";var f=n.transform,p="matrix("+f.join(",")+")";CustomStyle.setProp("transform",h,p);var g=-d[0]+"px "+-d[1]+"px";if(CustomStyle.setProp("transformOrigin",h,g),"Link"!==s.subtype||s.url||(s.action?r(h,s.action):i(h,"dest"in s?s.dest:null)),!l.annotationLayer){var m=document.createElement("div");m.className="annotationLayer",e.appendChild(m),l.annotationLayer=m}l.annotationLayer.appendChild(h)}}})}this.id=t,this.rotation=0,this.scale=n||1,this.viewport=r,this.pdfPageRotate=r.rotation,this.renderingState=RenderingStates.INITIAL,this.resume=null,this.textLayer=null,this.zoomLayer=null,this.annotationLayer=null;var o=document.createElement("a");o.name=""+this.id;var s=this.el=document.createElement("div");s.id="pageContainer"+this.id,s.className="page",s.style.width=Math.floor(this.viewport.width)+"px",s.style.height=Math.floor(this.viewport.height)+"px",e.appendChild(o),e.appendChild(s),this.setPdfPage=function(e){this.pdfPage=e,this.pdfPageRotate=e.rotate;var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport(this.scale*CSS_UNITS,t),this.stats=e.stats,this.reset()},this.destroy=function(){this.zoomLayer=null,this.reset(),this.pdfPage&&this.pdfPage.destroy()},this.reset=function(){this.renderTask&&this.renderTask.cancel(),this.resume=null,this.renderingState=RenderingStates.INITIAL,s.style.width=Math.floor(this.viewport.width)+"px",s.style.height=Math.floor(this.viewport.height)+"px";for(var e=s.childNodes,t=s.childNodes.length-1;t>=0;t--){var n=e[t];this.zoomLayer&&this.zoomLayer===n||s.removeChild(n)}s.removeAttribute("data-loaded"),this.annotationLayer=null,delete this.canvas,this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",s.appendChild(this.loadingIconDiv)},this.update=function(e,t){this.scale=e||this.scale,"undefined"!=typeof t&&(this.rotation=t);var n=(this.rotation+this.pdfPageRotate)%360;return this.viewport=this.viewport.clone({scale:this.scale*CSS_UNITS,rotation:n}),USE_ONLY_CSS_ZOOM&&this.canvas?void this.cssTransform(this.canvas):(this.canvas&&!this.zoomLayer&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute"),this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),void this.reset())},this.cssTransform=function(e){var t=this.viewport.width,n=this.viewport.height;e.style.width=e.parentNode.style.width=s.style.width=Math.floor(t)+"px",e.style.height=e.parentNode.style.height=s.style.height=Math.floor(n)+"px";var i=this.viewport.rotation-e._viewport.rotation,r=Math.abs(i),o=1,l=1;90!==r&&270!==r||(o=n/t,l=t/n);var c="rotate("+i+"deg) scale("+o+","+l+")";if(CustomStyle.setProp("transform",e,c),this.textLayer){var h=this.viewport.rotation-this.textLayer.viewport.rotation,d=Math.abs(h),u=t/e.width;90!==d&&270!==d||(u=t/e.height);var f,p,g=this.textLayer.textLayerDiv;switch(d){case 0:f=p=0;break;case 90:f=0,p="-"+g.style.height;break;case 180:f="-"+g.style.width,p="-"+g.style.height;break;case 270:f="-"+g.style.width,p=0;break;default:console.error("Bad rotation value.")}CustomStyle.setProp("transform",g,"rotate("+d+"deg) scale("+u+", "+u+") translate("+f+", "+p+")"),CustomStyle.setProp("transformOrigin",g,"0% 0%")}USE_ONLY_CSS_ZOOM&&this.annotationLayer&&a(s,this.pdfPage,this.viewport)},Object.defineProperty(this,"width",{get:function(){return this.viewport.width},enumerable:!0}),Object.defineProperty(this,"height",{get:function(){return this.viewport.height},enumerable:!0});var l=this;this.getPagePoint=function(e,t){return this.viewport.convertToPdfPoint(e,t)},this.scrollIntoView=function(e){if(PresentationMode.active&&(e=null,PDFView.setScale(PDFView.currentScaleValue,!0,!0)),!e)return void scrollIntoView(s);var t,n,i=0,r=0,a=0,o=0,l=!!(this.rotation%180),c=(l?this.height:this.width)/this.scale/CSS_UNITS,h=(l?this.width:this.height)/this.scale/CSS_UNITS,d=0;switch(e[1].name){case"XYZ":i=e[2],r=e[3],d=e[4],i=null!==i?i:0,r=null!==r?r:h;break;case"Fit":case"FitB":d="page-fit";break;case"FitH":case"FitBH":r=e[2],d="page-width";break;case"FitV":case"FitBV":i=e[2],a=c,o=h,d="page-height";break;case"FitR":i=e[2],r=e[3],a=e[4]-i,o=e[5]-r,t=(PDFView.container.clientWidth-SCROLLBAR_PADDING)/a/CSS_UNITS,n=(PDFView.container.clientHeight-SCROLLBAR_PADDING)/o/CSS_UNITS,d=Math.min(Math.abs(t),Math.abs(n));break;default:return}if(d&&d!==PDFView.currentScale?PDFView.setScale(d,!0,!0):PDFView.currentScale===UNKNOWN_SCALE&&PDFView.setScale(DEFAULT_SCALE,!0,!0),"page-fit"===d&&!e[4])return void scrollIntoView(s);var u=[this.viewport.convertToViewportPoint(i,r),this.viewport.convertToViewportPoint(i+a,r+o)],f=Math.min(u[0][0],u[1][0]),p=Math.min(u[0][1],u[1][1]);scrollIntoView(s,{left:f,top:p})},this.getTextContent=function(){return PDFView.getPage(this.id).then(function(e){return e.getTextContent()})},this.draw=function(e){function t(t){if(v===g.renderTask&&(g.renderTask=null),"cancelled"!==t){g.renderingState=RenderingStates.FINISHED,g.loadingIconDiv&&(s.removeChild(g.loadingIconDiv),delete g.loadingIconDiv),g.zoomLayer&&(s.removeChild(g.zoomLayer),g.zoomLayer=null),t&&PDFView.error(mozL10n.get("rendering_error",null,"An error occurred while rendering the page."),t),g.stats=n.stats,g.updateStats(),g.onAfterDraw&&g.onAfterDraw(),cache.push(g);var i=document.createEvent("CustomEvent");i.initCustomEvent("pagerender",!0,!0,{pageNumber:n.pageNumber}),s.dispatchEvent(i),e()}}var n=this.pdfPage;if(!this.pagePdfPromise){if(!n){var i=PDFView.getPage(this.id);return i.then(function(t){delete this.pagePdfPromise,this.setPdfPage(t),this.draw(e)}.bind(this)),void(this.pagePdfPromise=i)}this.renderingState!==RenderingStates.INITIAL&&console.error("Must be in new state before drawing"),this.renderingState=RenderingStates.RUNNING;var r=this.viewport,o=document.createElement("div");o.style.width=s.style.width,o.style.height=s.style.height,o.classList.add("canvasWrapper");var l=document.createElement("canvas");l.id="page"+this.id,o.appendChild(l),s.appendChild(o),this.canvas=l;var c=(this.scale,l.getContext("2d")),h=getOutputScale(c);if(USE_ONLY_CSS_ZOOM){var d=r.clone({scale:CSS_UNITS});h.sx*=d.width/r.width,h.sy*=d.height/r.height,h.scaled=!0}l.width=Math.floor(r.width)*h.sx|0,l.height=Math.floor(r.height)*h.sy|0,l.style.width=Math.floor(r.width)+"px",l.style.height=Math.floor(r.height)+"px",l._viewport=r;var u=null;PDFJS.disableTextLayer||(u=document.createElement("div"),u.className="textLayer",u.style.width=l.width+"px",u.style.height=l.height+"px",s.appendChild(u));var f=this.textLayer=u?new TextLayerBuilder({textLayerDiv:u,pageIndex:this.id-1,lastScrollSource:PDFView,viewport:this.viewport,isViewerInPresentationMode:PresentationMode.active}):null;if(c._scaleX=h.sx,c._scaleY=h.sy,h.scaled&&c.scale(h.sx,h.sy),h.scaled&&u){var p="scale("+1/h.sx+", "+1/h.sy+")";CustomStyle.setProp("transform",u,p),CustomStyle.setProp("transformOrigin",u,"0% 0%"),u.dataset._scaleX=h.sx,u.dataset._scaleY=h.sy}var g=this,m={canvasContext:c,viewport:this.viewport,textLayer:f,continueCallback:function(e){return PDFView.highestPriorityPage!=="page"+g.id?(g.renderingState=RenderingStates.PAUSED,void(g.resume=function(){g.renderingState=RenderingStates.RUNNING,e()})):void e()}},v=this.renderTask=this.pdfPage.render(m);this.renderTask.promise.then(function(){t(null)},function(e){t(e)}),f&&this.getTextContent().then(function(e){f.setTextContent(e)}),a(s,n,this.viewport),s.setAttribute("data-loaded",!0)}},this.beforePrint=function(){var e=this.pdfPage,t=e.getViewport(1),n=2,i=document.createElement("canvas");i.width=Math.floor(t.width)*n,i.height=Math.floor(t.height)*n,i.style.width=n*t.width+"pt",i.style.height=n*t.height+"pt";var r="scale("+1/n+", "+1/n+")";CustomStyle.setProp("transform",i,r),CustomStyle.setProp("transformOrigin",i,"0% 0%");var a=document.getElementById("printContainer"),o=document.createElement("div");o.style.width=t.width+"pt",o.style.height=t.height+"pt",o.appendChild(i),a.appendChild(o);var s=this;i.mozPrintCallback=function(r){var a=r.context;a.save(),a.fillStyle="rgb(255, 255, 255)",a.fillRect(0,0,i.width,i.height),a.restore(),a.scale(n,n);var o={canvasContext:a,viewport:t};e.render(o).promise.then(function(){r.done(),s.pdfPage.destroy()},function(e){console.error(e),"abort"in r?r.abort():r.done(),s.pdfPage.destroy()})}},this.updateStats=function(){if(this.stats&&PDFJS.pdfBug&&Stats.enabled){var e=this.stats;Stats.add(this.id,e)}}},ThumbnailView=function(e,t,n){var i=document.createElement("a");i.href=PDFView.getAnchorUrl("#page="+t),i.title=mozL10n.get("thumb_page_title",{page:t},"Page {{page}}"),i.onclick=function(){return PDFView.page=t,!1},this.pdfPage=void 0,this.viewport=n,this.pdfPageRotate=n.rotation,this.rotation=0,this.pageWidth=this.viewport.width,this.pageHeight=this.viewport.height,this.pageRatio=this.pageWidth/this.pageHeight,this.id=t,this.canvasWidth=98,this.canvasHeight=this.canvasWidth/this.pageWidth*this.pageHeight,this.scale=this.canvasWidth/this.pageWidth;var r=this.el=document.createElement("div");r.id="thumbnailContainer"+t,r.className="thumbnail",1===t&&r.classList.add("selected");var a=document.createElement("div");a.className="thumbnailSelectionRing",a.style.width=this.canvasWidth+"px",a.style.height=this.canvasHeight+"px",r.appendChild(a),i.appendChild(r),e.appendChild(i),this.hasImage=!1,this.renderingState=RenderingStates.INITIAL,this.setPdfPage=function(e){this.pdfPage=e,this.pdfPageRotate=e.rotate;var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport(1,t),this.update()},this.update=function(e){void 0!==e&&(this.rotation=e);var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:1,rotation:t}),this.pageWidth=this.viewport.width,this.pageHeight=this.viewport.height,this.pageRatio=this.pageWidth/this.pageHeight,this.canvasHeight=this.canvasWidth/this.pageWidth*this.pageHeight,this.scale=this.canvasWidth/this.pageWidth,r.removeAttribute("data-loaded"),a.textContent="",a.style.width=this.canvasWidth+"px",a.style.height=this.canvasHeight+"px",this.hasImage=!1,this.renderingState=RenderingStates.INITIAL,this.resume=null},this.getPageDrawContext=function(){var e=document.createElement("canvas");e.id="thumbnail"+t,e.width=this.canvasWidth,e.height=this.canvasHeight,e.className="thumbnailImage",e.setAttribute("aria-label",mozL10n.get("thumb_page_canvas",{page:t},"Thumbnail of Page {{page}}")),r.setAttribute("data-loaded",!0),a.appendChild(e);var n=e.getContext("2d");return n.save(),n.fillStyle="rgb(255, 255, 255)",n.fillRect(0,0,this.canvasWidth,this.canvasHeight),n.restore(),n},this.drawingRequired=function(){return!this.hasImage},this.draw=function(e){if(!this.pdfPage){var t=PDFView.getPage(this.id);return void t.then(function(t){this.setPdfPage(t),this.draw(e)}.bind(this))}if(this.renderingState!==RenderingStates.INITIAL&&console.error("Must be in new state before drawing"),this.renderingState=RenderingStates.RUNNING,this.hasImage)return void e();var n=this,i=this.getPageDrawContext(),r=this.viewport.clone({scale:this.scale}),a={canvasContext:i,viewport:r,continueCallback:function(e){return PDFView.highestPriorityPage!=="thumbnail"+n.id?(n.renderingState=RenderingStates.PAUSED,void(n.resume=function(){n.renderingState=RenderingStates.RUNNING,e()})):void e()}};this.pdfPage.render(a).promise.then(function(){n.renderingState=RenderingStates.FINISHED,e()},function(t){n.renderingState=RenderingStates.FINISHED,e()}),this.hasImage=!0},this.setImage=function(e){if(!this.pdfPage){var t=PDFView.getPage(this.id);return void t.then(function(t){this.setPdfPage(t),this.setImage(e)}.bind(this))}if(!this.hasImage&&e){this.renderingState=RenderingStates.FINISHED;var n=this.getPageDrawContext();n.drawImage(e,0,0,e.width,e.height,0,0,n.canvas.width,n.canvas.height),this.hasImage=!0}}},FIND_SCROLL_OFFSET_TOP=-50,FIND_SCROLL_OFFSET_LEFT=-400,TextLayerBuilder=function(e){var t=document.createDocumentFragment();this.textLayerDiv=e.textLayerDiv,this.layoutDone=!1,this.divContentDone=!1,this.pageIdx=e.pageIndex,this.matches=[],this.lastScrollSource=e.lastScrollSource,this.viewport=e.viewport,this.isViewerInPresentationMode=e.isViewerInPresentationMode,"undefined"==typeof PDFFindController&&(window.PDFFindController=null),"undefined"==typeof this.lastScrollSource&&(this.lastScrollSource=null),this.beginLayout=function(){this.textDivs=[],this.renderingDone=!1},this.endLayout=function(){this.layoutDone=!0,this.insertDivContent()},this.renderLayer=function(){var e=this.textDivs,n=(this.textContent,this.textLayerDiv),i=document.createElement("canvas"),r=i.getContext("2d"),a=1e5;if(!(e.length>a)){for(var o=0,s=e.length;o<s;o++){var l=e[o];if(!("isWhitespace"in l.dataset)){r.font=l.style.fontSize+" "+l.style.fontFamily;var c=r.measureText(l.textContent).width;if(c>0){t.appendChild(l);var h=l.dataset.canvasWidth/c,d=l.dataset.angle,u="scale("+h+", 1)";u="rotate("+d+"deg) "+u,CustomStyle.setProp("transform",l,u),CustomStyle.setProp("transformOrigin",l,"0% 0%")}}}n.appendChild(t),this.renderingDone=!0,this.updateMatches()}},this.setupRenderLayoutTimer=function(){var e=200,t=this,n=null===this.lastScrollSource?0:this.lastScrollSource.lastScroll;Date.now()-n>e?this.renderLayer():(this.renderTimer&&clearTimeout(this.renderTimer),this.renderTimer=setTimeout(function(){t.setupRenderLayoutTimer()},e))},this.appendText=function(e){var t=document.createElement("div"),n=e.fontSize*Math.abs(e.vScale);t.dataset.canvasWidth=e.canvasWidth*Math.abs(e.hScale),t.dataset.fontName=e.fontName,t.dataset.angle=e.angle*(180/Math.PI),t.style.fontSize=n+"px",t.style.fontFamily=e.fontFamily;var i=e.ascent?e.ascent*n:e.descent?(1+e.descent)*n:n;t.style.left=e.x+i*Math.sin(e.angle)+"px",t.style.top=e.y-i*Math.cos(e.angle)+"px",this.textDivs.push(t)},this.insertDivContent=function(){if(this.layoutDone&&!this.divContentDone&&this.textContent){this.divContentDone=!0;for(var e=this.textDivs,t=this.textContent,n=0;n<t.length;n++){var i=t[n],r=e[n];/\S/.test(i.str)?(r.textContent=i.str,r.dir=i.dir):r.dataset.isWhitespace=!0}this.setupRenderLayoutTimer()}},this.setTextContent=function(e){this.textContent=e,this.insertDivContent()},this.convertMatches=function(e){for(var t=0,n=0,i=this.textContent,r=i.length-1,a=null===PDFFindController?0:PDFFindController.state.query.length,o=[],s=0;s<e.length;s++){for(var l=e[s];t!==r&&l>=n+i[t].str.length;)n+=i[t].str.length,t++;t==i.length&&console.error("Could not find matching mapping");var c={begin:{divIdx:t,offset:l-n}};for(l+=a;t!==r&&l>n+i[t].str.length;)n+=i[t].str.length,t++;c.end={divIdx:t,offset:l-n},o.push(c)}return o},this.renderMatches=function(e){function t(e,t){var n=e.divIdx,i=o[n];i.textContent="";var r=a[n].str.substring(0,e.offset),s=document.createTextNode(r);if(t){var h=l&&n===c,d=document.createElement("span");return d.className=t+(h?" selected":""),d.appendChild(s),void i.appendChild(d)}i.appendChild(s)}function n(e,t,n){var i=e.divIdx,r=o[i],s=a[i].str.substring(e.offset,t.offset),l=document.createTextNode(s);if(n){var c=document.createElement("span");return c.className=n,c.appendChild(l),void r.appendChild(c)}r.appendChild(l)}function i(e,t){o[e].className=t}if(0!==e.length){var r,a=this.textContent,o=this.textDivs,s=null,l=null!==PDFFindController&&this.pageIdx===PDFFindController.selected.pageIdx,c=null===PDFFindController?-1:PDFFindController.selected.matchIdx,h=null!==PDFFindController&&PDFFindController.state.highlightAll,d={divIdx:-1,offset:void 0},u=c,f=u+1;if(h)u=0,f=e.length;else if(!l)return;for(r=u;r<f;r++){var p=e[r],g=p.begin,m=p.end,v=l&&r===c,A=v?" selected":"";if(v&&!this.isViewerInPresentationMode&&scrollIntoView(o[g.divIdx],{top:FIND_SCROLL_OFFSET_TOP,left:FIND_SCROLL_OFFSET_LEFT}),s&&g.divIdx===s.divIdx?n(s,g):(null!==s&&n(s,d),t(g)),g.divIdx===m.divIdx)n(g,m,"highlight"+A);else{n(g,d,"highlight begin"+A);for(var b=g.divIdx+1;b<m.divIdx;b++)i(b,"highlight middle"+A);t(m,"highlight end"+A)}s=m}s&&n(s,d)}},this.updateMatches=function(){if(this.renderingDone){for(var e=this.matches,t=this.textDivs,n=this.textContent,i=-1,r=0;r<e.length;r++){for(var a=e[r],o=Math.max(i,a.begin.divIdx),s=o;s<=a.end.divIdx;s++){var l=t[s];l.textContent=n[s].str,l.className=""}i=a.end.divIdx+1}null!==PDFFindController&&PDFFindController.active&&(this.matches=e=this.convertMatches(null===PDFFindController?[]:PDFFindController.pageMatches[this.pageIdx]||[]),this.renderMatches(this.matches))}}},DocumentOutlineView=function(e){function t(e,t){e.href=PDFView.getDestinationHash(t.dest),e.onclick=function(e){return PDFView.navigateTo(t.dest),!1}}var n=document.getElementById("outlineView");for(document.getElementById("viewOutline");n.firstChild;)n.removeChild(n.firstChild);if(!e)return void(n.classList.contains("hidden")||PDFView.switchSidebarView("thumbs"));for(var i=[{parent:n,items:e}];i.length>0;){var r,a=i.shift(),o=a.items.length;for(r=0;r<o;r++){var s=a.items[r],l=document.createElement("div");l.className="outlineItem";var c=document.createElement("a");if(t(c,s),c.textContent=s.title,l.appendChild(c),s.items.length>0){var h=document.createElement("div");h.className="outlineItems",l.appendChild(h),i.push({parent:h,items:s.items})}a.parent.appendChild(l)}}};document.addEventListener("DOMContentLoaded",function(e){PDFView.initialize();var t=PDFView.parseQueryString(document.location.search.substring(1)),n=t.file||DEFAULT_URL,i=document.createElement("input");i.id="fileInput",i.className="fileInput",i.setAttribute("type","file"),i.oncontextmenu=noContextMenuHandler,document.body.appendChild(i),window.File&&window.FileReader&&window.FileList&&window.Blob?document.getElementById("fileInput").value=null:(document.getElementById("openFile").setAttribute("hidden","true"),document.getElementById("secondaryOpenFile").setAttribute("hidden","true"));var r=document.location.hash.substring(1),a=PDFView.parseQueryString(r);"disableWorker"in a&&(PDFJS.disableWorker="true"===a.disableWorker),"disableRange"in a&&(PDFJS.disableRange="true"===a.disableRange),"disableAutoFetch"in a&&(PDFJS.disableAutoFetch="true"===a.disableAutoFetch),"disableFontFace"in a&&(PDFJS.disableFontFace="true"===a.disableFontFace),"disableHistory"in a&&(PDFJS.disableHistory="true"===a.disableHistory),"useOnlyCssZoom"in a&&(USE_ONLY_CSS_ZOOM="true"===a.useOnlyCssZoom),"verbosity"in a&&(PDFJS.verbosity=0|a.verbosity),"ignoreCurrentPositionOnZoom"in a&&(IGNORE_CURRENT_POSITION_ON_ZOOM="true"===a.ignoreCurrentPositionOnZoom);var o=navigator.language;if("locale"in a&&(o=a.locale),mozL10n.setLanguage(o),"textLayer"in a)switch(a.textLayer){case"off":PDFJS.disableTextLayer=!0;break;case"visible":case"shadow":case"hover":var s=document.getElementById("viewer");s.classList.add("textLayer-"+a.textLayer)}if("pdfBug"in a){PDFJS.pdfBug=!0;var l=a.pdfBug,c=l.split(",");PDFBug.enable(c),PDFBug.init()}PDFView.supportsPrinting||(document.getElementById("print").classList.add("hidden"),document.getElementById("secondaryPrint").classList.add("hidden")),PDFView.supportsFullscreen||(document.getElementById("presentationMode").classList.add("hidden"),document.getElementById("secondaryPresentationMode").classList.add("hidden")),PDFView.supportsIntegratedFind&&document.getElementById("viewFind").classList.add("hidden"),PDFJS.UnsupportedManager.listen(PDFView.fallback.bind(PDFView)),document.getElementById("scaleSelect").oncontextmenu=noContextMenuHandler;var h=document.getElementById("mainContainer"),d=document.getElementById("outerContainer");h.addEventListener("transitionend",function(e){if(e.target==h){var t=document.createEvent("UIEvents");t.initUIEvent("resize",!1,!1,window,0),window.dispatchEvent(t),d.classList.remove("sidebarMoving")}},!0),document.getElementById("sidebarToggle").addEventListener("click",function(){this.classList.toggle("toggled"),d.classList.add("sidebarMoving"),d.classList.toggle("sidebarOpen"),PDFView.sidebarOpen=d.classList.contains("sidebarOpen"),PDFView.renderHighestPriority()}),document.getElementById("viewThumbnail").addEventListener("click",function(){PDFView.switchSidebarView("thumbs")}),document.getElementById("viewOutline").addEventListener("click",function(){PDFView.switchSidebarView("outline")}),document.getElementById("previous").addEventListener("click",function(){PDFView.page--}),document.getElementById("next").addEventListener("click",function(){PDFView.page++}),document.getElementById("zoomIn").addEventListener("click",function(){PDFView.zoomIn()}),document.getElementById("zoomOut").addEventListener("click",function(){PDFView.zoomOut()}),document.getElementById("pageNumber").addEventListener("click",function(){this.select()}),document.getElementById("pageNumber").addEventListener("change",function(){PDFView.page=0|this.value,this.value!==(0|this.value).toString()&&(this.value=PDFView.page)}),document.getElementById("scaleSelect").addEventListener("change",function(){PDFView.setScale(this.value)}),document.getElementById("presentationMode").addEventListener("click",SecondaryToolbar.presentationModeClick.bind(SecondaryToolbar)),document.getElementById("openFile").addEventListener("click",SecondaryToolbar.openFileClick.bind(SecondaryToolbar)),document.getElementById("print").addEventListener("click",SecondaryToolbar.printClick.bind(SecondaryToolbar)),document.getElementById("download").addEventListener("click",SecondaryToolbar.downloadClick.bind(SecondaryToolbar)),PDFView.open(n,0)},!0),window.addEventListener("resize",function(e){PDFView.initialized&&(document.getElementById("pageWidthOption").selected||document.getElementById("pageFitOption").selected||document.getElementById("pageAutoOption").selected)&&PDFView.setScale(document.getElementById("scaleSelect").value),updateViewarea(),SecondaryToolbar.setMaxHeight(PDFView.container)}),window.addEventListener("hashchange",function(e){PDFHistory.isHashChangeUnlocked&&PDFView.setHash(document.location.hash.substring(1))}),window.addEventListener("change",function(e){var t=e.target.files;if(t&&0!==t.length){var n=t[0];if(!PDFJS.disableCreateObjectURL&&"undefined"!=typeof URL&&URL.createObjectURL)PDFView.open(URL.createObjectURL(n),0);else{var i=new FileReader;i.onload=function(e){var t=e.target.result,n=new Uint8Array(t);PDFView.open(n,0)},i.readAsArrayBuffer(n)}PDFView.setTitleUsingUrl(n.name),document.getElementById("viewBookmark").setAttribute("hidden","true"),document.getElementById("secondaryViewBookmark").setAttribute("hidden","true"),document.getElementById("download").setAttribute("hidden","true"),document.getElementById("secondaryDownload").setAttribute("hidden","true")}},!0),
window.addEventListener("localized",function(e){document.getElementsByTagName("html")[0].dir=mozL10n.getDirection(),PDFView.animationStartedPromise.then(function(){var e=document.getElementById("scaleSelectContainer");if(e.clientWidth>0){var t=document.getElementById("scaleSelect");t.setAttribute("style","min-width: inherit;");var n=t.clientWidth+SCALE_SELECT_CONTAINER_PADDING;t.setAttribute("style","min-width: "+(n+SCALE_SELECT_PADDING)+"px;"),e.setAttribute("style","min-width: "+n+"px; max-width: "+n+"px;")}SecondaryToolbar.setMaxHeight(PDFView.container)})},!0),window.addEventListener("scalechange",function(e){document.getElementById("zoomOut").disabled=e.scale===MIN_SCALE,document.getElementById("zoomIn").disabled=e.scale===MAX_SCALE;var t=document.getElementById("customScaleOption");if(t.selected=!1,!e.resetAutoSettings&&(document.getElementById("pageWidthOption").selected||document.getElementById("pageFitOption").selected||document.getElementById("pageAutoOption").selected))return void updateViewarea();var n=selectScaleOption(""+e.scale);n||(t.textContent=Math.round(1e4*e.scale)/100+"%",t.selected=!0),updateViewarea()},!0),window.addEventListener("pagechange",function(e){var t=e.pageNumber;if(PDFView.previousPageNumber!==t){document.getElementById("pageNumber").value=t;var n=document.querySelector(".thumbnail.selected");n&&n.classList.remove("selected");var i=document.getElementById("thumbnailContainer"+t);i.classList.add("selected");var r=PDFView.getVisibleThumbs(),a=r.views.length;if(a>0){var o=r.first.id,s=a>1?r.last.id:o;(t<=o||t>=s)&&scrollIntoView(i,{top:THUMBNAIL_SCROLL_MARGIN})}}document.getElementById("previous").disabled=t<=1,document.getElementById("next").disabled=t>=PDFView.pages.length},!0),window.addEventListener("DOMMouseScroll",handleMouseWheel),window.addEventListener("mousewheel",handleMouseWheel),window.addEventListener("click",function(e){PresentationMode.active?0===e.button&&e.preventDefault():SecondaryToolbar.opened&&PDFView.container.contains(e.target)&&SecondaryToolbar.close()},!1),window.addEventListener("keydown",function(e){if(!PasswordPrompt.visible){var t=!1,n=(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0);if(1===n||8===n||5===n||12===n)switch(e.keyCode){case 70:PDFView.supportsIntegratedFind||(PDFFindBar.open(),t=!0);break;case 71:PDFView.supportsIntegratedFind||(PDFFindBar.dispatchEvent("again",5===n||12===n),t=!0);break;case 61:case 107:case 187:case 171:PDFView.zoomIn(),t=!0;break;case 173:case 109:case 189:PDFView.zoomOut(),t=!0;break;case 48:case 96:setTimeout(function(){PDFView.setScale(DEFAULT_SCALE,!0)}),t=!1}if(3===n||10===n)switch(e.keyCode){case 80:SecondaryToolbar.presentationModeClick(),t=!0;break;case 71:document.getElementById("pageNumber").select(),t=!0}if(t)return void e.preventDefault();var i=document.activeElement||document.querySelector(":focus");if(!i||"INPUT"!==i.tagName.toUpperCase()&&"TEXTAREA"!==i.tagName.toUpperCase()&&"SELECT"!==i.tagName.toUpperCase()||27===e.keyCode){for(var r=document.getElementById("toolbar");i;){if(i===r&&!PresentationMode.active)return;i=i.parentNode}if(0===n)switch(e.keyCode){case 38:case 33:case 8:if(!PresentationMode.active&&"page-fit"!==PDFView.currentScaleValue)break;case 37:if(PDFView.isHorizontalScrollbarEnabled)break;case 75:case 80:PDFView.page--,t=!0;break;case 27:SecondaryToolbar.opened&&(SecondaryToolbar.close(),t=!0),!PDFView.supportsIntegratedFind&&PDFFindBar.opened&&(PDFFindBar.close(),t=!0);break;case 40:case 34:case 32:if(!PresentationMode.active&&"page-fit"!==PDFView.currentScaleValue)break;case 39:if(PDFView.isHorizontalScrollbarEnabled)break;case 74:case 78:PDFView.page++,t=!0;break;case 36:PresentationMode.active&&(PDFView.page=1,t=!0);break;case 35:PresentationMode.active&&(PDFView.page=PDFView.pdfDocument.numPages,t=!0);break;case 72:PresentationMode.active||HandTool.toggle();break;case 82:PDFView.rotatePages(90)}if(4===n)switch(e.keyCode){case 32:if(!PresentationMode.active&&"page-fit"!==PDFView.currentScaleValue)break;PDFView.page--,t=!0;break;case 82:PDFView.rotatePages(-90)}if(2===n)switch(e.keyCode){case 37:PresentationMode.active&&(PDFHistory.back(),t=!0);break;case 39:PresentationMode.active&&(PDFHistory.forward(),t=!0)}t&&(e.preventDefault(),PDFView.clearMouseScrollState())}}}),window.addEventListener("beforeprint",function(e){PDFView.beforePrint()}),window.addEventListener("afterprint",function(e){PDFView.afterPrint()}),function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){e()};PDFView.animationStartedPromise=new Promise(function(t){e(function(){t()})})}();